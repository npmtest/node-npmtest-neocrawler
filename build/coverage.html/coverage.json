{"/home/travis/build/npmtest/node-npmtest-neocrawler/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":46}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_neocrawler */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireExampleJsFromReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/lib.npmtest_neocrawler.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/lib.npmtest_neocrawler.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":55}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":61}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_neocrawler */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_neocrawler = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_neocrawler = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":54}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":68},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-neocrawler && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_neocrawler */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_neocrawler","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_neocrawler.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_neocrawler.rollup.js'] =","            local.assetsDict['/assets.npmtest_neocrawler.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_neocrawler.__dirname + '/lib.npmtest_neocrawler.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/run.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/run.js","s":{"1":4,"2":4,"3":4,"4":4,"5":2,"6":2,"7":4,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0},"b":{"1":[2,2],"2":[0,0],"3":[0,0],"4":[0,0,0,0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":44,"loc":{"start":{"line":44,"column":15},"end":{"line":44,"column":25}}},"2":{"name":"(anonymous_2)","line":53,"loc":{"start":{"line":53,"column":19},"end":{"line":53,"column":29}}},"3":{"name":"(anonymous_3)","line":62,"loc":{"start":{"line":62,"column":20},"end":{"line":62,"column":30}}},"4":{"name":"(anonymous_4)","line":71,"loc":{"start":{"line":71,"column":15},"end":{"line":71,"column":25}}},"5":{"name":"(anonymous_5)","line":80,"loc":{"start":{"line":80,"column":14},"end":{"line":80,"column":24}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":42}},"2":{"start":{"line":7,"column":0},"end":{"line":34,"column":7}},"3":{"start":{"line":36,"column":0},"end":{"line":36,"column":28}},"4":{"start":{"line":37,"column":0},"end":{"line":37,"column":53}},"5":{"start":{"line":37,"column":17},"end":{"line":37,"column":37}},"6":{"start":{"line":37,"column":37},"end":{"line":37,"column":52}},"7":{"start":{"line":38,"column":0},"end":{"line":38,"column":71}},"8":{"start":{"line":39,"column":0},"end":{"line":39,"column":36}},"9":{"start":{"line":41,"column":0},"end":{"line":41,"column":24}},"10":{"start":{"line":42,"column":0},"end":{"line":42,"column":59}},"11":{"start":{"line":42,"column":25},"end":{"line":42,"column":59}},"12":{"start":{"line":44,"column":0},"end":{"line":51,"column":1}},"13":{"start":{"line":45,"column":1},"end":{"line":45,"column":67}},"14":{"start":{"line":46,"column":4},"end":{"line":46,"column":32}},"15":{"start":{"line":47,"column":4},"end":{"line":47,"column":40}},"16":{"start":{"line":48,"column":4},"end":{"line":48,"column":53}},"17":{"start":{"line":50,"column":4},"end":{"line":50,"column":19}},"18":{"start":{"line":53,"column":0},"end":{"line":60,"column":1}},"19":{"start":{"line":54,"column":1},"end":{"line":54,"column":72}},"20":{"start":{"line":55,"column":1},"end":{"line":55,"column":29}},"21":{"start":{"line":56,"column":1},"end":{"line":56,"column":43}},"22":{"start":{"line":57,"column":1},"end":{"line":57,"column":60}},"23":{"start":{"line":59,"column":1},"end":{"line":59,"column":21}},"24":{"start":{"line":62,"column":0},"end":{"line":69,"column":1}},"25":{"start":{"line":63,"column":1},"end":{"line":63,"column":73}},"26":{"start":{"line":64,"column":1},"end":{"line":64,"column":29}},"27":{"start":{"line":65,"column":1},"end":{"line":65,"column":43}},"28":{"start":{"line":66,"column":1},"end":{"line":66,"column":55}},"29":{"start":{"line":68,"column":1},"end":{"line":68,"column":19}},"30":{"start":{"line":71,"column":0},"end":{"line":77,"column":1}},"31":{"start":{"line":72,"column":4},"end":{"line":72,"column":70}},"32":{"start":{"line":73,"column":4},"end":{"line":73,"column":32}},"33":{"start":{"line":74,"column":4},"end":{"line":74,"column":59}},"34":{"start":{"line":76,"column":4},"end":{"line":76,"column":22}},"35":{"start":{"line":80,"column":0},"end":{"line":90,"column":1}},"36":{"start":{"line":81,"column":4},"end":{"line":89,"column":5}},"37":{"start":{"line":82,"column":8},"end":{"line":82,"column":80}},"38":{"start":{"line":83,"column":8},"end":{"line":83,"column":36}},"39":{"start":{"line":84,"column":8},"end":{"line":84,"column":32}},"40":{"start":{"line":85,"column":8},"end":{"line":85,"column":38}},"41":{"start":{"line":86,"column":8},"end":{"line":86,"column":57}},"42":{"start":{"line":88,"column":8},"end":{"line":88,"column":34}},"43":{"start":{"line":93,"column":0},"end":{"line":111,"column":1}},"44":{"start":{"line":95,"column":1},"end":{"line":95,"column":12}},"45":{"start":{"line":96,"column":1},"end":{"line":96,"column":7}},"46":{"start":{"line":98,"column":1},"end":{"line":98,"column":16}},"47":{"start":{"line":99,"column":1},"end":{"line":99,"column":7}},"48":{"start":{"line":101,"column":1},"end":{"line":101,"column":17}},"49":{"start":{"line":102,"column":1},"end":{"line":102,"column":7}},"50":{"start":{"line":104,"column":4},"end":{"line":104,"column":15}},"51":{"start":{"line":105,"column":4},"end":{"line":105,"column":10}},"52":{"start":{"line":107,"column":4},"end":{"line":107,"column":14}},"53":{"start":{"line":108,"column":4},"end":{"line":108,"column":10}},"54":{"start":{"line":110,"column":1},"end":{"line":110,"column":21}}},"branchMap":{"1":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":0},"end":{"line":37,"column":0}},{"start":{"line":37,"column":0},"end":{"line":37,"column":0}}]},"2":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":0},"end":{"line":42,"column":0}},{"start":{"line":42,"column":0},"end":{"line":42,"column":0}}]},"3":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":4}},{"start":{"line":81,"column":4},"end":{"line":81,"column":4}}]},"4":{"line":93,"type":"switch","locations":[{"start":{"line":94,"column":0},"end":{"line":96,"column":7}},{"start":{"line":97,"column":0},"end":{"line":99,"column":7}},{"start":{"line":100,"column":0},"end":{"line":102,"column":7}},{"start":{"line":103,"column":0},"end":{"line":105,"column":10}},{"start":{"line":106,"column":0},"end":{"line":108,"column":10}},{"start":{"line":109,"column":0},"end":{"line":110,"column":21}}]}},"code":["/**"," * ux crawler entrance "," */","////log setting////////////////////////////////////////////////////////////////////","var logging = require('./lib/logging.js'); ","////arguments parse///////////////////////////////////////////////////////////////","var userArgv = require('optimist')",".usage('Usage: $0 -i [instance name] -a [crawl|test|config|proxy|schedule]  -p [num] -l[url] -h')",".options('i', {","        'alias' : 'instance',","        'default' : 'pengtouba',","        'describe' : 'Specify a instance',","        'demand' : true","    })",".options('a', {","        'alias' : 'action',","        'default' : 'crawl',","        'describe' : 'Specify a action[crawl|test|config|proxy|schedule]',","        'demand' : true","    })",".options('p', {","        'alias' : 'port',","        'default' : 2013,","        'describe' : 'Specify a service port, for config service and proxy router'","    })",".options('l', {","    'alias' : 'link',","    'default' : '',","    'describe' : 'Specify a url to test crawling'","})",".options('h', {","        'alias' : 'help',","        'describe' : 'Help infomation'","    });","","var options = userArgv.argv;","if(options['h']){userArgv.showHelp();process.exit();}","var settings = require('./instance/'+options['i']+'/'+'settings.json');","settings['instance'] = options['i'];","////log level/////////////////////////////////////////////////////////////////","var log_level = 'DEBUG';","if(settings['log_level'])log_level = settings['log_level'];","////crawling action///////////////////////////////////////////////////////////","var crawling = function(){","\tvar logger = logging.getLogger('crawling',options['i'],log_level);","    settings['logger'] = logger;","    settings['instance'] = options['i'];","    var spider = new (require('./spider'))(settings);","","    spider.start();","}","////proxy Service////////////////////////////////////////////////////////////","var proxyService = function(){","\tvar logger = logging.getLogger('proxy-service',options['i'],log_level);","\tsettings['logger'] = logger;","\tsettings['port'] = parseInt(options['p']);","\tvar proxyRouter = new (require('./proxyrouter'))(settings);","\t","\tproxyRouter.start();","}","////config service////////////////////////////////////////////////////////////","var configService = function(){","\tvar logger = logging.getLogger('config-service',options['i'],log_level);","\tsettings['logger'] = logger;","\tsettings['port'] = parseInt(options['p']);","\tvar webConfig = new(require('./webconfig'))(settings);","\t","\twebConfig.start();\t","}","////scheduler///////////////////////////////////////////////////////////////","var schedule = function(){","    var logger = logging.getLogger('schedule',options['i'],log_level);","    settings['logger'] = logger;","    var scheduler = new (require('./scheduler'))(settings);","","    scheduler.start();","}","","////test url/////////////////////////////////////////////////////////////////","var testUrl = function(){","    if(options['l']!=''){","        var logger = logging.getLogger('crawling-testing',options['i'],'DEBUG');","        settings['logger'] = logger;","        settings['test'] = true;","        settings['use_proxy'] = false;","        var spider = new (require('./spider'))(settings);","","        spider.test(options['l']);","    }","}","","////route/////////////////////////////////////////////////////////////////////","switch(options['a']){","case 'crawl':","\tcrawling();","\tbreak;","case 'proxy':","\tproxyService();","\tbreak;","case 'config':","\tconfigService();","\tbreak;","case 'schedule':","    schedule();","    break;","case 'test':","    testUrl();","    break;","default:","\tuserArgv.showHelp();","}"],"l":{"5":4,"7":4,"36":4,"37":4,"38":4,"39":0,"41":0,"42":0,"44":0,"45":0,"46":0,"47":0,"48":0,"50":0,"53":0,"54":0,"55":0,"56":0,"57":0,"59":0,"62":0,"63":0,"64":0,"65":0,"66":0,"68":0,"71":0,"72":0,"73":0,"74":0,"76":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"88":0,"93":0,"95":0,"96":0,"98":0,"99":0,"101":0,"102":0,"104":0,"105":0,"107":0,"108":0,"110":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/logging.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/logging.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":11,"loc":{"start":{"line":11,"column":20},"end":{"line":11,"column":49}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":31,"column":1}},"2":{"start":{"line":12,"column":1},"end":{"line":12,"column":32}},"3":{"start":{"line":13,"column":1},"end":{"line":27,"column":16}},"4":{"start":{"line":28,"column":1},"end":{"line":28,"column":37}},"5":{"start":{"line":29,"column":1},"end":{"line":29,"column":24}},"6":{"start":{"line":30,"column":1},"end":{"line":30,"column":15}}},"branchMap":{},"code":["/**"," * logging, log4js based"," */","/**"," * logger constructor"," * @param name"," * @param instance"," * @param level"," * @returns {Logger}"," */","exports.getLogger = function(name,instance,level){","\tvar log4js = require('log4js'); ","\tlog4js.configure({","\t\t\t\t\t  \"appenders\": [","\t\t\t\t\t                {","\t\t\t\t\t                  \"type\": \"dateFile\",","\t\t\t\t\t                  \"filename\": \"logs/\"+name+\"-\"+process.pid+\".log\",","\t\t\t\t\t                  \"pattern\": \"-yyyy-MM-dd\",","\t\t\t\t\t                  \"alwaysIncludePattern\": false","\t\t\t\t\t                },","\t\t\t\t\t                {","\t\t\t\t\t                  \"type\": \"console\"","\t\t\t\t\t                }","\t\t\t\t\t              ]","\t\t            }, ","\t\t            {cwd: 'instance/'+instance }","\t\t            );","\tvar logger = log4js.getLogger(name);","\tlogger.setLevel(level);","\treturn logger;","}"],"l":{"11":1,"12":0,"13":0,"28":0,"29":0,"30":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/crawler.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/crawler.js","s":{"1":1,"2":1,"3":216,"4":216,"5":216,"6":0,"7":216,"8":215,"9":216,"10":215,"11":215,"12":215,"13":215,"14":215,"15":215,"16":1},"b":{"1":[215,0],"2":[215,215]},"f":{"1":216,"2":0,"3":215,"4":215,"5":215},"fnMap":{"1":{"name":"(anonymous_1)","line":7,"loc":{"start":{"line":7,"column":14},"end":{"line":7,"column":32}}},"2":{"name":"(anonymous_2)","line":11,"loc":{"start":{"line":11,"column":29},"end":{"line":11,"column":45}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":29},"end":{"line":15,"column":45}}},"4":{"name":"(anonymous_4)","line":19,"loc":{"start":{"line":19,"column":22},"end":{"line":19,"column":46}}},"5":{"name":"(anonymous_5)","line":23,"loc":{"start":{"line":23,"column":29},"end":{"line":23,"column":39}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":19}},"2":{"start":{"line":7,"column":0},"end":{"line":27,"column":1}},"3":{"start":{"line":8,"column":4},"end":{"line":8,"column":47}},"4":{"start":{"line":9,"column":4},"end":{"line":9,"column":63}},"5":{"start":{"line":11,"column":4},"end":{"line":13,"column":7}},"6":{"start":{"line":12,"column":8},"end":{"line":12,"column":43}},"7":{"start":{"line":15,"column":4},"end":{"line":17,"column":7}},"8":{"start":{"line":16,"column":8},"end":{"line":16,"column":43}},"9":{"start":{"line":19,"column":4},"end":{"line":26,"column":7}},"10":{"start":{"line":20,"column":8},"end":{"line":20,"column":63}},"11":{"start":{"line":21,"column":8},"end":{"line":25,"column":9}},"12":{"start":{"line":22,"column":12},"end":{"line":22,"column":57}},"13":{"start":{"line":23,"column":12},"end":{"line":23,"column":60}},"14":{"start":{"line":23,"column":40},"end":{"line":23,"column":57}},"15":{"start":{"line":24,"column":12},"end":{"line":24,"column":25}},"16":{"start":{"line":29,"column":0},"end":{"line":29,"column":11}}},"branchMap":{"1":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":8}},{"start":{"line":21,"column":8},"end":{"line":21,"column":8}}]},"2":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":11},"end":{"line":21,"column":19}},{"start":{"line":21,"column":21},"end":{"line":21,"column":33}}]}},"code":["/**"," * Created by cherokee on 14-3-25."," */","","var retryTimes = 0;","","var spawnIt = function(tryTimes){","    var spawn = require('child_process').spawn;","    var runner = spawn('node',['run.js'].concat(process.argv));","","    runner.stdout.on('data', function (data) {","        console.log(data.toString('utf8'));","    });","","    runner.stderr.on('data', function (data) {","        console.log(data.toString('utf8'));","    });","","    runner.on('exit', function (code, signal) {","        console.log('Child process exit ' + code+', '+signal);","        if(code!==0&&tryTimes<500){","            console.log('Restart, times: '+(tryTimes++));","            process.nextTick(function(){spawnIt(tryTimes)});","            spawn = null;","        }","    });","}","","spawnIt(0);",""],"l":{"5":1,"7":1,"8":216,"9":216,"11":216,"12":0,"15":216,"16":215,"19":216,"20":215,"21":215,"22":215,"23":215,"24":215,"29":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/httpRequest.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/httpRequest.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":1,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":1,"104":1,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":1,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":1,"135":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0,0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":18,"loc":{"start":{"line":18,"column":14},"end":{"line":18,"column":77}}},"2":{"name":"(anonymous_2)","line":58,"loc":{"start":{"line":58,"column":36},"end":{"line":58,"column":50}}},"3":{"name":"(anonymous_3)","line":69,"loc":{"start":{"line":69,"column":23},"end":{"line":69,"column":40}}},"4":{"name":"(anonymous_4)","line":73,"loc":{"start":{"line":73,"column":22},"end":{"line":73,"column":34}}},"5":{"name":"(anonymous_5)","line":88,"loc":{"start":{"line":88,"column":47},"end":{"line":88,"column":67}}},"6":{"name":"(anonymous_6)","line":95,"loc":{"start":{"line":95,"column":49},"end":{"line":95,"column":69}}},"7":{"name":"(anonymous_7)","line":108,"loc":{"start":{"line":108,"column":27},"end":{"line":108,"column":37}}},"8":{"name":"(anonymous_8)","line":117,"loc":{"start":{"line":117,"column":20},"end":{"line":117,"column":32}}},"9":{"name":"(anonymous_9)","line":132,"loc":{"start":{"line":132,"column":24},"end":{"line":132,"column":40}}},"10":{"name":"(anonymous_10)","line":157,"loc":{"start":{"line":157,"column":21},"end":{"line":157,"column":63}}},"11":{"name":"(anonymous_11)","line":190,"loc":{"start":{"line":190,"column":23},"end":{"line":190,"column":57}}},"12":{"name":"(anonymous_12)","line":206,"loc":{"start":{"line":206,"column":17},"end":{"line":206,"column":34}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":34}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":43}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":91}},"6":{"start":{"line":9,"column":6},"end":{"line":9,"column":40}},"7":{"start":{"line":9,"column":53},"end":{"line":9,"column":90}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":97}},"9":{"start":{"line":10,"column":6},"end":{"line":10,"column":44}},"10":{"start":{"line":10,"column":57},"end":{"line":10,"column":96}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":27}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":25}},"13":{"start":{"line":18,"column":0},"end":{"line":130,"column":1}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":26}},"15":{"start":{"line":20,"column":4},"end":{"line":20,"column":26}},"16":{"start":{"line":21,"column":4},"end":{"line":31,"column":5}},"17":{"start":{"line":22,"column":8},"end":{"line":22,"column":43}},"18":{"start":{"line":23,"column":8},"end":{"line":23,"column":36}},"19":{"start":{"line":24,"column":8},"end":{"line":24,"column":36}},"20":{"start":{"line":25,"column":8},"end":{"line":25,"column":26}},"21":{"start":{"line":27,"column":8},"end":{"line":27,"column":40}},"22":{"start":{"line":28,"column":8},"end":{"line":28,"column":40}},"23":{"start":{"line":29,"column":8},"end":{"line":29,"column":36}},"24":{"start":{"line":30,"column":8},"end":{"line":30,"column":36}},"25":{"start":{"line":32,"column":4},"end":{"line":32,"column":31}},"26":{"start":{"line":33,"column":4},"end":{"line":45,"column":6}},"27":{"start":{"line":47,"column":4},"end":{"line":54,"column":5}},"28":{"start":{"line":48,"column":8},"end":{"line":48,"column":32}},"29":{"start":{"line":49,"column":8},"end":{"line":51,"column":9}},"30":{"start":{"line":50,"column":12},"end":{"line":50,"column":74}},"31":{"start":{"line":52,"column":8},"end":{"line":52,"column":51}},"32":{"start":{"line":53,"column":8},"end":{"line":53,"column":75}},"33":{"start":{"line":53,"column":32},"end":{"line":53,"column":75}},"34":{"start":{"line":56,"column":4},"end":{"line":56,"column":55}},"35":{"start":{"line":56,"column":15},"end":{"line":56,"column":55}},"36":{"start":{"line":58,"column":4},"end":{"line":106,"column":7}},"37":{"start":{"line":59,"column":8},"end":{"line":63,"column":9}},"38":{"start":{"line":60,"column":12},"end":{"line":62,"column":13}},"39":{"start":{"line":61,"column":16},"end":{"line":61,"column":106}},"40":{"start":{"line":65,"column":8},"end":{"line":65,"column":46}},"41":{"start":{"line":69,"column":8},"end":{"line":71,"column":11}},"42":{"start":{"line":70,"column":12},"end":{"line":70,"column":39}},"43":{"start":{"line":73,"column":8},"end":{"line":105,"column":11}},"44":{"start":{"line":75,"column":12},"end":{"line":78,"column":13}},"45":{"start":{"line":76,"column":16},"end":{"line":76,"column":40}},"46":{"start":{"line":77,"column":16},"end":{"line":77,"column":34}},"47":{"start":{"line":79,"column":12},"end":{"line":79,"column":96}},"48":{"start":{"line":79,"column":20},"end":{"line":79,"column":96}},"49":{"start":{"line":80,"column":12},"end":{"line":80,"column":23}},"50":{"start":{"line":82,"column":12},"end":{"line":82,"column":63}},"51":{"start":{"line":84,"column":12},"end":{"line":84,"column":73}},"52":{"start":{"line":86,"column":12},"end":{"line":86,"column":63}},"53":{"start":{"line":87,"column":12},"end":{"line":104,"column":13}},"54":{"start":{"line":88,"column":16},"end":{"line":93,"column":19}},"55":{"start":{"line":89,"column":20},"end":{"line":92,"column":148}},"56":{"start":{"line":90,"column":24},"end":{"line":91,"column":150}},"57":{"start":{"line":90,"column":34},"end":{"line":90,"column":125}},"58":{"start":{"line":90,"column":53},"end":{"line":90,"column":125}},"59":{"start":{"line":91,"column":30},"end":{"line":91,"column":149}},"60":{"start":{"line":91,"column":49},"end":{"line":91,"column":149}},"61":{"start":{"line":92,"column":27},"end":{"line":92,"column":147}},"62":{"start":{"line":92,"column":46},"end":{"line":92,"column":147}},"63":{"start":{"line":94,"column":19},"end":{"line":104,"column":13}},"64":{"start":{"line":95,"column":16},"end":{"line":100,"column":19}},"65":{"start":{"line":96,"column":20},"end":{"line":99,"column":151}},"66":{"start":{"line":97,"column":24},"end":{"line":98,"column":150}},"67":{"start":{"line":97,"column":34},"end":{"line":97,"column":125}},"68":{"start":{"line":97,"column":53},"end":{"line":97,"column":125}},"69":{"start":{"line":98,"column":30},"end":{"line":98,"column":149}},"70":{"start":{"line":98,"column":49},"end":{"line":98,"column":149}},"71":{"start":{"line":99,"column":27},"end":{"line":99,"column":150}},"72":{"start":{"line":99,"column":46},"end":{"line":99,"column":150}},"73":{"start":{"line":102,"column":16},"end":{"line":103,"column":161}},"74":{"start":{"line":102,"column":26},"end":{"line":102,"column":136}},"75":{"start":{"line":102,"column":45},"end":{"line":102,"column":136}},"76":{"start":{"line":103,"column":22},"end":{"line":103,"column":160}},"77":{"start":{"line":103,"column":41},"end":{"line":103,"column":160}},"78":{"start":{"line":108,"column":4},"end":{"line":115,"column":26}},"79":{"start":{"line":109,"column":8},"end":{"line":114,"column":9}},"80":{"start":{"line":111,"column":12},"end":{"line":111,"column":24}},"81":{"start":{"line":112,"column":12},"end":{"line":112,"column":23}},"82":{"start":{"line":113,"column":12},"end":{"line":113,"column":100}},"83":{"start":{"line":113,"column":31},"end":{"line":113,"column":100}},"84":{"start":{"line":117,"column":4},"end":{"line":128,"column":7}},"85":{"start":{"line":119,"column":8},"end":{"line":122,"column":9}},"86":{"start":{"line":120,"column":12},"end":{"line":120,"column":36}},"87":{"start":{"line":121,"column":12},"end":{"line":121,"column":30}},"88":{"start":{"line":123,"column":8},"end":{"line":127,"column":9}},"89":{"start":{"line":124,"column":12},"end":{"line":124,"column":24}},"90":{"start":{"line":125,"column":12},"end":{"line":125,"column":23}},"91":{"start":{"line":126,"column":12},"end":{"line":126,"column":105}},"92":{"start":{"line":126,"column":31},"end":{"line":126,"column":105}},"93":{"start":{"line":129,"column":4},"end":{"line":129,"column":14}},"94":{"start":{"line":132,"column":0},"end":{"line":145,"column":1}},"95":{"start":{"line":133,"column":4},"end":{"line":133,"column":32}},"96":{"start":{"line":135,"column":4},"end":{"line":143,"column":5}},"97":{"start":{"line":136,"column":8},"end":{"line":136,"column":49}},"98":{"start":{"line":137,"column":8},"end":{"line":137,"column":57}},"99":{"start":{"line":138,"column":8},"end":{"line":138,"column":41}},"100":{"start":{"line":139,"column":8},"end":{"line":142,"column":9}},"101":{"start":{"line":141,"column":12},"end":{"line":141,"column":35}},"102":{"start":{"line":144,"column":4},"end":{"line":144,"column":25}},"103":{"start":{"line":147,"column":0},"end":{"line":147,"column":26}},"104":{"start":{"line":157,"column":0},"end":{"line":181,"column":1}},"105":{"start":{"line":158,"column":4},"end":{"line":159,"column":25}},"106":{"start":{"line":158,"column":32},"end":{"line":158,"column":71}},"107":{"start":{"line":159,"column":9},"end":{"line":159,"column":25}},"108":{"start":{"line":160,"column":4},"end":{"line":160,"column":37}},"109":{"start":{"line":161,"column":4},"end":{"line":161,"column":28}},"110":{"start":{"line":162,"column":4},"end":{"line":162,"column":15}},"111":{"start":{"line":163,"column":4},"end":{"line":177,"column":5}},"112":{"start":{"line":164,"column":8},"end":{"line":164,"column":41}},"113":{"start":{"line":167,"column":8},"end":{"line":176,"column":9}},"114":{"start":{"line":170,"column":16},"end":{"line":170,"column":36}},"115":{"start":{"line":171,"column":16},"end":{"line":171,"column":22}},"116":{"start":{"line":174,"column":16},"end":{"line":174,"column":36}},"117":{"start":{"line":175,"column":16},"end":{"line":175,"column":22}},"118":{"start":{"line":179,"column":4},"end":{"line":179,"column":37}},"119":{"start":{"line":179,"column":14},"end":{"line":179,"column":37}},"120":{"start":{"line":180,"column":4},"end":{"line":180,"column":18}},"121":{"start":{"line":190,"column":0},"end":{"line":204,"column":1}},"122":{"start":{"line":191,"column":4},"end":{"line":191,"column":32}},"123":{"start":{"line":192,"column":4},"end":{"line":192,"column":24}},"124":{"start":{"line":192,"column":16},"end":{"line":192,"column":24}},"125":{"start":{"line":193,"column":4},"end":{"line":193,"column":49}},"126":{"start":{"line":194,"column":4},"end":{"line":202,"column":5}},"127":{"start":{"line":195,"column":8},"end":{"line":195,"column":47}},"128":{"start":{"line":196,"column":8},"end":{"line":196,"column":63}},"129":{"start":{"line":196,"column":41},"end":{"line":196,"column":63}},"130":{"start":{"line":198,"column":8},"end":{"line":198,"column":29}},"131":{"start":{"line":199,"column":8},"end":{"line":200,"column":33}},"132":{"start":{"line":200,"column":12},"end":{"line":200,"column":33}},"133":{"start":{"line":201,"column":8},"end":{"line":201,"column":19}},"134":{"start":{"line":206,"column":0},"end":{"line":208,"column":1}},"135":{"start":{"line":207,"column":4},"end":{"line":207,"column":42}}},"branchMap":{"1":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"2":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":47,"column":4}},{"start":{"line":47,"column":4},"end":{"line":47,"column":4}}]},"3":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":8},"end":{"line":53,"column":8}},{"start":{"line":53,"column":8},"end":{"line":53,"column":8}}]},"4":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"5":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":8},"end":{"line":59,"column":8}},{"start":{"line":59,"column":8},"end":{"line":59,"column":8}}]},"6":{"line":59,"type":"binary-expr","locations":[{"start":{"line":59,"column":11},"end":{"line":59,"column":30}},{"start":{"line":59,"column":32},"end":{"line":59,"column":51}}]},"7":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":12},"end":{"line":60,"column":12}},{"start":{"line":60,"column":12},"end":{"line":60,"column":12}}]},"8":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":12},"end":{"line":75,"column":12}},{"start":{"line":75,"column":12},"end":{"line":75,"column":12}}]},"9":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":12},"end":{"line":79,"column":12}},{"start":{"line":79,"column":12},"end":{"line":79,"column":12}}]},"10":{"line":79,"type":"binary-expr","locations":[{"start":{"line":79,"column":72},"end":{"line":79,"column":77}},{"start":{"line":79,"column":79},"end":{"line":79,"column":94}}]},"11":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":12},"end":{"line":87,"column":12}},{"start":{"line":87,"column":12},"end":{"line":87,"column":12}}]},"12":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":16},"end":{"line":87,"column":38}},{"start":{"line":87,"column":42},"end":{"line":87,"column":69}}]},"13":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":20}},{"start":{"line":89,"column":20},"end":{"line":89,"column":20}}]},"14":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":24},"end":{"line":89,"column":28}},{"start":{"line":89,"column":32},"end":{"line":89,"column":36}}]},"15":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":24},"end":{"line":90,"column":24}},{"start":{"line":90,"column":24},"end":{"line":90,"column":24}}]},"16":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":34},"end":{"line":90,"column":34}},{"start":{"line":90,"column":34},"end":{"line":90,"column":34}}]},"17":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":101},"end":{"line":90,"column":106}},{"start":{"line":90,"column":108},"end":{"line":90,"column":123}}]},"18":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":30},"end":{"line":91,"column":30}},{"start":{"line":91,"column":30},"end":{"line":91,"column":30}}]},"19":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":125},"end":{"line":91,"column":130}},{"start":{"line":91,"column":132},"end":{"line":91,"column":147}}]},"20":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":27},"end":{"line":92,"column":27}},{"start":{"line":92,"column":27},"end":{"line":92,"column":27}}]},"21":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":123},"end":{"line":92,"column":128}},{"start":{"line":92,"column":130},"end":{"line":92,"column":145}}]},"22":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":19},"end":{"line":94,"column":19}},{"start":{"line":94,"column":19},"end":{"line":94,"column":19}}]},"23":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":23},"end":{"line":94,"column":48}},{"start":{"line":94,"column":52},"end":{"line":94,"column":81}}]},"24":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":20},"end":{"line":96,"column":20}},{"start":{"line":96,"column":20},"end":{"line":96,"column":20}}]},"25":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":24},"end":{"line":96,"column":28}},{"start":{"line":96,"column":32},"end":{"line":96,"column":36}}]},"26":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":24},"end":{"line":97,"column":24}},{"start":{"line":97,"column":24},"end":{"line":97,"column":24}}]},"27":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":34},"end":{"line":97,"column":34}},{"start":{"line":97,"column":34},"end":{"line":97,"column":34}}]},"28":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":101},"end":{"line":97,"column":106}},{"start":{"line":97,"column":108},"end":{"line":97,"column":123}}]},"29":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":30},"end":{"line":98,"column":30}},{"start":{"line":98,"column":30},"end":{"line":98,"column":30}}]},"30":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":125},"end":{"line":98,"column":130}},{"start":{"line":98,"column":132},"end":{"line":98,"column":147}}]},"31":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":27},"end":{"line":99,"column":27}},{"start":{"line":99,"column":27},"end":{"line":99,"column":27}}]},"32":{"line":99,"type":"binary-expr","locations":[{"start":{"line":99,"column":126},"end":{"line":99,"column":131}},{"start":{"line":99,"column":133},"end":{"line":99,"column":148}}]},"33":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":16},"end":{"line":102,"column":16}},{"start":{"line":102,"column":16},"end":{"line":102,"column":16}}]},"34":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":26},"end":{"line":102,"column":26}},{"start":{"line":102,"column":26},"end":{"line":102,"column":26}}]},"35":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":112},"end":{"line":102,"column":117}},{"start":{"line":102,"column":119},"end":{"line":102,"column":134}}]},"36":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":22},"end":{"line":103,"column":22}},{"start":{"line":103,"column":22},"end":{"line":103,"column":22}}]},"37":{"line":103,"type":"binary-expr","locations":[{"start":{"line":103,"column":136},"end":{"line":103,"column":141}},{"start":{"line":103,"column":143},"end":{"line":103,"column":158}}]},"38":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":8},"end":{"line":109,"column":8}},{"start":{"line":109,"column":8},"end":{"line":109,"column":8}}]},"39":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":12},"end":{"line":113,"column":12}},{"start":{"line":113,"column":12},"end":{"line":113,"column":12}}]},"40":{"line":113,"type":"binary-expr","locations":[{"start":{"line":113,"column":76},"end":{"line":113,"column":81}},{"start":{"line":113,"column":83},"end":{"line":113,"column":98}}]},"41":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":7},"end":{"line":115,"column":14}},{"start":{"line":115,"column":16},"end":{"line":115,"column":18}}]},"42":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":8},"end":{"line":119,"column":8}},{"start":{"line":119,"column":8},"end":{"line":119,"column":8}}]},"43":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":8},"end":{"line":123,"column":8}},{"start":{"line":123,"column":8},"end":{"line":123,"column":8}}]},"44":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":12},"end":{"line":126,"column":12}},{"start":{"line":126,"column":12},"end":{"line":126,"column":12}}]},"45":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":81},"end":{"line":126,"column":86}},{"start":{"line":126,"column":88},"end":{"line":126,"column":103}}]},"46":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":4},"end":{"line":135,"column":4}},{"start":{"line":135,"column":4},"end":{"line":135,"column":4}}]},"47":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":8},"end":{"line":139,"column":8}},{"start":{"line":139,"column":8},"end":{"line":139,"column":8}}]},"48":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":4},"end":{"line":158,"column":4}},{"start":{"line":158,"column":4},"end":{"line":158,"column":4}}]},"49":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":4},"end":{"line":163,"column":4}},{"start":{"line":163,"column":4},"end":{"line":163,"column":4}}]},"50":{"line":167,"type":"switch","locations":[{"start":{"line":168,"column":12},"end":{"line":168,"column":24}},{"start":{"line":169,"column":12},"end":{"line":171,"column":22}},{"start":{"line":172,"column":12},"end":{"line":172,"column":24}},{"start":{"line":173,"column":12},"end":{"line":175,"column":22}}]},"51":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":4},"end":{"line":179,"column":4}},{"start":{"line":179,"column":4},"end":{"line":179,"column":4}}]},"52":{"line":192,"type":"if","locations":[{"start":{"line":192,"column":4},"end":{"line":192,"column":4}},{"start":{"line":192,"column":4},"end":{"line":192,"column":4}}]},"53":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":4},"end":{"line":194,"column":4}},{"start":{"line":194,"column":4},"end":{"line":194,"column":4}}]},"54":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":8},"end":{"line":196,"column":8}},{"start":{"line":196,"column":8},"end":{"line":196,"column":8}}]},"55":{"line":196,"type":"binary-expr","locations":[{"start":{"line":196,"column":11},"end":{"line":196,"column":18}},{"start":{"line":196,"column":20},"end":{"line":196,"column":40}}]}},"code":["/**"," * Created by cherokee on 14-6-16."," */","","var cheerio = require('cheerio');","var urlUtil =  require(\"url\");","var iconv = require('iconv-lite');","var BufferHelper = require('bufferhelper');","try { var unzip = require('zlib').unzip } catch(e) { console.error('unzip not supported') }","try { var inflate = require('zlib').inflate } catch(e) { console.error('inflate not supported') }","var http = require('http');","require('./jsextend.js');","","/**"," * request page"," * callback(err,status_code,content,page_encoding,param)","*/","var request = function(url,referer,cookie,proxy,timeout,isbin,callback,param){","    var timeOuter = false;","    var callbackCount = 0;","    if(proxy){","        var proxyRouter = proxy.split(':');","        var __host = proxyRouter[0];","        var __port = proxyRouter[1];","        var __path =  url;","    }else{","        var urlobj = urlUtil.parse(url);","        var __host = urlobj['hostname'];","        var __port = urlobj['port'];","        var __path = urlobj['path'];","    }","    var startTime = new Date();","    var options = {","        'host': __host,","        'port': __port,","        'path': __path,","        'method': 'GET',","        'headers': {","            \"User-Agent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.57 Safari/537.36\",","            \"Accept\":\"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",","            //\"Accept-Encoding\":\"gzip,deflate,sdch\",","            \"Accept-Encoding\":\"gzip\",","            \"Accept-Language\":\"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4\"","        }","    };","","    if(cookie){","        var cookie_kvarray = [];","        for(var i=0; i<cookie.length; i++){","            cookie_kvarray.push(cookie[i]['name']+'='+cookie[i]['value']);","        }","        var cookies_str = cookie_kvarray.join(';');","        if(cookies_str.length>0)options['headers']['Cookie'] = cookies_str;","    }","","    if(referer)options['headers']['Referer'] = referer;","","    var req = http.request(options, function(res) {","        if(res.statusCode==301||res.statusCode==302){","            if(res.headers['location']){","                return request(res.headers['location'],referer,cookie,proxy,timeout,isbin,callback,param);","            }","        }","","        var bufferHelper = new BufferHelper();","","//        res.setEncoding('utf8');","","        res.on('data', function (chunk) {","            bufferHelper.concat(chunk);","        });","","        res.on('end', function () {","            //console.log('Response end, '+url+' use proxy: '+proxy);","            if(timeOuter){","                clearTimeout(timeOuter);","                timeOuter = false;","            }","            if(!req)return callback(new Error('time out'),504,null,null,param||callbackCount++);","            req = null;","","            var page_encoding = get_page_encoding(res.headers);","","            page_encoding = page_encoding.toLowerCase().replace('\\-','');","","            var res_encoding = res.headers['content-encoding'];","            if (res_encoding == 'gzip' && typeof unzip != 'undefined') {","                unzip(bufferHelper.toBuffer(), function(err, buff) {","                    if (!err && buff) {","                        if(isbin){if(callbackCount<1)callback(null,res.statusCode,buff,page_encoding,param||callbackCount++);}","                        else {if(callbackCount<1)callback(null,res.statusCode,iconv.decode(buff,page_encoding),page_encoding,param||callbackCount++);}","                    }else {if(callbackCount<1)callback(new Error('gzip no content '+err),res.statusCode,null,page_encoding,param||callbackCount++);}","                });","            } else if (res_encoding == 'deflate' && typeof inflate != 'undefined') {","                inflate(bufferHelper.toBuffer(), function(err, buff) {","                    if (!err && buff) {","                        if(isbin){if(callbackCount<1)callback(null,res.statusCode,buff,page_encoding,param||callbackCount++);}","                        else {if(callbackCount<1)callback(null,res.statusCode,iconv.decode(buff,page_encoding),page_encoding,param||callbackCount++);}","                    }else {if(callbackCount<1)callback(new Error('deflate no content '+err),res.statusCode,null,page_encoding,param||callbackCount++);}","                });","            } else {","                if(isbin){if(callbackCount<1)callback(null,res.statusCode,bufferHelper.toBuffer(),page_encoding,param||callbackCount++);}","                else {if(callbackCount<1)callback(null,res.statusCode,iconv.decode(bufferHelper.toBuffer(),page_encoding),page_encoding,param||callbackCount++);}","            }","        });","    });","","    timeOuter = setTimeout(function(){","        if(req){","            //console.error('download timeout, '+url+', cost: '+((new Date())-startTime)+'ms ');","            req.abort();//req.destroy();","            req = null;","            if(callbackCount<1)callback(new Error('time out'),504,null,null,param||callbackCount++);","        }","    },(timeout||30)*1000);","","    req.on('error', function(e) {","        //console.error('problem with request: ' + e.message+', url:'+url);","        if(timeOuter){","            clearTimeout(timeOuter);","            timeOuter = false;","        }","        if(req){","            req.abort();//req.destroy();","            req = null;","            if(callbackCount<1)callback(new Error('request error'),500,null,null,param||callbackCount++);","        }","    });","    req.end();","}","","var get_page_encoding = function(header){","    var page_encoding = 'UTF-8';","    //get the encoding from header","    if(header['content-type']!=undefined){","        var contentType = header['content-type'];","        var patt = new RegExp(\"^.*?charset\\=(.+)$\",\"ig\");","        var mts = patt.exec(contentType);","        if (mts != null)","        {","            page_encoding = mts[1];","        }","    }","    return page_encoding;","}","","exports.request = request;","","/**"," * css extract"," * @param content"," * @param expression"," * @param pick"," * @param callback"," * @returns {*}"," */","exports.cssExtract = function(content,expression,pick,callback){","    if(typeof content=='string')var $ = (cheerio.load(content)).root();","    else var $ = content;","    var tmp_val = $.find(expression);","    var val = tmp_val.eq(0);","    var result;","    if(pick.startsWith('@')){","        result = val.attr(pick.slice(1));","    }","    else{","        switch(pick.toLowerCase()){","            case 'text':","            case 'innertext':","                result = val.text();","                break;","            case 'html':","            case 'innerhtml':","                result = val.html();","                break;","        }","    }","    //if(result)result = result.replace(/[\\r\\n\\t]/g, \"\").trim();","    if(result)result = result.trim();","    return result;","}","","/**"," * return matched group base expression"," * @param content"," * @param expression"," * @param index"," * @returns {*}"," */","exports.regexExtract = function(content,expression,index){","    var index = parseInt(index);","    if(index==0)index=1;","    var expression = new RegExp(expression,\"ig\");","    if(index>0){","        var matched = expression.exec(content);","        if(matched&&matched.length>index)return matched[index];","    }else{","        var arr = [],matched;","        while (matched = expression.exec(content))","            arr.push(matched[1]);","        return arr;","    }","","}","","exports.getDom = function(content){","    return (cheerio.load(content)).root();","}",""],"l":{"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"27":0,"28":0,"29":0,"30":0,"32":0,"33":0,"47":0,"48":0,"49":0,"50":0,"52":0,"53":0,"56":0,"58":0,"59":0,"60":0,"61":0,"65":0,"69":0,"70":0,"73":0,"75":0,"76":0,"77":0,"79":0,"80":0,"82":0,"84":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"102":0,"103":0,"108":0,"109":0,"111":0,"112":0,"113":0,"117":0,"119":0,"120":0,"121":0,"123":0,"124":0,"125":0,"126":0,"129":0,"132":1,"133":0,"135":0,"136":0,"137":0,"138":0,"139":0,"141":0,"144":0,"147":1,"157":1,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"167":0,"170":0,"171":0,"174":0,"175":0,"179":0,"180":0,"190":1,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"198":0,"199":0,"200":0,"201":0,"206":1,"207":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/jsextend.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/jsextend.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":1,"10":0,"11":1,"12":930,"13":1,"14":19,"15":1,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":930,"6":19,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":24,"loc":{"start":{"line":24,"column":14},"end":{"line":24,"column":28}}},"2":{"name":"(anonymous_2)","line":25,"loc":{"start":{"line":25,"column":22},"end":{"line":25,"column":37}}},"3":{"name":"(anonymous_3)","line":46,"loc":{"start":{"line":46,"column":15},"end":{"line":46,"column":29}}},"4":{"name":"(anonymous_4)","line":56,"loc":{"start":{"line":56,"column":28},"end":{"line":56,"column":45}}},"5":{"name":"(anonymous_5)","line":64,"loc":{"start":{"line":64,"column":30},"end":{"line":64,"column":47}}},"6":{"name":"(anonymous_6)","line":71,"loc":{"start":{"line":71,"column":23},"end":{"line":71,"column":33}}},"7":{"name":"(anonymous_7)","line":89,"loc":{"start":{"line":89,"column":10},"end":{"line":89,"column":23}}},"8":{"name":"(anonymous_8)","line":96,"loc":{"start":{"line":96,"column":8},"end":{"line":96,"column":22}}}},"statementMap":{"1":{"start":{"line":24,"column":0},"end":{"line":29,"column":1}},"2":{"start":{"line":25,"column":4},"end":{"line":28,"column":11}},"3":{"start":{"line":26,"column":8},"end":{"line":26,"column":37}},"4":{"start":{"line":26,"column":27},"end":{"line":26,"column":37}},"5":{"start":{"line":27,"column":8},"end":{"line":27,"column":17}},"6":{"start":{"line":46,"column":0},"end":{"line":49,"column":1}},"7":{"start":{"line":47,"column":4},"end":{"line":47,"column":113}},"8":{"start":{"line":48,"column":4},"end":{"line":48,"column":15}},"9":{"start":{"line":56,"column":0},"end":{"line":58,"column":2}},"10":{"start":{"line":57,"column":4},"end":{"line":57,"column":68}},"11":{"start":{"line":64,"column":0},"end":{"line":66,"column":2}},"12":{"start":{"line":65,"column":4},"end":{"line":65,"column":40}},"13":{"start":{"line":71,"column":0},"end":{"line":73,"column":1}},"14":{"start":{"line":72,"column":4},"end":{"line":72,"column":46}},"15":{"start":{"line":89,"column":0},"end":{"line":94,"column":1}},"16":{"start":{"line":90,"column":4},"end":{"line":92,"column":5}},"17":{"start":{"line":91,"column":8},"end":{"line":91,"column":51}},"18":{"start":{"line":91,"column":38},"end":{"line":91,"column":51}},"19":{"start":{"line":93,"column":4},"end":{"line":93,"column":16}},"20":{"start":{"line":96,"column":0},"end":{"line":126,"column":1}},"21":{"start":{"line":98,"column":4},"end":{"line":98,"column":58}},"22":{"start":{"line":98,"column":47},"end":{"line":98,"column":58}},"23":{"start":{"line":101,"column":4},"end":{"line":105,"column":5}},"24":{"start":{"line":102,"column":8},"end":{"line":102,"column":30}},"25":{"start":{"line":103,"column":8},"end":{"line":103,"column":36}},"26":{"start":{"line":104,"column":8},"end":{"line":104,"column":20}},"27":{"start":{"line":108,"column":4},"end":{"line":114,"column":5}},"28":{"start":{"line":109,"column":8},"end":{"line":109,"column":22}},"29":{"start":{"line":110,"column":8},"end":{"line":112,"column":9}},"30":{"start":{"line":111,"column":12},"end":{"line":111,"column":36}},"31":{"start":{"line":113,"column":8},"end":{"line":113,"column":20}},"32":{"start":{"line":117,"column":4},"end":{"line":123,"column":5}},"33":{"start":{"line":118,"column":8},"end":{"line":118,"column":22}},"34":{"start":{"line":119,"column":8},"end":{"line":121,"column":9}},"35":{"start":{"line":120,"column":12},"end":{"line":120,"column":72}},"36":{"start":{"line":120,"column":42},"end":{"line":120,"column":72}},"37":{"start":{"line":122,"column":8},"end":{"line":122,"column":20}},"38":{"start":{"line":125,"column":4},"end":{"line":125,"column":69}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":26,"column":8}},{"start":{"line":26,"column":8},"end":{"line":26,"column":8}}]},"2":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":8}},{"start":{"line":91,"column":8},"end":{"line":91,"column":8}}]},"3":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":4},"end":{"line":98,"column":4}},{"start":{"line":98,"column":4},"end":{"line":98,"column":4}}]},"4":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":8},"end":{"line":98,"column":19}},{"start":{"line":98,"column":23},"end":{"line":98,"column":45}}]},"5":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":4},"end":{"line":101,"column":4}},{"start":{"line":101,"column":4},"end":{"line":101,"column":4}}]},"6":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":4},"end":{"line":108,"column":4}},{"start":{"line":108,"column":4},"end":{"line":108,"column":4}}]},"7":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":4}},{"start":{"line":117,"column":4},"end":{"line":117,"column":4}}]},"8":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":12},"end":{"line":120,"column":12}},{"start":{"line":120,"column":12},"end":{"line":120,"column":12}}]}},"code":["/**"," * Created by james on 13-12-5."," * js extend"," */","","/**"," * remove duplicated item from array"," * @returns {Object}"," */","//if (!Array.prototype.unique) {","//    Array.prototype.unique = function() {","//        return this.reduce(function(p, c) {","//            if (p.indexOf(c)<0)p.push(c);","//            return p;","//        }, []);","//    };","//}","","/**"," * remove duplicated item from array"," * @param arr Array"," * @returns {*}"," */","arrayUnique = function(arr) {","    return arr.reduce(function(p, c) {","        if (p.indexOf(c)<0)p.push(c);","        return p;","    }, []);","}","","/**","* shuffle array","*/","//if (!Array.prototype.shuffle) {","//    Array.prototype.shuffle = function() {","//        for(var j, x, i = this.length; i; j = parseInt(Math.random() * i), x = this[--i], this[i] = this[j], this[j] = x);","//        return this;","//    };","//}","","/**"," * shuffle array"," * @param arr Array"," * @returns {*}"," */","arrayShuffle = function(arr) {","    for(var j, x, i = arr.length; i; j = parseInt(Math.random() * i), x = arr[--i], arr[i] = arr[j], arr[j] = x);","    return arr;","}","","/**"," * detect whether string end with some special character"," * @param suffix"," * @returns {boolean}"," */","String.prototype.endsWith = function(suffix) {","    return this.indexOf(suffix, this.length - suffix.length) !== -1;","};","/**"," * detect whether string start with some special character"," * @param suffix"," * @returns {boolean}"," */","String.prototype.startsWith = function(suffix) {","    return this.indexOf(suffix,0) === 0;","};","/**"," * remove blank around the string"," * @returns {string}"," */","String.prototype.trim= function(){","    return this.replace(/(^\\s*)|(\\s*$)/g, \"\");","}","","/**"," * detect object is empty"," * @returns {boolean}"," */","//Object.prototype.isEmpty = function() {","//    for (var prop in this) {","//        if (this.hasOwnProperty(prop)) return false;","//    }","//    return true;","//};","/**"," * detect object is empty"," * @returns {boolean}"," */","isEmpty = function(obj){","    for (var prop in obj) {","        if (obj.hasOwnProperty(prop)) return false;","    }","    return true;","}","","clone = function(obj) {","    // Handle the 3 simple types, and null or undefined","    if (null == obj || \"object\" != typeof obj) return obj;","","    // Handle Date","    if (obj instanceof Date) {","        var copy = new Date();","        copy.setTime(obj.getTime());","        return copy;","    }","","    // Handle Array","    if (obj instanceof Array) {","        var copy = [];","        for (var i = 0,len = obj.length; i < len; ++i) {","            copy[i] = clone(obj[i]);","        }","        return copy;","    }","","    // Handle Object","    if (obj instanceof Object) {","        var copy = {};","        for (var attr in obj) {","            if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr]);","        }","        return copy;","    }","","    throw new Error(\"Unable to copy obj! Its type isn't supported.\");","}"],"l":{"24":1,"25":0,"26":0,"27":0,"46":1,"47":0,"48":0,"56":1,"57":0,"64":1,"65":758,"71":1,"72":19,"89":1,"90":0,"91":0,"93":0,"96":1,"98":0,"101":0,"102":0,"103":0,"104":0,"108":0,"109":0,"110":0,"111":0,"113":0,"117":0,"118":0,"119":0,"120":0,"122":0,"125":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/line_reader.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/line_reader.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":1,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1,"59":0,"60":1,"61":0,"62":0,"63":0,"64":1,"65":0,"66":0,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":1,"86":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":1},"end":{"line":4,"column":12}}},"2":{"name":"LineReader","line":10,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":65}}},"3":{"name":"close","line":22,"loc":{"start":{"line":22,"column":8},"end":{"line":22,"column":25}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":29},"end":{"line":24,"column":43}}},"5":{"name":"readToSeparator","line":33,"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":37}}},"6":{"name":"readChunk","line":34,"loc":{"start":{"line":34,"column":12},"end":{"line":34,"column":33}}},"7":{"name":"(anonymous_7)","line":35,"loc":{"start":{"line":35,"column":65},"end":{"line":35,"column":90}}},"8":{"name":"hasNextLine","line":67,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":31}}},"9":{"name":"nextLine","line":71,"loc":{"start":{"line":71,"column":8},"end":{"line":71,"column":30}}},"10":{"name":"getLine","line":72,"loc":{"start":{"line":72,"column":12},"end":{"line":72,"column":31}}},"11":{"name":"open","line":107,"loc":{"start":{"line":107,"column":4},"end":{"line":107,"column":65}}},"12":{"name":"(anonymous_12)","line":108,"loc":{"start":{"line":108,"column":51},"end":{"line":108,"column":69}}},"13":{"name":"(anonymous_13)","line":114,"loc":{"start":{"line":114,"column":40},"end":{"line":114,"column":51}}},"14":{"name":"eachLine","line":120,"loc":{"start":{"line":120,"column":4},"end":{"line":120,"column":69}}},"15":{"name":"finish","line":124,"loc":{"start":{"line":124,"column":8},"end":{"line":124,"column":26}}},"16":{"name":"(anonymous_16)","line":130,"loc":{"start":{"line":130,"column":23},"end":{"line":130,"column":40}}},"17":{"name":"newRead","line":131,"loc":{"start":{"line":131,"column":12},"end":{"line":131,"column":31}}},"18":{"name":"continueCb","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":49}}},"19":{"name":"readNext","line":148,"loc":{"start":{"line":148,"column":12},"end":{"line":148,"column":32}}},"20":{"name":"(anonymous_20)","line":149,"loc":{"start":{"line":149,"column":32},"end":{"line":149,"column":47}}},"21":{"name":"(anonymous_21)","line":169,"loc":{"start":{"line":169,"column":18},"end":{"line":169,"column":31}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":177,"column":5}},"2":{"start":{"line":7,"column":4},"end":{"line":8,"column":64}},"3":{"start":{"line":10,"column":4},"end":{"line":105,"column":5}},"4":{"start":{"line":11,"column":8},"end":{"line":20,"column":32}},"5":{"start":{"line":22,"column":8},"end":{"line":31,"column":9}},"6":{"start":{"line":23,"column":12},"end":{"line":30,"column":13}},"7":{"start":{"line":24,"column":16},"end":{"line":28,"column":19}},"8":{"start":{"line":25,"column":20},"end":{"line":27,"column":21}},"9":{"start":{"line":26,"column":24},"end":{"line":26,"column":34}},"10":{"start":{"line":29,"column":16},"end":{"line":29,"column":30}},"11":{"start":{"line":33,"column":8},"end":{"line":65,"column":9}},"12":{"start":{"line":34,"column":12},"end":{"line":62,"column":13}},"13":{"start":{"line":35,"column":16},"end":{"line":61,"column":19}},"14":{"start":{"line":36,"column":20},"end":{"line":36,"column":39}},"15":{"start":{"line":38,"column":20},"end":{"line":40,"column":21}},"16":{"start":{"line":39,"column":24},"end":{"line":39,"column":34}},"17":{"start":{"line":42,"column":20},"end":{"line":45,"column":21}},"18":{"start":{"line":43,"column":24},"end":{"line":43,"column":35}},"19":{"start":{"line":44,"column":24},"end":{"line":44,"column":32}},"20":{"start":{"line":47,"column":20},"end":{"line":47,"column":46}},"21":{"start":{"line":49,"column":20},"end":{"line":49,"column":75}},"22":{"start":{"line":51,"column":20},"end":{"line":53,"column":21}},"23":{"start":{"line":52,"column":24},"end":{"line":52,"column":70}},"24":{"start":{"line":55,"column":20},"end":{"line":55,"column":77}},"25":{"start":{"line":56,"column":20},"end":{"line":60,"column":21}},"26":{"start":{"line":57,"column":24},"end":{"line":57,"column":36}},"27":{"start":{"line":59,"column":24},"end":{"line":59,"column":29}},"28":{"start":{"line":64,"column":12},"end":{"line":64,"column":24}},"29":{"start":{"line":67,"column":8},"end":{"line":69,"column":9}},"30":{"start":{"line":68,"column":12},"end":{"line":68,"column":48}},"31":{"start":{"line":71,"column":8},"end":{"line":98,"column":9}},"32":{"start":{"line":72,"column":12},"end":{"line":78,"column":13}},"33":{"start":{"line":73,"column":16},"end":{"line":73,"column":65}},"34":{"start":{"line":75,"column":16},"end":{"line":75,"column":68}},"35":{"start":{"line":76,"column":16},"end":{"line":76,"column":36}},"36":{"start":{"line":77,"column":16},"end":{"line":77,"column":24}},"37":{"start":{"line":80,"column":12},"end":{"line":82,"column":13}},"38":{"start":{"line":81,"column":16},"end":{"line":81,"column":62}},"39":{"start":{"line":84,"column":12},"end":{"line":97,"column":13}},"40":{"start":{"line":85,"column":16},"end":{"line":94,"column":17}},"41":{"start":{"line":86,"column":20},"end":{"line":91,"column":21}},"42":{"start":{"line":87,"column":24},"end":{"line":87,"column":58}},"43":{"start":{"line":88,"column":24},"end":{"line":88,"column":34}},"44":{"start":{"line":90,"column":24},"end":{"line":90,"column":66}},"45":{"start":{"line":93,"column":20},"end":{"line":93,"column":45}},"46":{"start":{"line":96,"column":16},"end":{"line":96,"column":26}},"47":{"start":{"line":100,"column":8},"end":{"line":100,"column":39}},"48":{"start":{"line":101,"column":8},"end":{"line":101,"column":33}},"49":{"start":{"line":102,"column":8},"end":{"line":102,"column":27}},"50":{"start":{"line":104,"column":8},"end":{"line":104,"column":28}},"51":{"start":{"line":107,"column":4},"end":{"line":118,"column":5}},"52":{"start":{"line":108,"column":8},"end":{"line":117,"column":11}},"53":{"start":{"line":109,"column":12},"end":{"line":109,"column":23}},"54":{"start":{"line":110,"column":12},"end":{"line":112,"column":13}},"55":{"start":{"line":111,"column":16},"end":{"line":111,"column":26}},"56":{"start":{"line":114,"column":12},"end":{"line":116,"column":48}},"57":{"start":{"line":115,"column":16},"end":{"line":115,"column":27}},"58":{"start":{"line":120,"column":4},"end":{"line":173,"column":5}},"59":{"start":{"line":121,"column":8},"end":{"line":122,"column":37}},"60":{"start":{"line":124,"column":8},"end":{"line":128,"column":9}},"61":{"start":{"line":125,"column":12},"end":{"line":127,"column":13}},"62":{"start":{"line":126,"column":16},"end":{"line":126,"column":26}},"63":{"start":{"line":130,"column":8},"end":{"line":166,"column":44}},"64":{"start":{"line":131,"column":12},"end":{"line":137,"column":13}},"65":{"start":{"line":132,"column":16},"end":{"line":136,"column":17}},"66":{"start":{"line":133,"column":20},"end":{"line":133,"column":43}},"67":{"start":{"line":135,"column":20},"end":{"line":135,"column":29}},"68":{"start":{"line":139,"column":12},"end":{"line":146,"column":13}},"69":{"start":{"line":140,"column":16},"end":{"line":145,"column":17}},"70":{"start":{"line":141,"column":20},"end":{"line":141,"column":30}},"71":{"start":{"line":143,"column":20},"end":{"line":143,"column":29}},"72":{"start":{"line":144,"column":20},"end":{"line":144,"column":35}},"73":{"start":{"line":148,"column":12},"end":{"line":163,"column":13}},"74":{"start":{"line":149,"column":16},"end":{"line":162,"column":19}},"75":{"start":{"line":150,"column":20},"end":{"line":150,"column":53}},"76":{"start":{"line":152,"column":20},"end":{"line":161,"column":21}},"77":{"start":{"line":153,"column":24},"end":{"line":153,"column":51}},"78":{"start":{"line":155,"column":24},"end":{"line":160,"column":25}},"79":{"start":{"line":156,"column":28},"end":{"line":156,"column":38}},"80":{"start":{"line":158,"column":28},"end":{"line":158,"column":37}},"81":{"start":{"line":159,"column":28},"end":{"line":159,"column":43}},"82":{"start":{"line":165,"column":12},"end":{"line":165,"column":22}},"83":{"start":{"line":168,"column":8},"end":{"line":172,"column":10}},"84":{"start":{"line":170,"column":16},"end":{"line":170,"column":29}},"85":{"start":{"line":175,"column":4},"end":{"line":175,"column":31}},"86":{"start":{"line":176,"column":4},"end":{"line":176,"column":39}}},"branchMap":{"1":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":29},"end":{"line":12,"column":37}},{"start":{"line":12,"column":41},"end":{"line":12,"column":47}}]},"2":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":29},"end":{"line":13,"column":38}},{"start":{"line":13,"column":42},"end":{"line":13,"column":46}}]},"3":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":29},"end":{"line":14,"column":39}},{"start":{"line":14,"column":43},"end":{"line":14,"column":47}}]},"4":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":12},"end":{"line":23,"column":12}},{"start":{"line":23,"column":12},"end":{"line":23,"column":12}}]},"5":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":20},"end":{"line":25,"column":20}},{"start":{"line":25,"column":20},"end":{"line":25,"column":20}}]},"6":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":20},"end":{"line":38,"column":20}},{"start":{"line":38,"column":20},"end":{"line":38,"column":20}}]},"7":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":20},"end":{"line":42,"column":20}},{"start":{"line":42,"column":20},"end":{"line":42,"column":20}}]},"8":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":20},"end":{"line":51,"column":20}},{"start":{"line":51,"column":20},"end":{"line":51,"column":20}}]},"9":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":20},"end":{"line":56,"column":20}},{"start":{"line":56,"column":20},"end":{"line":56,"column":20}}]},"10":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":24},"end":{"line":56,"column":33}},{"start":{"line":56,"column":38},"end":{"line":56,"column":59}},{"start":{"line":56,"column":63},"end":{"line":56,"column":77}},{"start":{"line":56,"column":82},"end":{"line":56,"column":86}}]},"11":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":19},"end":{"line":68,"column":39}},{"start":{"line":68,"column":43},"end":{"line":68,"column":47}}]},"12":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":12},"end":{"line":80,"column":12}},{"start":{"line":80,"column":12},"end":{"line":80,"column":12}}]},"13":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":12},"end":{"line":84,"column":12}},{"start":{"line":84,"column":12},"end":{"line":84,"column":12}}]},"14":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":16},"end":{"line":85,"column":16}},{"start":{"line":85,"column":16},"end":{"line":85,"column":16}}]},"15":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":20},"end":{"line":86,"column":20}},{"start":{"line":86,"column":20},"end":{"line":86,"column":20}}]},"16":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":12},"end":{"line":110,"column":12}},{"start":{"line":110,"column":12},"end":{"line":110,"column":12}}]},"17":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":12},"end":{"line":125,"column":12}},{"start":{"line":125,"column":12},"end":{"line":125,"column":12}}]},"18":{"line":125,"type":"binary-expr","locations":[{"start":{"line":125,"column":16},"end":{"line":125,"column":23}},{"start":{"line":125,"column":27},"end":{"line":125,"column":56}}]},"19":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":16},"end":{"line":132,"column":16}},{"start":{"line":132,"column":16},"end":{"line":132,"column":16}}]},"20":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":16},"end":{"line":140,"column":16}},{"start":{"line":140,"column":16},"end":{"line":140,"column":16}}]},"21":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":20},"end":{"line":152,"column":20}},{"start":{"line":152,"column":20},"end":{"line":152,"column":20}}]},"22":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":24},"end":{"line":155,"column":24}},{"start":{"line":155,"column":24},"end":{"line":155,"column":24}}]}},"code":["/**"," * Created by cherokee on 14-5-27."," */","(function() {","    \"use strict\";","","    var fs = require('fs'),","        StringDecoder = require('string_decoder').StringDecoder;","","    function LineReader(fd, cb, separator, encoding, bufferSize) {","        var filePosition   = 0,","            encoding       = encoding || 'utf8',","            separator      = separator || '\\n',","            bufferSize     = bufferSize || 1024,","            buffer         = new Buffer(bufferSize),","            bufferStr      = '',","            decoder        = new StringDecoder(encoding),","            closed         = false,","            eof            = false,","            separatorIndex = -1;","","        function close() {","            if (!closed) {","                fs.close(fd, function(err) {","                    if (err) {","                        throw err;","                    }","                });","                closed = true;","            }","        }","","        function readToSeparator(cb) {","            function readChunk() {","                fs.read(fd, buffer, 0, bufferSize, filePosition, function(err, bytesRead) {","                    var separatorAtEnd;","","                    if (err) {","                        throw err;","                    }","","                    if (bytesRead < bufferSize) {","                        eof = true;","                        close();","                    }","","                    filePosition += bytesRead;","","                    bufferStr += decoder.write(buffer.slice(0, bytesRead));","","                    if (separatorIndex < 0) {","                        separatorIndex = bufferStr.indexOf(separator);","                    }","","                    separatorAtEnd = separatorIndex === bufferStr.length - 1;","                    if (bytesRead && (separatorIndex === -1 || separatorAtEnd) && !eof) {","                        readChunk();","                    } else {","                        cb();","                    }","                });","            }","","            readChunk();","        }","","        function hasNextLine() {","            return bufferStr.length > 0 || !eof;","        }","","        function nextLine(cb) {","            function getLine() {","                var ret = bufferStr.substring(0, separatorIndex);","","                bufferStr = bufferStr.substring(separatorIndex + 1);","                separatorIndex = -1;","                cb(ret);","            }","","            if (separatorIndex < 0) {","                separatorIndex = bufferStr.indexOf(separator);","            }","","            if (separatorIndex < 0) {","                if (eof) {","                    if (hasNextLine()) {","                        separatorIndex = bufferStr.length;","                        getLine();","                    } else {","                        throw new Error('No more lines to read.');","                    }","                } else {","                    readToSeparator(getLine);","                }","            } else {","                getLine();","            }","        }","","        this.hasNextLine = hasNextLine;","        this.nextLine = nextLine;","        this.close = close;","","        readToSeparator(cb);","    }","","    function open(filename, cb, separator, encoding, bufferSize) {","        fs.open(filename, 'r', parseInt('666', 8), function(err, fd) {","            var reader;","            if (err) {","                throw err;","            }","","            reader = new LineReader(fd, function() {","                cb(reader);","            }, separator, encoding, bufferSize);","        });","    }","","    function eachLine(filename, cb, separator, encoding, bufferSize) {","        var finalFn,","            asyncCb = cb.length == 3;","","        function finish() {","            if (finalFn && typeof finalFn === 'function') {","                finalFn();","            }","        }","","        open(filename, function(reader) {","            function newRead() {","                if (reader.hasNextLine()) {","                    setImmediate(readNext);","                } else {","                    finish();","                }","            }","","            function continueCb(continueReading) {","                if (continueReading !== false) {","                    newRead();","                } else {","                    finish();","                    reader.close();","                }","            }","","            function readNext() {","                reader.nextLine(function(line) {","                    var last = !reader.hasNextLine();","","                    if (asyncCb) {","                        cb(line, last, continueCb);","                    } else {","                        if (cb(line, last) !== false) {","                            newRead();","                        } else {","                            finish();","                            reader.close();","                        }","                    }","                });","            }","","            newRead();","        }, separator, encoding, bufferSize);","","        return {","            then: function(cb) {","                finalFn = cb;","            }","        };","    }","","    module.exports.open = open;","    module.exports.eachLine = eachLine;","}());"],"l":{"4":1,"7":1,"10":1,"11":0,"22":1,"23":0,"24":0,"25":0,"26":0,"29":0,"33":1,"34":1,"35":0,"36":0,"38":0,"39":0,"42":0,"43":0,"44":0,"47":0,"49":0,"51":0,"52":0,"55":0,"56":0,"57":0,"59":0,"64":0,"67":1,"68":0,"71":1,"72":1,"73":0,"75":0,"76":0,"77":0,"80":0,"81":0,"84":0,"85":0,"86":0,"87":0,"88":0,"90":0,"93":0,"96":0,"100":0,"101":0,"102":0,"104":0,"107":1,"108":0,"109":0,"110":0,"111":0,"114":0,"115":0,"120":1,"121":0,"124":1,"125":0,"126":0,"130":0,"131":1,"132":0,"133":0,"135":0,"139":1,"140":0,"141":0,"143":0,"144":0,"148":1,"149":0,"150":0,"152":0,"153":0,"155":0,"156":0,"158":0,"159":0,"165":0,"168":0,"170":0,"175":1,"176":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/myredis.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/myredis.js","s":{"1":1,"2":1,"3":1,"4":2,"5":0,"6":0,"7":2,"8":2,"9":0,"10":2,"11":0,"12":2,"13":0,"14":2,"15":0,"16":2,"17":0,"18":2,"19":0,"20":2,"21":0},"b":{"1":[0,2]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":59}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":49}}},"3":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":27},"end":{"line":18,"column":50}}},"4":{"name":"(anonymous_4)","line":21,"loc":{"start":{"line":21,"column":25},"end":{"line":21,"column":48}}},"5":{"name":"(anonymous_5)","line":24,"loc":{"start":{"line":24,"column":26},"end":{"line":24,"column":49}}},"6":{"name":"(anonymous_6)","line":27,"loc":{"start":{"line":27,"column":26},"end":{"line":27,"column":49}}},"7":{"name":"(anonymous_7)","line":30,"loc":{"start":{"line":30,"column":26},"end":{"line":30,"column":36}}},"8":{"name":"(anonymous_8)","line":33,"loc":{"start":{"line":33,"column":29},"end":{"line":33,"column":49}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":38}},"3":{"start":{"line":9,"column":0},"end":{"line":37,"column":1}},"4":{"start":{"line":10,"column":4},"end":{"line":36,"column":5}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":46}},"6":{"start":{"line":12,"column":8},"end":{"line":12,"column":32}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":54}},"8":{"start":{"line":15,"column":8},"end":{"line":17,"column":10}},"9":{"start":{"line":16,"column":12},"end":{"line":16,"column":42}},"10":{"start":{"line":18,"column":8},"end":{"line":20,"column":10}},"11":{"start":{"line":19,"column":12},"end":{"line":19,"column":41}},"12":{"start":{"line":21,"column":8},"end":{"line":23,"column":10}},"13":{"start":{"line":22,"column":12},"end":{"line":22,"column":69}},"14":{"start":{"line":24,"column":8},"end":{"line":26,"column":10}},"15":{"start":{"line":25,"column":12},"end":{"line":25,"column":42}},"16":{"start":{"line":27,"column":8},"end":{"line":29,"column":10}},"17":{"start":{"line":28,"column":12},"end":{"line":28,"column":42}},"18":{"start":{"line":30,"column":8},"end":{"line":32,"column":10}},"19":{"start":{"line":31,"column":12},"end":{"line":31,"column":29}},"20":{"start":{"line":33,"column":8},"end":{"line":35,"column":11}},"21":{"start":{"line":34,"column":12},"end":{"line":34,"column":36}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":4}},{"start":{"line":10,"column":4},"end":{"line":10,"column":4}}]}},"code":["/**"," * redis instance"," * Created by cherokee on 14-5-22."," */","","var redis = require(\"redis\");","var ssdb = require(\"./ssdb_redis.js\");","","exports.createClient = function(host,port,db,type,callback){","    if(type=='ssdb'){","        var ssdb_cli = ssdb.client(host,port);","        callback(null,ssdb_cli);","    }else{","        var redis_cli = redis.createClient(port,host);","        redis_cli.hlist = function(name,callback){","            redis_cli.keys(name,callback);","        };","        redis_cli.hclear = function(name,callback){","            redis_cli.del(name,callback);","        };","        redis_cli.zlen = function(name,callback){","            redis_cli.zcount(name,0,(new Date()).getTime(),callback);","        };","        redis_cli.zlist = function(name,callback){","            redis_cli.keys(name,callback);","        };","        redis_cli.qlist = function(name,callback){","            redis_cli.keys(name,callback);","        };","        redis_cli.close = function(){","            redis_cli.quit();","        };","        redis_cli.select(db, function(err,value) {","            callback(err,redis_cli);","        });","    }","}","","/*","exports.createClient('10.1.1.122',1788,0,'ssdb',function(err,c){","    c.hlist('driller',function(err,values){","        console.log(err);","        console.log(values);","        //c.close();","    });","});","*/"],"l":{"6":1,"7":1,"9":1,"10":2,"11":0,"12":0,"14":2,"15":2,"16":0,"18":2,"19":0,"21":2,"22":0,"24":2,"25":0,"27":2,"28":0,"30":2,"31":0,"33":2,"34":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/ssdb_redis.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/ssdb_redis.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":0,"8":1,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":1,"26":0,"27":1,"28":0,"29":1,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":1,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":1,"89":0,"90":0,"91":0,"92":0,"93":1,"94":0,"95":0,"96":0,"97":0,"98":1,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":1,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":1,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":1,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":1,"133":0,"134":0,"135":0,"136":0,"137":0,"138":1,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":1,"148":0,"149":1,"150":0,"151":1,"152":0,"153":1,"154":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0},"fnMap":{"1":{"name":"(anonymous_1)","line":7,"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":35}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":52},"end":{"line":8,"column":72}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":26},"end":{"line":13,"column":48}}},"4":{"name":"(anonymous_4)","line":17,"loc":{"start":{"line":17,"column":26},"end":{"line":17,"column":54}}},"5":{"name":"(anonymous_5)","line":21,"loc":{"start":{"line":21,"column":29},"end":{"line":21,"column":55}}},"6":{"name":"(anonymous_6)","line":23,"loc":{"start":{"line":23,"column":26},"end":{"line":23,"column":43}}},"7":{"name":"(anonymous_7)","line":24,"loc":{"start":{"line":24,"column":51},"end":{"line":24,"column":65}}},"8":{"name":"(anonymous_8)","line":33,"loc":{"start":{"line":33,"column":29},"end":{"line":33,"column":51}}},"9":{"name":"(anonymous_9)","line":34,"loc":{"start":{"line":34,"column":41},"end":{"line":34,"column":55}}},"10":{"name":"(anonymous_10)","line":43,"loc":{"start":{"line":43,"column":26},"end":{"line":43,"column":48}}},"11":{"name":"(anonymous_11)","line":47,"loc":{"start":{"line":47,"column":27},"end":{"line":47,"column":49}}},"12":{"name":"(anonymous_12)","line":51,"loc":{"start":{"line":51,"column":28},"end":{"line":51,"column":50}}},"13":{"name":"(anonymous_13)","line":55,"loc":{"start":{"line":55,"column":27},"end":{"line":55,"column":60}}},"14":{"name":"(anonymous_14)","line":59,"loc":{"start":{"line":59,"column":30},"end":{"line":59,"column":52}}},"15":{"name":"(anonymous_15)","line":60,"loc":{"start":{"line":60,"column":49},"end":{"line":60,"column":63}}},"16":{"name":"(anonymous_16)","line":72,"loc":{"start":{"line":72,"column":28},"end":{"line":72,"column":57}}},"17":{"name":"(anonymous_17)","line":82,"loc":{"start":{"line":82,"column":48},"end":{"line":82,"column":62}}},"18":{"name":"(anonymous_18)","line":90,"loc":{"start":{"line":90,"column":27},"end":{"line":90,"column":54}}},"19":{"name":"(anonymous_19)","line":94,"loc":{"start":{"line":94,"column":29},"end":{"line":94,"column":51}}},"20":{"name":"(anonymous_20)","line":95,"loc":{"start":{"line":95,"column":41},"end":{"line":95,"column":55}}},"21":{"name":"(anonymous_21)","line":103,"loc":{"start":{"line":103,"column":27},"end":{"line":103,"column":60}}},"22":{"name":"(anonymous_22)","line":104,"loc":{"start":{"line":104,"column":50},"end":{"line":104,"column":64}}},"23":{"name":"(anonymous_23)","line":112,"loc":{"start":{"line":112,"column":29},"end":{"line":112,"column":56}}},"24":{"name":"(anonymous_24)","line":113,"loc":{"start":{"line":113,"column":45},"end":{"line":113,"column":59}}},"25":{"name":"(anonymous_25)","line":122,"loc":{"start":{"line":122,"column":27},"end":{"line":122,"column":54}}},"26":{"name":"(anonymous_26)","line":123,"loc":{"start":{"line":123,"column":44},"end":{"line":123,"column":58}}},"27":{"name":"(anonymous_27)","line":131,"loc":{"start":{"line":131,"column":27},"end":{"line":131,"column":49}}},"28":{"name":"(anonymous_28)","line":132,"loc":{"start":{"line":132,"column":41},"end":{"line":132,"column":55}}},"29":{"name":"(anonymous_29)","line":141,"loc":{"start":{"line":141,"column":28},"end":{"line":141,"column":50}}},"30":{"name":"(anonymous_30)","line":142,"loc":{"start":{"line":142,"column":81},"end":{"line":142,"column":95}}},"31":{"name":"(anonymous_31)","line":155,"loc":{"start":{"line":155,"column":28},"end":{"line":155,"column":55}}},"32":{"name":"(anonymous_32)","line":156,"loc":{"start":{"line":156,"column":51},"end":{"line":156,"column":65}}},"33":{"name":"(anonymous_33)","line":164,"loc":{"start":{"line":164,"column":28},"end":{"line":164,"column":55}}},"34":{"name":"(anonymous_34)","line":165,"loc":{"start":{"line":165,"column":50},"end":{"line":165,"column":64}}},"35":{"name":"(anonymous_35)","line":173,"loc":{"start":{"line":173,"column":27},"end":{"line":173,"column":50}}},"36":{"name":"(anonymous_36)","line":174,"loc":{"start":{"line":174,"column":47},"end":{"line":174,"column":61}}},"37":{"name":"(anonymous_37)","line":184,"loc":{"start":{"line":184,"column":27},"end":{"line":184,"column":50}}},"38":{"name":"(anonymous_38)","line":185,"loc":{"start":{"line":185,"column":46},"end":{"line":185,"column":60}}},"39":{"name":"(anonymous_39)","line":195,"loc":{"start":{"line":195,"column":32},"end":{"line":195,"column":60}}},"40":{"name":"(anonymous_40)","line":197,"loc":{"start":{"line":197,"column":19},"end":{"line":197,"column":36}}},"41":{"name":"(anonymous_41)","line":200,"loc":{"start":{"line":200,"column":32},"end":{"line":200,"column":45}}},"42":{"name":"(anonymous_42)","line":208,"loc":{"start":{"line":208,"column":29},"end":{"line":208,"column":62}}},"43":{"name":"(anonymous_43)","line":209,"loc":{"start":{"line":209,"column":52},"end":{"line":209,"column":66}}},"44":{"name":"(anonymous_44)","line":222,"loc":{"start":{"line":222,"column":27},"end":{"line":222,"column":49}}},"45":{"name":"(anonymous_45)","line":223,"loc":{"start":{"line":223,"column":41},"end":{"line":223,"column":55}}},"46":{"name":"(anonymous_46)","line":232,"loc":{"start":{"line":232,"column":29},"end":{"line":232,"column":62}}},"47":{"name":"(anonymous_47)","line":233,"loc":{"start":{"line":233,"column":57},"end":{"line":233,"column":71}}},"48":{"name":"(anonymous_48)","line":246,"loc":{"start":{"line":246,"column":28},"end":{"line":246,"column":50}}},"49":{"name":"(anonymous_49)","line":250,"loc":{"start":{"line":250,"column":28},"end":{"line":250,"column":38}}},"50":{"name":"(anonymous_50)","line":254,"loc":{"start":{"line":254,"column":27},"end":{"line":254,"column":37}}},"51":{"name":"(anonymous_51)","line":258,"loc":{"start":{"line":258,"column":17},"end":{"line":258,"column":36}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}},"2":{"start":{"line":7,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":8,"column":4},"end":{"line":10,"column":7}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":28}},"5":{"start":{"line":9,"column":15},"end":{"line":9,"column":28}},"6":{"start":{"line":13,"column":0},"end":{"line":15,"column":1}},"7":{"start":{"line":14,"column":4},"end":{"line":14,"column":36}},"8":{"start":{"line":17,"column":0},"end":{"line":19,"column":1}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":42}},"10":{"start":{"line":21,"column":0},"end":{"line":31,"column":1}},"11":{"start":{"line":22,"column":4},"end":{"line":22,"column":20}},"12":{"start":{"line":23,"column":4},"end":{"line":30,"column":7}},"13":{"start":{"line":24,"column":8},"end":{"line":29,"column":11}},"14":{"start":{"line":25,"column":12},"end":{"line":28,"column":13}},"15":{"start":{"line":26,"column":16},"end":{"line":26,"column":55}},"16":{"start":{"line":27,"column":16},"end":{"line":27,"column":30}},"17":{"start":{"line":33,"column":0},"end":{"line":41,"column":1}},"18":{"start":{"line":34,"column":4},"end":{"line":40,"column":7}},"19":{"start":{"line":35,"column":8},"end":{"line":39,"column":9}},"20":{"start":{"line":36,"column":12},"end":{"line":36,"column":51}},"21":{"start":{"line":37,"column":12},"end":{"line":37,"column":30}},"22":{"start":{"line":38,"column":12},"end":{"line":38,"column":31}},"23":{"start":{"line":43,"column":0},"end":{"line":45,"column":1}},"24":{"start":{"line":44,"column":4},"end":{"line":44,"column":36}},"25":{"start":{"line":47,"column":0},"end":{"line":49,"column":1}},"26":{"start":{"line":48,"column":4},"end":{"line":48,"column":43}},"27":{"start":{"line":51,"column":0},"end":{"line":53,"column":1}},"28":{"start":{"line":52,"column":4},"end":{"line":52,"column":79}},"29":{"start":{"line":55,"column":0},"end":{"line":57,"column":1}},"30":{"start":{"line":56,"column":4},"end":{"line":56,"column":48}},"31":{"start":{"line":59,"column":0},"end":{"line":70,"column":1}},"32":{"start":{"line":60,"column":4},"end":{"line":69,"column":7}},"33":{"start":{"line":61,"column":8},"end":{"line":68,"column":9}},"34":{"start":{"line":62,"column":12},"end":{"line":62,"column":51}},"35":{"start":{"line":63,"column":12},"end":{"line":63,"column":26}},"36":{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},"37":{"start":{"line":65,"column":16},"end":{"line":65,"column":64}},"38":{"start":{"line":67,"column":12},"end":{"line":67,"column":32}},"39":{"start":{"line":72,"column":0},"end":{"line":88,"column":1}},"40":{"start":{"line":73,"column":4},"end":{"line":73,"column":25}},"41":{"start":{"line":74,"column":4},"end":{"line":81,"column":5}},"42":{"start":{"line":75,"column":8},"end":{"line":80,"column":9}},"43":{"start":{"line":76,"column":12},"end":{"line":79,"column":13}},"44":{"start":{"line":77,"column":16},"end":{"line":77,"column":33}},"45":{"start":{"line":78,"column":16},"end":{"line":78,"column":41}},"46":{"start":{"line":82,"column":4},"end":{"line":87,"column":7}},"47":{"start":{"line":83,"column":8},"end":{"line":86,"column":9}},"48":{"start":{"line":84,"column":12},"end":{"line":84,"column":51}},"49":{"start":{"line":85,"column":12},"end":{"line":85,"column":26}},"50":{"start":{"line":90,"column":0},"end":{"line":92,"column":1}},"51":{"start":{"line":91,"column":4},"end":{"line":91,"column":42}},"52":{"start":{"line":94,"column":0},"end":{"line":101,"column":1}},"53":{"start":{"line":95,"column":4},"end":{"line":100,"column":7}},"54":{"start":{"line":96,"column":8},"end":{"line":99,"column":9}},"55":{"start":{"line":97,"column":12},"end":{"line":97,"column":51}},"56":{"start":{"line":98,"column":12},"end":{"line":98,"column":26}},"57":{"start":{"line":103,"column":0},"end":{"line":110,"column":1}},"58":{"start":{"line":104,"column":4},"end":{"line":109,"column":7}},"59":{"start":{"line":105,"column":8},"end":{"line":108,"column":9}},"60":{"start":{"line":106,"column":12},"end":{"line":106,"column":51}},"61":{"start":{"line":107,"column":12},"end":{"line":107,"column":26}},"62":{"start":{"line":112,"column":0},"end":{"line":120,"column":1}},"63":{"start":{"line":113,"column":4},"end":{"line":119,"column":7}},"64":{"start":{"line":114,"column":8},"end":{"line":118,"column":9}},"65":{"start":{"line":115,"column":12},"end":{"line":115,"column":51}},"66":{"start":{"line":116,"column":12},"end":{"line":116,"column":30}},"67":{"start":{"line":117,"column":12},"end":{"line":117,"column":31}},"68":{"start":{"line":122,"column":0},"end":{"line":129,"column":1}},"69":{"start":{"line":123,"column":4},"end":{"line":128,"column":7}},"70":{"start":{"line":124,"column":8},"end":{"line":127,"column":9}},"71":{"start":{"line":125,"column":12},"end":{"line":125,"column":51}},"72":{"start":{"line":126,"column":12},"end":{"line":126,"column":26}},"73":{"start":{"line":131,"column":0},"end":{"line":139,"column":1}},"74":{"start":{"line":132,"column":4},"end":{"line":138,"column":7}},"75":{"start":{"line":133,"column":8},"end":{"line":137,"column":9}},"76":{"start":{"line":134,"column":12},"end":{"line":134,"column":51}},"77":{"start":{"line":135,"column":12},"end":{"line":135,"column":30}},"78":{"start":{"line":136,"column":12},"end":{"line":136,"column":31}},"79":{"start":{"line":141,"column":0},"end":{"line":153,"column":1}},"80":{"start":{"line":142,"column":4},"end":{"line":152,"column":7}},"81":{"start":{"line":143,"column":8},"end":{"line":151,"column":9}},"82":{"start":{"line":144,"column":12},"end":{"line":144,"column":51}},"83":{"start":{"line":145,"column":12},"end":{"line":145,"column":26}},"84":{"start":{"line":146,"column":12},"end":{"line":149,"column":13}},"85":{"start":{"line":147,"column":16},"end":{"line":147,"column":43}},"86":{"start":{"line":148,"column":16},"end":{"line":148,"column":29}},"87":{"start":{"line":150,"column":12},"end":{"line":150,"column":32}},"88":{"start":{"line":155,"column":0},"end":{"line":162,"column":1}},"89":{"start":{"line":156,"column":4},"end":{"line":161,"column":7}},"90":{"start":{"line":157,"column":8},"end":{"line":160,"column":9}},"91":{"start":{"line":158,"column":12},"end":{"line":158,"column":51}},"92":{"start":{"line":159,"column":12},"end":{"line":159,"column":26}},"93":{"start":{"line":164,"column":0},"end":{"line":171,"column":1}},"94":{"start":{"line":165,"column":4},"end":{"line":170,"column":7}},"95":{"start":{"line":166,"column":8},"end":{"line":169,"column":9}},"96":{"start":{"line":167,"column":12},"end":{"line":167,"column":51}},"97":{"start":{"line":168,"column":12},"end":{"line":168,"column":26}},"98":{"start":{"line":173,"column":0},"end":{"line":182,"column":1}},"99":{"start":{"line":174,"column":4},"end":{"line":181,"column":7}},"100":{"start":{"line":175,"column":8},"end":{"line":180,"column":9}},"101":{"start":{"line":176,"column":12},"end":{"line":176,"column":51}},"102":{"start":{"line":177,"column":12},"end":{"line":177,"column":30}},"103":{"start":{"line":178,"column":12},"end":{"line":178,"column":38}},"104":{"start":{"line":178,"column":19},"end":{"line":178,"column":38}},"105":{"start":{"line":179,"column":12},"end":{"line":179,"column":31}},"106":{"start":{"line":184,"column":0},"end":{"line":193,"column":1}},"107":{"start":{"line":185,"column":4},"end":{"line":192,"column":7}},"108":{"start":{"line":186,"column":8},"end":{"line":191,"column":9}},"109":{"start":{"line":187,"column":12},"end":{"line":187,"column":51}},"110":{"start":{"line":188,"column":12},"end":{"line":188,"column":30}},"111":{"start":{"line":189,"column":12},"end":{"line":189,"column":38}},"112":{"start":{"line":189,"column":19},"end":{"line":189,"column":38}},"113":{"start":{"line":190,"column":12},"end":{"line":190,"column":31}},"114":{"start":{"line":195,"column":0},"end":{"line":206,"column":1}},"115":{"start":{"line":196,"column":4},"end":{"line":196,"column":20}},"116":{"start":{"line":197,"column":4},"end":{"line":205,"column":7}},"117":{"start":{"line":198,"column":8},"end":{"line":204,"column":9}},"118":{"start":{"line":198,"column":15},"end":{"line":198,"column":29}},"119":{"start":{"line":200,"column":12},"end":{"line":203,"column":15}},"120":{"start":{"line":201,"column":16},"end":{"line":202,"column":41}},"121":{"start":{"line":201,"column":23},"end":{"line":201,"column":37}},"122":{"start":{"line":202,"column":21},"end":{"line":202,"column":41}},"123":{"start":{"line":208,"column":0},"end":{"line":220,"column":1}},"124":{"start":{"line":209,"column":4},"end":{"line":219,"column":7}},"125":{"start":{"line":210,"column":8},"end":{"line":218,"column":9}},"126":{"start":{"line":211,"column":12},"end":{"line":211,"column":51}},"127":{"start":{"line":212,"column":12},"end":{"line":212,"column":26}},"128":{"start":{"line":213,"column":12},"end":{"line":216,"column":13}},"129":{"start":{"line":214,"column":16},"end":{"line":214,"column":43}},"130":{"start":{"line":215,"column":16},"end":{"line":215,"column":29}},"131":{"start":{"line":217,"column":12},"end":{"line":217,"column":32}},"132":{"start":{"line":222,"column":0},"end":{"line":230,"column":1}},"133":{"start":{"line":223,"column":4},"end":{"line":229,"column":7}},"134":{"start":{"line":224,"column":8},"end":{"line":228,"column":9}},"135":{"start":{"line":225,"column":12},"end":{"line":225,"column":51}},"136":{"start":{"line":226,"column":12},"end":{"line":226,"column":30}},"137":{"start":{"line":227,"column":12},"end":{"line":227,"column":31}},"138":{"start":{"line":232,"column":0},"end":{"line":244,"column":1}},"139":{"start":{"line":233,"column":4},"end":{"line":243,"column":7}},"140":{"start":{"line":234,"column":8},"end":{"line":242,"column":9}},"141":{"start":{"line":235,"column":12},"end":{"line":235,"column":51}},"142":{"start":{"line":236,"column":12},"end":{"line":236,"column":26}},"143":{"start":{"line":237,"column":12},"end":{"line":240,"column":13}},"144":{"start":{"line":238,"column":16},"end":{"line":238,"column":43}},"145":{"start":{"line":239,"column":16},"end":{"line":239,"column":29}},"146":{"start":{"line":241,"column":12},"end":{"line":241,"column":32}},"147":{"start":{"line":246,"column":0},"end":{"line":248,"column":1}},"148":{"start":{"line":247,"column":4},"end":{"line":247,"column":79}},"149":{"start":{"line":250,"column":0},"end":{"line":252,"column":1}},"150":{"start":{"line":251,"column":4},"end":{"line":251,"column":26}},"151":{"start":{"line":254,"column":0},"end":{"line":256,"column":1}},"152":{"start":{"line":255,"column":4},"end":{"line":255,"column":26}},"153":{"start":{"line":258,"column":0},"end":{"line":260,"column":2}},"154":{"start":{"line":259,"column":4},"end":{"line":259,"column":36}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":8}},{"start":{"line":9,"column":8},"end":{"line":9,"column":8}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":25,"column":12}},{"start":{"line":25,"column":12},"end":{"line":25,"column":12}}]},"3":{"line":26,"type":"cond-expr","locations":[{"start":{"line":26,"column":43},"end":{"line":26,"column":44}},{"start":{"line":26,"column":47},"end":{"line":26,"column":54}}]},"4":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":8}},{"start":{"line":35,"column":8},"end":{"line":35,"column":8}}]},"5":{"line":36,"type":"cond-expr","locations":[{"start":{"line":36,"column":39},"end":{"line":36,"column":40}},{"start":{"line":36,"column":43},"end":{"line":36,"column":50}}]},"6":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":8},"end":{"line":61,"column":8}},{"start":{"line":61,"column":8},"end":{"line":61,"column":8}}]},"7":{"line":62,"type":"cond-expr","locations":[{"start":{"line":62,"column":39},"end":{"line":62,"column":40}},{"start":{"line":62,"column":43},"end":{"line":62,"column":50}}]},"8":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":8}},{"start":{"line":75,"column":8},"end":{"line":75,"column":8}}]},"9":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":12},"end":{"line":76,"column":12}},{"start":{"line":76,"column":12},"end":{"line":76,"column":12}}]},"10":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":15},"end":{"line":76,"column":21}},{"start":{"line":76,"column":23},"end":{"line":76,"column":37}}]},"11":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":8},"end":{"line":83,"column":8}},{"start":{"line":83,"column":8},"end":{"line":83,"column":8}}]},"12":{"line":84,"type":"cond-expr","locations":[{"start":{"line":84,"column":39},"end":{"line":84,"column":40}},{"start":{"line":84,"column":43},"end":{"line":84,"column":50}}]},"13":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":8},"end":{"line":96,"column":8}},{"start":{"line":96,"column":8},"end":{"line":96,"column":8}}]},"14":{"line":97,"type":"cond-expr","locations":[{"start":{"line":97,"column":39},"end":{"line":97,"column":40}},{"start":{"line":97,"column":43},"end":{"line":97,"column":50}}]},"15":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":8},"end":{"line":105,"column":8}},{"start":{"line":105,"column":8},"end":{"line":105,"column":8}}]},"16":{"line":106,"type":"cond-expr","locations":[{"start":{"line":106,"column":39},"end":{"line":106,"column":40}},{"start":{"line":106,"column":43},"end":{"line":106,"column":50}}]},"17":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":8}},{"start":{"line":114,"column":8},"end":{"line":114,"column":8}}]},"18":{"line":115,"type":"cond-expr","locations":[{"start":{"line":115,"column":39},"end":{"line":115,"column":40}},{"start":{"line":115,"column":43},"end":{"line":115,"column":50}}]},"19":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":8},"end":{"line":124,"column":8}},{"start":{"line":124,"column":8},"end":{"line":124,"column":8}}]},"20":{"line":125,"type":"cond-expr","locations":[{"start":{"line":125,"column":39},"end":{"line":125,"column":40}},{"start":{"line":125,"column":43},"end":{"line":125,"column":50}}]},"21":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":8},"end":{"line":133,"column":8}},{"start":{"line":133,"column":8},"end":{"line":133,"column":8}}]},"22":{"line":134,"type":"cond-expr","locations":[{"start":{"line":134,"column":39},"end":{"line":134,"column":40}},{"start":{"line":134,"column":43},"end":{"line":134,"column":50}}]},"23":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":8},"end":{"line":143,"column":8}},{"start":{"line":143,"column":8},"end":{"line":143,"column":8}}]},"24":{"line":144,"type":"cond-expr","locations":[{"start":{"line":144,"column":39},"end":{"line":144,"column":40}},{"start":{"line":144,"column":43},"end":{"line":144,"column":50}}]},"25":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":8},"end":{"line":157,"column":8}},{"start":{"line":157,"column":8},"end":{"line":157,"column":8}}]},"26":{"line":158,"type":"cond-expr","locations":[{"start":{"line":158,"column":39},"end":{"line":158,"column":40}},{"start":{"line":158,"column":43},"end":{"line":158,"column":50}}]},"27":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":8},"end":{"line":166,"column":8}},{"start":{"line":166,"column":8},"end":{"line":166,"column":8}}]},"28":{"line":167,"type":"cond-expr","locations":[{"start":{"line":167,"column":39},"end":{"line":167,"column":40}},{"start":{"line":167,"column":43},"end":{"line":167,"column":50}}]},"29":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":8},"end":{"line":175,"column":8}},{"start":{"line":175,"column":8},"end":{"line":175,"column":8}}]},"30":{"line":176,"type":"cond-expr","locations":[{"start":{"line":176,"column":39},"end":{"line":176,"column":40}},{"start":{"line":176,"column":43},"end":{"line":176,"column":50}}]},"31":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":12},"end":{"line":178,"column":12}},{"start":{"line":178,"column":12},"end":{"line":178,"column":12}}]},"32":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":8},"end":{"line":186,"column":8}},{"start":{"line":186,"column":8},"end":{"line":186,"column":8}}]},"33":{"line":187,"type":"cond-expr","locations":[{"start":{"line":187,"column":39},"end":{"line":187,"column":40}},{"start":{"line":187,"column":43},"end":{"line":187,"column":50}}]},"34":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":12},"end":{"line":189,"column":12}},{"start":{"line":189,"column":12},"end":{"line":189,"column":12}}]},"35":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":8},"end":{"line":198,"column":8}},{"start":{"line":198,"column":8},"end":{"line":198,"column":8}}]},"36":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":16},"end":{"line":201,"column":16}},{"start":{"line":201,"column":16},"end":{"line":201,"column":16}}]},"37":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":8},"end":{"line":210,"column":8}},{"start":{"line":210,"column":8},"end":{"line":210,"column":8}}]},"38":{"line":211,"type":"cond-expr","locations":[{"start":{"line":211,"column":39},"end":{"line":211,"column":40}},{"start":{"line":211,"column":43},"end":{"line":211,"column":50}}]},"39":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":8},"end":{"line":224,"column":8}},{"start":{"line":224,"column":8},"end":{"line":224,"column":8}}]},"40":{"line":225,"type":"cond-expr","locations":[{"start":{"line":225,"column":39},"end":{"line":225,"column":40}},{"start":{"line":225,"column":43},"end":{"line":225,"column":50}}]},"41":{"line":234,"type":"if","locations":[{"start":{"line":234,"column":8},"end":{"line":234,"column":8}},{"start":{"line":234,"column":8},"end":{"line":234,"column":8}}]},"42":{"line":235,"type":"cond-expr","locations":[{"start":{"line":235,"column":39},"end":{"line":235,"column":40}},{"start":{"line":235,"column":43},"end":{"line":235,"column":50}}]}},"code":["/**"," * ssdb redis client wrapper"," * Created by cherokee on 14-5-22."," */","var SSDB = require('./SSDB.js');","","var redis_cli = function(host,port){","    this.ssdb_cli = SSDB.connect(host, port,30*1000,function(err,errobj){","        if(err)throw errobj;","    });","}","","redis_cli.prototype.get = function(key,callback){","    this.ssdb_cli.get(key,callback);","}","","redis_cli.prototype.set = function(key,value,callback){","    this.ssdb_cli.set(key,value,callback);","}","","redis_cli.prototype.expire = function(key,sec,callback){","    var self = this;","    this.ssdb_cli.get(key,function(err,val){","        self.ssdb_cli.request('setx',[key,val,sec],function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                callback(err);","            }","        });","    });","}","","redis_cli.prototype.exists = function(key,callback){","    this.ssdb_cli.request('exists',[key],function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            var val = resp[1];","            callback(err, val);","        }","    });","}","","redis_cli.prototype.del = function(key,callback){","    this.ssdb_cli.del(key,callback);","}","","redis_cli.prototype.keys = function(key,callback){","    this.ssdb_cli.keys(key,'',-1,callback);","}","","redis_cli.prototype.hlist = function(key,callback){","    this.ssdb_cli.hlist(key.replace('*','0'),key.replace('*','{'),-1,callback);","}","","redis_cli.prototype.hset = function(key,attr,value,callback){","    this.ssdb_cli.hset(key,attr,value,callback);","}","","redis_cli.prototype.hgetall = function(key,callback){","    this.ssdb_cli.request('hscan',[key,'','',-1],function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            var data = {};","            for(var i=1; i<resp.length-1; i+=2){","                data[resp[i].toString()] = resp[i+1].toString();","            }","            callback(err, data);","        }","    });","}","","redis_cli.prototype.hmset = function(key,values,callback){","    var valuearr = [key];","    for(k in values){","        if(values.hasOwnProperty(k)){","            if(k!==''&&values[k]!==''){","                valuearr.push(k);","                valuearr.push(values[k]);","            }","        }","    }","    this.ssdb_cli.request('multi_hset',valuearr,function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            callback(err);","        }","    });","}","","redis_cli.prototype.hdel = function(key,attr,callback){","    this.ssdb_cli.hdel(key,attr,callback);","}","","redis_cli.prototype.hclear = function(key,callback){","    this.ssdb_cli.request('hclear',[key],function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            callback(err);","        }","    });","}","","redis_cli.prototype.zadd = function(name,score,key,callback){","    this.ssdb_cli.request('zset',[name,key,score],function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            callback(err);","        }","    });","}","","redis_cli.prototype.zscore = function(name,key,callback){","    this.ssdb_cli.request('zget',[name,key], function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            var val = resp[1];","            callback(err, val);","        }","    });","}","","redis_cli.prototype.zrem = function(name,key,callback){","    this.ssdb_cli.request('zdel',[name,key],function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            callback(err);","        }","    });","}","","redis_cli.prototype.llen = function(key,callback){","    this.ssdb_cli.request('qsize',[key], function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            var val = resp[1];","            callback(err, val);","        }","    });","}","","redis_cli.prototype.qlist = function(key,callback){","    this.ssdb_cli.request('qlist',[key.replace('*','0'),key.replace('*','{'),-1],function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            var data = [];","            for(var i=1; i<resp.length; i++){","                var k = resp[i].toString();","                data.push(k);","            }","            callback(err, data);","        }","    });","}","","redis_cli.prototype.lpush = function(name,key,callback){","    this.ssdb_cli.request('qpush_front',[name,key],function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            callback(err);","        }","    });","}","","redis_cli.prototype.rpush = function(name,key,callback){","    this.ssdb_cli.request('qpush_back',[name,key],function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            callback(err);","        }","    });","}","","redis_cli.prototype.lpop = function(name,callback){","    this.ssdb_cli.request('qpop_front',[name], function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            var val = resp[1];","            if(val)val=val.toString();","            callback(err, val);","        }","    });","}","","redis_cli.prototype.rpop = function(name,callback){","    this.ssdb_cli.request('qpop_back',[name], function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            var val = resp[1];","            if(val)val=val.toString();","            callback(err, val);","        }","    });","}","","redis_cli.prototype.rpoplpush = function(key1,key2,callback){","    var self = this;","    self.rpop(key1,function(err,val){","        if(err)callback(err);","        else{","            self.lpush(key2,val,function(err){","                if(err)callback(err);","                else callback(null,true);","            });","        }","    });","}","","redis_cli.prototype.lrange = function(name,start,end,callback){","    this.ssdb_cli.request('qslice',[name,start,end],function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            var data = [];","            for(var i=1; i<resp.length; i++){","                var k = resp[i].toString();","                data.push(k);","            }","            callback(err, data);","        }","    });","}","","redis_cli.prototype.zlen = function(key,callback){","    this.ssdb_cli.request('zsize',[key], function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            var val = resp[1];","            callback(err, val);","        }","    });","}","","redis_cli.prototype.zrange = function(name,start,end,callback){","    this.ssdb_cli.request('zkeys',[name,'',start,end,-1],function(resp){","        if(callback){","            var err = resp[0] == 'ok'? 0 : resp[0];","            var data = [];","            for(var i=1; i<resp.length; i++){","                var k = resp[i].toString();","                data.push(k);","            }","            callback(err, data);","        }","    });","}","","redis_cli.prototype.zlist = function(key,callback){","    this.ssdb_cli.zlist(key.replace('*','0'),key.replace('*','{'),-1,callback);","}","","redis_cli.prototype.close = function(){","    this.ssdb_cli.close();","}","","redis_cli.prototype.quit = function(){","    this.ssdb_cli.close();","}","","exports.client = function(host,port){","    return new redis_cli(host,port);","};",""],"l":{"5":1,"7":1,"8":0,"9":0,"13":1,"14":0,"17":1,"18":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"43":1,"44":0,"47":1,"48":0,"51":1,"52":0,"55":1,"56":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"67":0,"72":1,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"82":0,"83":0,"84":0,"85":0,"90":1,"91":0,"94":1,"95":0,"96":0,"97":0,"98":0,"103":1,"104":0,"105":0,"106":0,"107":0,"112":1,"113":0,"114":0,"115":0,"116":0,"117":0,"122":1,"123":0,"124":0,"125":0,"126":0,"131":1,"132":0,"133":0,"134":0,"135":0,"136":0,"141":1,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"150":0,"155":1,"156":0,"157":0,"158":0,"159":0,"164":1,"165":0,"166":0,"167":0,"168":0,"173":1,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"184":1,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"195":1,"196":0,"197":0,"198":0,"200":0,"201":0,"202":0,"208":1,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"217":0,"222":1,"223":0,"224":0,"225":0,"226":0,"227":0,"232":1,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"241":0,"246":1,"247":0,"250":1,"251":0,"254":1,"255":0,"258":1,"259":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/SSDB.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/SSDB.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":1,"256":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0},"fnMap":{"1":{"name":"(anonymous_1)","line":15,"loc":{"start":{"line":15,"column":18},"end":{"line":15,"column":57}}},"2":{"name":"(anonymous_2)","line":25,"loc":{"start":{"line":25,"column":27},"end":{"line":25,"column":37}}},"3":{"name":"(anonymous_3)","line":28,"loc":{"start":{"line":28,"column":21},"end":{"line":28,"column":32}}},"4":{"name":"(anonymous_4)","line":36,"loc":{"start":{"line":36,"column":29},"end":{"line":36,"column":39}}},"5":{"name":"(anonymous_5)","line":44,"loc":{"start":{"line":44,"column":17},"end":{"line":44,"column":27}}},"6":{"name":"(anonymous_6)","line":48,"loc":{"start":{"line":48,"column":19},"end":{"line":48,"column":50}}},"7":{"name":"(anonymous_7)","line":51,"loc":{"start":{"line":51,"column":35},"end":{"line":51,"column":45}}},"8":{"name":"build_buffer","line":54,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":30}}},"9":{"name":"(anonymous_9)","line":76,"loc":{"start":{"line":76,"column":24},"end":{"line":76,"column":40}}},"10":{"name":"(anonymous_10)","line":98,"loc":{"start":{"line":98,"column":20},"end":{"line":98,"column":34}}},"11":{"name":"memchr","line":111,"loc":{"start":{"line":111,"column":4},"end":{"line":111,"column":35}}},"12":{"name":"parse","line":122,"loc":{"start":{"line":122,"column":4},"end":{"line":122,"column":20}}},"13":{"name":"(anonymous_13)","line":183,"loc":{"start":{"line":183,"column":15},"end":{"line":183,"column":38}}},"14":{"name":"(anonymous_14)","line":184,"loc":{"start":{"line":184,"column":35},"end":{"line":184,"column":49}}},"15":{"name":"(anonymous_15)","line":194,"loc":{"start":{"line":194,"column":15},"end":{"line":194,"column":43}}},"16":{"name":"(anonymous_16)","line":195,"loc":{"start":{"line":195,"column":40},"end":{"line":195,"column":54}}},"17":{"name":"(anonymous_17)","line":204,"loc":{"start":{"line":204,"column":15},"end":{"line":204,"column":38}}},"18":{"name":"(anonymous_18)","line":205,"loc":{"start":{"line":205,"column":35},"end":{"line":205,"column":49}}},"19":{"name":"(anonymous_19)","line":214,"loc":{"start":{"line":214,"column":16},"end":{"line":214,"column":61}}},"20":{"name":"(anonymous_20)","line":215,"loc":{"start":{"line":215,"column":58},"end":{"line":215,"column":72}}},"21":{"name":"(anonymous_21)","line":235,"loc":{"start":{"line":235,"column":16},"end":{"line":235,"column":61}}},"22":{"name":"(anonymous_22)","line":236,"loc":{"start":{"line":236,"column":58},"end":{"line":236,"column":72}}},"23":{"name":"(anonymous_23)","line":252,"loc":{"start":{"line":252,"column":16},"end":{"line":252,"column":45}}},"24":{"name":"(anonymous_24)","line":253,"loc":{"start":{"line":253,"column":42},"end":{"line":253,"column":56}}},"25":{"name":"(anonymous_25)","line":268,"loc":{"start":{"line":268,"column":17},"end":{"line":268,"column":41}}},"26":{"name":"(anonymous_26)","line":269,"loc":{"start":{"line":269,"column":38},"end":{"line":269,"column":52}}},"27":{"name":"(anonymous_27)","line":284,"loc":{"start":{"line":284,"column":16},"end":{"line":284,"column":52}}},"28":{"name":"(anonymous_28)","line":285,"loc":{"start":{"line":285,"column":49},"end":{"line":285,"column":63}}},"29":{"name":"(anonymous_29)","line":294,"loc":{"start":{"line":294,"column":16},"end":{"line":294,"column":45}}},"30":{"name":"(anonymous_30)","line":295,"loc":{"start":{"line":295,"column":42},"end":{"line":295,"column":56}}},"31":{"name":"(anonymous_31)","line":304,"loc":{"start":{"line":304,"column":17},"end":{"line":304,"column":83}}},"32":{"name":"(anonymous_32)","line":305,"loc":{"start":{"line":305,"column":80},"end":{"line":305,"column":94}}},"33":{"name":"(anonymous_33)","line":325,"loc":{"start":{"line":325,"column":17},"end":{"line":325,"column":64}}},"34":{"name":"(anonymous_34)","line":326,"loc":{"start":{"line":326,"column":61},"end":{"line":326,"column":75}}},"35":{"name":"(anonymous_35)","line":340,"loc":{"start":{"line":340,"column":16},"end":{"line":340,"column":64}}},"36":{"name":"(anonymous_36)","line":341,"loc":{"start":{"line":341,"column":59},"end":{"line":341,"column":73}}},"37":{"name":"(anonymous_37)","line":357,"loc":{"start":{"line":357,"column":16},"end":{"line":357,"column":45}}},"38":{"name":"(anonymous_38)","line":358,"loc":{"start":{"line":358,"column":42},"end":{"line":358,"column":56}}},"39":{"name":"(anonymous_39)","line":371,"loc":{"start":{"line":371,"column":16},"end":{"line":371,"column":50}}},"40":{"name":"(anonymous_40)","line":372,"loc":{"start":{"line":372,"column":47},"end":{"line":372,"column":61}}},"41":{"name":"(anonymous_41)","line":381,"loc":{"start":{"line":381,"column":16},"end":{"line":381,"column":45}}},"42":{"name":"(anonymous_42)","line":382,"loc":{"start":{"line":382,"column":42},"end":{"line":382,"column":56}}},"43":{"name":"(anonymous_43)","line":391,"loc":{"start":{"line":391,"column":17},"end":{"line":391,"column":68}}},"44":{"name":"(anonymous_44)","line":392,"loc":{"start":{"line":392,"column":65},"end":{"line":392,"column":79}}},"45":{"name":"(anonymous_45)","line":412,"loc":{"start":{"line":412,"column":17},"end":{"line":412,"column":64}}},"46":{"name":"(anonymous_46)","line":413,"loc":{"start":{"line":413,"column":61},"end":{"line":413,"column":75}}},"47":{"name":"(anonymous_47)","line":427,"loc":{"start":{"line":427,"column":17},"end":{"line":427,"column":41}}},"48":{"name":"(anonymous_48)","line":428,"loc":{"start":{"line":428,"column":38},"end":{"line":428,"column":52}}},"49":{"name":"(anonymous_49)","line":445,"loc":{"start":{"line":445,"column":18},"end":{"line":445,"column":57}}}},"statementMap":{"1":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"2":{"start":{"line":15,"column":0},"end":{"line":443,"column":1}},"3":{"start":{"line":16,"column":4},"end":{"line":16,"column":20}},"4":{"start":{"line":17,"column":4},"end":{"line":17,"column":33}},"5":{"start":{"line":18,"column":4},"end":{"line":18,"column":23}},"6":{"start":{"line":19,"column":4},"end":{"line":19,"column":26}},"7":{"start":{"line":21,"column":4},"end":{"line":24,"column":5}},"8":{"start":{"line":22,"column":8},"end":{"line":22,"column":27}},"9":{"start":{"line":23,"column":8},"end":{"line":23,"column":20}},"10":{"start":{"line":25,"column":4},"end":{"line":25,"column":40}},"11":{"start":{"line":27,"column":4},"end":{"line":27,"column":32}},"12":{"start":{"line":28,"column":4},"end":{"line":35,"column":7}},"13":{"start":{"line":29,"column":8},"end":{"line":34,"column":9}},"14":{"start":{"line":30,"column":12},"end":{"line":30,"column":42}},"15":{"start":{"line":32,"column":12},"end":{"line":32,"column":45}},"16":{"start":{"line":33,"column":12},"end":{"line":33,"column":44}},"17":{"start":{"line":33,"column":24},"end":{"line":33,"column":44}},"18":{"start":{"line":36,"column":4},"end":{"line":42,"column":7}},"19":{"start":{"line":37,"column":8},"end":{"line":37,"column":25}},"20":{"start":{"line":38,"column":8},"end":{"line":38,"column":30}},"21":{"start":{"line":39,"column":8},"end":{"line":39,"column":32}},"22":{"start":{"line":40,"column":8},"end":{"line":40,"column":33}},"23":{"start":{"line":41,"column":8},"end":{"line":41,"column":26}},"24":{"start":{"line":44,"column":4},"end":{"line":46,"column":5}},"25":{"start":{"line":45,"column":8},"end":{"line":45,"column":19}},"26":{"start":{"line":48,"column":4},"end":{"line":52,"column":5}},"27":{"start":{"line":49,"column":8},"end":{"line":49,"column":39}},"28":{"start":{"line":50,"column":8},"end":{"line":50,"column":31}},"29":{"start":{"line":51,"column":8},"end":{"line":51,"column":49}},"30":{"start":{"line":54,"column":4},"end":{"line":74,"column":5}},"31":{"start":{"line":55,"column":8},"end":{"line":55,"column":20}},"32":{"start":{"line":56,"column":8},"end":{"line":56,"column":21}},"33":{"start":{"line":57,"column":8},"end":{"line":66,"column":9}},"34":{"start":{"line":58,"column":12},"end":{"line":58,"column":29}},"35":{"start":{"line":59,"column":12},"end":{"line":63,"column":13}},"36":{"start":{"line":62,"column":16},"end":{"line":62,"column":49}},"37":{"start":{"line":64,"column":12},"end":{"line":64,"column":25}},"38":{"start":{"line":65,"column":12},"end":{"line":65,"column":31}},"39":{"start":{"line":67,"column":8},"end":{"line":67,"column":35}},"40":{"start":{"line":68,"column":8},"end":{"line":68,"column":23}},"41":{"start":{"line":69,"column":8},"end":{"line":72,"column":9}},"42":{"start":{"line":70,"column":12},"end":{"line":70,"column":36}},"43":{"start":{"line":71,"column":12},"end":{"line":71,"column":35}},"44":{"start":{"line":73,"column":8},"end":{"line":73,"column":19}},"45":{"start":{"line":76,"column":4},"end":{"line":96,"column":5}},"46":{"start":{"line":77,"column":8},"end":{"line":77,"column":20}},"47":{"start":{"line":78,"column":8},"end":{"line":90,"column":9}},"48":{"start":{"line":79,"column":12},"end":{"line":79,"column":30}},"49":{"start":{"line":80,"column":12},"end":{"line":80,"column":24}},"50":{"start":{"line":81,"column":12},"end":{"line":86,"column":13}},"51":{"start":{"line":82,"column":16},"end":{"line":82,"column":33}},"52":{"start":{"line":83,"column":16},"end":{"line":83,"column":46}},"53":{"start":{"line":85,"column":16},"end":{"line":85,"column":34}},"54":{"start":{"line":87,"column":12},"end":{"line":87,"column":26}},"55":{"start":{"line":88,"column":12},"end":{"line":88,"column":23}},"56":{"start":{"line":89,"column":12},"end":{"line":89,"column":26}},"57":{"start":{"line":91,"column":8},"end":{"line":91,"column":22}},"58":{"start":{"line":92,"column":8},"end":{"line":92,"column":35}},"59":{"start":{"line":93,"column":8},"end":{"line":93,"column":24}},"60":{"start":{"line":98,"column":4},"end":{"line":109,"column":7}},"61":{"start":{"line":99,"column":8},"end":{"line":99,"column":50}},"62":{"start":{"line":100,"column":8},"end":{"line":108,"column":9}},"63":{"start":{"line":101,"column":12},"end":{"line":101,"column":31}},"64":{"start":{"line":102,"column":12},"end":{"line":104,"column":13}},"65":{"start":{"line":103,"column":16},"end":{"line":103,"column":22}},"66":{"start":{"line":105,"column":12},"end":{"line":105,"column":41}},"67":{"start":{"line":106,"column":12},"end":{"line":106,"column":45}},"68":{"start":{"line":107,"column":12},"end":{"line":107,"column":27}},"69":{"start":{"line":111,"column":4},"end":{"line":120,"column":5}},"70":{"start":{"line":112,"column":8},"end":{"line":112,"column":27}},"71":{"start":{"line":113,"column":8},"end":{"line":113,"column":59}},"72":{"start":{"line":114,"column":8},"end":{"line":118,"column":9}},"73":{"start":{"line":115,"column":12},"end":{"line":117,"column":13}},"74":{"start":{"line":116,"column":16},"end":{"line":116,"column":25}},"75":{"start":{"line":119,"column":8},"end":{"line":119,"column":18}},"76":{"start":{"line":122,"column":4},"end":{"line":179,"column":5}},"77":{"start":{"line":123,"column":8},"end":{"line":123,"column":21}},"78":{"start":{"line":124,"column":8},"end":{"line":124,"column":21}},"79":{"start":{"line":125,"column":8},"end":{"line":125,"column":16}},"80":{"start":{"line":127,"column":8},"end":{"line":177,"column":9}},"81":{"start":{"line":129,"column":12},"end":{"line":129,"column":47}},"82":{"start":{"line":130,"column":12},"end":{"line":133,"column":13}},"83":{"start":{"line":132,"column":16},"end":{"line":132,"column":28}},"84":{"start":{"line":134,"column":12},"end":{"line":134,"column":60}},"85":{"start":{"line":135,"column":12},"end":{"line":135,"column":27}},"86":{"start":{"line":136,"column":12},"end":{"line":136,"column":54}},"87":{"start":{"line":137,"column":12},"end":{"line":142,"column":13}},"88":{"start":{"line":140,"column":16},"end":{"line":140,"column":48}},"89":{"start":{"line":141,"column":16},"end":{"line":141,"column":22}},"90":{"start":{"line":143,"column":12},"end":{"line":143,"column":37}},"91":{"start":{"line":144,"column":12},"end":{"line":148,"column":13}},"92":{"start":{"line":146,"column":16},"end":{"line":146,"column":39}},"93":{"start":{"line":147,"column":16},"end":{"line":147,"column":28}},"94":{"start":{"line":149,"column":12},"end":{"line":154,"column":13}},"95":{"start":{"line":153,"column":16},"end":{"line":153,"column":28}},"96":{"start":{"line":156,"column":12},"end":{"line":156,"column":56}},"97":{"start":{"line":157,"column":12},"end":{"line":157,"column":24}},"98":{"start":{"line":158,"column":12},"end":{"line":158,"column":27}},"99":{"start":{"line":161,"column":12},"end":{"line":161,"column":47}},"100":{"start":{"line":162,"column":12},"end":{"line":166,"column":13}},"101":{"start":{"line":164,"column":16},"end":{"line":164,"column":39}},"102":{"start":{"line":165,"column":16},"end":{"line":165,"column":28}},"103":{"start":{"line":169,"column":12},"end":{"line":169,"column":40}},"104":{"start":{"line":170,"column":12},"end":{"line":170,"column":40}},"105":{"start":{"line":171,"column":12},"end":{"line":175,"column":13}},"106":{"start":{"line":173,"column":16},"end":{"line":173,"column":57}},"107":{"start":{"line":174,"column":16},"end":{"line":174,"column":28}},"108":{"start":{"line":176,"column":12},"end":{"line":176,"column":27}},"109":{"start":{"line":178,"column":8},"end":{"line":178,"column":19}},"110":{"start":{"line":183,"column":4},"end":{"line":191,"column":5}},"111":{"start":{"line":184,"column":8},"end":{"line":190,"column":11}},"112":{"start":{"line":185,"column":12},"end":{"line":189,"column":13}},"113":{"start":{"line":186,"column":16},"end":{"line":186,"column":55}},"114":{"start":{"line":187,"column":16},"end":{"line":187,"column":34}},"115":{"start":{"line":188,"column":16},"end":{"line":188,"column":35}},"116":{"start":{"line":194,"column":4},"end":{"line":201,"column":5}},"117":{"start":{"line":195,"column":8},"end":{"line":200,"column":11}},"118":{"start":{"line":196,"column":12},"end":{"line":199,"column":13}},"119":{"start":{"line":197,"column":16},"end":{"line":197,"column":55}},"120":{"start":{"line":198,"column":16},"end":{"line":198,"column":30}},"121":{"start":{"line":204,"column":4},"end":{"line":211,"column":5}},"122":{"start":{"line":205,"column":8},"end":{"line":210,"column":11}},"123":{"start":{"line":206,"column":12},"end":{"line":209,"column":13}},"124":{"start":{"line":207,"column":16},"end":{"line":207,"column":55}},"125":{"start":{"line":208,"column":16},"end":{"line":208,"column":30}},"126":{"start":{"line":214,"column":4},"end":{"line":232,"column":5}},"127":{"start":{"line":215,"column":8},"end":{"line":231,"column":11}},"128":{"start":{"line":216,"column":12},"end":{"line":230,"column":13}},"129":{"start":{"line":217,"column":16},"end":{"line":217,"column":55}},"130":{"start":{"line":218,"column":16},"end":{"line":229,"column":17}},"131":{"start":{"line":219,"column":20},"end":{"line":219,"column":38}},"132":{"start":{"line":221,"column":20},"end":{"line":221,"column":54}},"133":{"start":{"line":222,"column":20},"end":{"line":227,"column":21}},"134":{"start":{"line":223,"column":24},"end":{"line":223,"column":51}},"135":{"start":{"line":224,"column":24},"end":{"line":224,"column":53}},"136":{"start":{"line":225,"column":24},"end":{"line":225,"column":43}},"137":{"start":{"line":226,"column":24},"end":{"line":226,"column":42}},"138":{"start":{"line":228,"column":20},"end":{"line":228,"column":40}},"139":{"start":{"line":235,"column":4},"end":{"line":247,"column":5}},"140":{"start":{"line":236,"column":8},"end":{"line":246,"column":11}},"141":{"start":{"line":237,"column":12},"end":{"line":245,"column":13}},"142":{"start":{"line":238,"column":16},"end":{"line":238,"column":55}},"143":{"start":{"line":239,"column":16},"end":{"line":239,"column":30}},"144":{"start":{"line":240,"column":16},"end":{"line":243,"column":17}},"145":{"start":{"line":241,"column":20},"end":{"line":241,"column":47}},"146":{"start":{"line":242,"column":20},"end":{"line":242,"column":33}},"147":{"start":{"line":244,"column":16},"end":{"line":244,"column":36}},"148":{"start":{"line":252,"column":4},"end":{"line":265,"column":5}},"149":{"start":{"line":253,"column":8},"end":{"line":264,"column":11}},"150":{"start":{"line":254,"column":12},"end":{"line":263,"column":13}},"151":{"start":{"line":255,"column":16},"end":{"line":255,"column":55}},"152":{"start":{"line":256,"column":16},"end":{"line":262,"column":17}},"153":{"start":{"line":257,"column":20},"end":{"line":257,"column":50}},"154":{"start":{"line":258,"column":20},"end":{"line":258,"column":41}},"155":{"start":{"line":260,"column":20},"end":{"line":260,"column":34}},"156":{"start":{"line":261,"column":20},"end":{"line":261,"column":38}},"157":{"start":{"line":268,"column":4},"end":{"line":281,"column":5}},"158":{"start":{"line":269,"column":8},"end":{"line":280,"column":11}},"159":{"start":{"line":270,"column":12},"end":{"line":279,"column":13}},"160":{"start":{"line":271,"column":16},"end":{"line":271,"column":55}},"161":{"start":{"line":272,"column":16},"end":{"line":278,"column":17}},"162":{"start":{"line":273,"column":20},"end":{"line":273,"column":49}},"163":{"start":{"line":274,"column":20},"end":{"line":274,"column":40}},"164":{"start":{"line":276,"column":20},"end":{"line":276,"column":34}},"165":{"start":{"line":277,"column":20},"end":{"line":277,"column":38}},"166":{"start":{"line":284,"column":4},"end":{"line":291,"column":5}},"167":{"start":{"line":285,"column":8},"end":{"line":290,"column":11}},"168":{"start":{"line":286,"column":12},"end":{"line":289,"column":13}},"169":{"start":{"line":287,"column":16},"end":{"line":287,"column":55}},"170":{"start":{"line":288,"column":16},"end":{"line":288,"column":30}},"171":{"start":{"line":294,"column":4},"end":{"line":301,"column":5}},"172":{"start":{"line":295,"column":8},"end":{"line":300,"column":11}},"173":{"start":{"line":296,"column":12},"end":{"line":299,"column":13}},"174":{"start":{"line":297,"column":16},"end":{"line":297,"column":55}},"175":{"start":{"line":298,"column":16},"end":{"line":298,"column":30}},"176":{"start":{"line":304,"column":4},"end":{"line":322,"column":5}},"177":{"start":{"line":305,"column":8},"end":{"line":321,"column":11}},"178":{"start":{"line":306,"column":12},"end":{"line":320,"column":13}},"179":{"start":{"line":307,"column":16},"end":{"line":307,"column":55}},"180":{"start":{"line":308,"column":16},"end":{"line":319,"column":17}},"181":{"start":{"line":309,"column":20},"end":{"line":309,"column":38}},"182":{"start":{"line":311,"column":20},"end":{"line":311,"column":54}},"183":{"start":{"line":312,"column":20},"end":{"line":317,"column":21}},"184":{"start":{"line":313,"column":24},"end":{"line":313,"column":51}},"185":{"start":{"line":314,"column":24},"end":{"line":314,"column":52}},"186":{"start":{"line":315,"column":24},"end":{"line":315,"column":43}},"187":{"start":{"line":316,"column":24},"end":{"line":316,"column":42}},"188":{"start":{"line":318,"column":20},"end":{"line":318,"column":40}},"189":{"start":{"line":325,"column":4},"end":{"line":337,"column":5}},"190":{"start":{"line":326,"column":8},"end":{"line":336,"column":11}},"191":{"start":{"line":327,"column":12},"end":{"line":335,"column":13}},"192":{"start":{"line":328,"column":16},"end":{"line":328,"column":55}},"193":{"start":{"line":329,"column":16},"end":{"line":329,"column":30}},"194":{"start":{"line":330,"column":16},"end":{"line":333,"column":17}},"195":{"start":{"line":331,"column":20},"end":{"line":331,"column":47}},"196":{"start":{"line":332,"column":20},"end":{"line":332,"column":33}},"197":{"start":{"line":334,"column":16},"end":{"line":334,"column":36}},"198":{"start":{"line":340,"column":4},"end":{"line":352,"column":5}},"199":{"start":{"line":341,"column":8},"end":{"line":351,"column":11}},"200":{"start":{"line":342,"column":12},"end":{"line":350,"column":13}},"201":{"start":{"line":343,"column":16},"end":{"line":343,"column":55}},"202":{"start":{"line":344,"column":16},"end":{"line":349,"column":17}},"203":{"start":{"line":345,"column":20},"end":{"line":345,"column":49}},"204":{"start":{"line":346,"column":20},"end":{"line":346,"column":40}},"205":{"start":{"line":348,"column":20},"end":{"line":348,"column":38}},"206":{"start":{"line":357,"column":4},"end":{"line":368,"column":5}},"207":{"start":{"line":358,"column":8},"end":{"line":367,"column":11}},"208":{"start":{"line":359,"column":12},"end":{"line":366,"column":13}},"209":{"start":{"line":360,"column":16},"end":{"line":360,"column":55}},"210":{"start":{"line":361,"column":16},"end":{"line":365,"column":17}},"211":{"start":{"line":362,"column":20},"end":{"line":362,"column":43}},"212":{"start":{"line":364,"column":20},"end":{"line":364,"column":38}},"213":{"start":{"line":371,"column":4},"end":{"line":378,"column":5}},"214":{"start":{"line":372,"column":8},"end":{"line":377,"column":11}},"215":{"start":{"line":373,"column":12},"end":{"line":376,"column":13}},"216":{"start":{"line":374,"column":16},"end":{"line":374,"column":55}},"217":{"start":{"line":375,"column":16},"end":{"line":375,"column":30}},"218":{"start":{"line":381,"column":4},"end":{"line":388,"column":5}},"219":{"start":{"line":382,"column":8},"end":{"line":387,"column":11}},"220":{"start":{"line":383,"column":12},"end":{"line":386,"column":13}},"221":{"start":{"line":384,"column":16},"end":{"line":384,"column":55}},"222":{"start":{"line":385,"column":16},"end":{"line":385,"column":30}},"223":{"start":{"line":391,"column":4},"end":{"line":409,"column":5}},"224":{"start":{"line":392,"column":8},"end":{"line":408,"column":11}},"225":{"start":{"line":393,"column":12},"end":{"line":407,"column":13}},"226":{"start":{"line":394,"column":16},"end":{"line":394,"column":55}},"227":{"start":{"line":395,"column":16},"end":{"line":406,"column":17}},"228":{"start":{"line":396,"column":20},"end":{"line":396,"column":38}},"229":{"start":{"line":398,"column":20},"end":{"line":398,"column":54}},"230":{"start":{"line":399,"column":20},"end":{"line":404,"column":21}},"231":{"start":{"line":400,"column":24},"end":{"line":400,"column":51}},"232":{"start":{"line":401,"column":24},"end":{"line":401,"column":53}},"233":{"start":{"line":402,"column":24},"end":{"line":402,"column":43}},"234":{"start":{"line":403,"column":24},"end":{"line":403,"column":42}},"235":{"start":{"line":405,"column":20},"end":{"line":405,"column":40}},"236":{"start":{"line":412,"column":4},"end":{"line":424,"column":5}},"237":{"start":{"line":413,"column":8},"end":{"line":423,"column":11}},"238":{"start":{"line":414,"column":12},"end":{"line":422,"column":13}},"239":{"start":{"line":415,"column":16},"end":{"line":415,"column":55}},"240":{"start":{"line":416,"column":16},"end":{"line":416,"column":30}},"241":{"start":{"line":417,"column":16},"end":{"line":420,"column":17}},"242":{"start":{"line":418,"column":20},"end":{"line":418,"column":47}},"243":{"start":{"line":419,"column":20},"end":{"line":419,"column":33}},"244":{"start":{"line":421,"column":16},"end":{"line":421,"column":36}},"245":{"start":{"line":427,"column":4},"end":{"line":440,"column":5}},"246":{"start":{"line":428,"column":8},"end":{"line":439,"column":11}},"247":{"start":{"line":429,"column":12},"end":{"line":438,"column":13}},"248":{"start":{"line":430,"column":16},"end":{"line":430,"column":55}},"249":{"start":{"line":431,"column":16},"end":{"line":437,"column":17}},"250":{"start":{"line":432,"column":20},"end":{"line":432,"column":49}},"251":{"start":{"line":433,"column":20},"end":{"line":433,"column":40}},"252":{"start":{"line":435,"column":20},"end":{"line":435,"column":34}},"253":{"start":{"line":436,"column":20},"end":{"line":436,"column":38}},"254":{"start":{"line":442,"column":4},"end":{"line":442,"column":16}},"255":{"start":{"line":445,"column":0},"end":{"line":447,"column":1}},"256":{"start":{"line":446,"column":4},"end":{"line":446,"column":58}}},"branchMap":{"1":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"2":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":15},"end":{"line":25,"column":23}},{"start":{"line":25,"column":27},"end":{"line":25,"column":39}}]},"3":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":29,"column":8}},{"start":{"line":29,"column":8},"end":{"line":29,"column":8}}]},"4":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":12},"end":{"line":33,"column":12}},{"start":{"line":33,"column":12},"end":{"line":33,"column":12}}]},"5":{"line":51,"type":"binary-expr","locations":[{"start":{"line":51,"column":23},"end":{"line":51,"column":31}},{"start":{"line":51,"column":35},"end":{"line":51,"column":47}}]},"6":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":12},"end":{"line":59,"column":12}},{"start":{"line":59,"column":12},"end":{"line":59,"column":12}}]},"7":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":12},"end":{"line":81,"column":12}},{"start":{"line":81,"column":12},"end":{"line":81,"column":12}}]},"8":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":12},"end":{"line":102,"column":12}},{"start":{"line":102,"column":12},"end":{"line":102,"column":12}}]},"9":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":16},"end":{"line":112,"column":21}},{"start":{"line":112,"column":25},"end":{"line":112,"column":26}}]},"10":{"line":113,"type":"cond-expr","locations":[{"start":{"line":113,"column":37},"end":{"line":113,"column":53}},{"start":{"line":113,"column":56},"end":{"line":113,"column":58}}]},"11":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":12},"end":{"line":115,"column":12}},{"start":{"line":115,"column":12},"end":{"line":115,"column":12}}]},"12":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":12},"end":{"line":130,"column":12}},{"start":{"line":130,"column":12},"end":{"line":130,"column":12}}]},"13":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":12},"end":{"line":137,"column":12}},{"start":{"line":137,"column":12},"end":{"line":137,"column":12}}]},"14":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":12},"end":{"line":144,"column":12}},{"start":{"line":144,"column":12},"end":{"line":144,"column":12}}]},"15":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":12},"end":{"line":149,"column":12}},{"start":{"line":149,"column":12},"end":{"line":149,"column":12}}]},"16":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":12},"end":{"line":162,"column":12}},{"start":{"line":162,"column":12},"end":{"line":162,"column":12}}]},"17":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":12},"end":{"line":171,"column":12}},{"start":{"line":171,"column":12},"end":{"line":171,"column":12}}]},"18":{"line":171,"type":"binary-expr","locations":[{"start":{"line":171,"column":15},"end":{"line":171,"column":35}},{"start":{"line":171,"column":39},"end":{"line":171,"column":59}},{"start":{"line":171,"column":63},"end":{"line":171,"column":85}}]},"19":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":12},"end":{"line":185,"column":12}},{"start":{"line":185,"column":12},"end":{"line":185,"column":12}}]},"20":{"line":186,"type":"cond-expr","locations":[{"start":{"line":186,"column":43},"end":{"line":186,"column":44}},{"start":{"line":186,"column":47},"end":{"line":186,"column":54}}]},"21":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":12},"end":{"line":196,"column":12}},{"start":{"line":196,"column":12},"end":{"line":196,"column":12}}]},"22":{"line":197,"type":"cond-expr","locations":[{"start":{"line":197,"column":43},"end":{"line":197,"column":44}},{"start":{"line":197,"column":47},"end":{"line":197,"column":54}}]},"23":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":12},"end":{"line":206,"column":12}},{"start":{"line":206,"column":12},"end":{"line":206,"column":12}}]},"24":{"line":207,"type":"cond-expr","locations":[{"start":{"line":207,"column":43},"end":{"line":207,"column":44}},{"start":{"line":207,"column":47},"end":{"line":207,"column":54}}]},"25":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":12},"end":{"line":216,"column":12}},{"start":{"line":216,"column":12},"end":{"line":216,"column":12}}]},"26":{"line":217,"type":"cond-expr","locations":[{"start":{"line":217,"column":43},"end":{"line":217,"column":44}},{"start":{"line":217,"column":47},"end":{"line":217,"column":54}}]},"27":{"line":218,"type":"if","locations":[{"start":{"line":218,"column":16},"end":{"line":218,"column":16}},{"start":{"line":218,"column":16},"end":{"line":218,"column":16}}]},"28":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":12},"end":{"line":237,"column":12}},{"start":{"line":237,"column":12},"end":{"line":237,"column":12}}]},"29":{"line":238,"type":"cond-expr","locations":[{"start":{"line":238,"column":43},"end":{"line":238,"column":44}},{"start":{"line":238,"column":47},"end":{"line":238,"column":54}}]},"30":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":12},"end":{"line":254,"column":12}},{"start":{"line":254,"column":12},"end":{"line":254,"column":12}}]},"31":{"line":255,"type":"cond-expr","locations":[{"start":{"line":255,"column":43},"end":{"line":255,"column":44}},{"start":{"line":255,"column":47},"end":{"line":255,"column":54}}]},"32":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":16},"end":{"line":256,"column":16}},{"start":{"line":256,"column":16},"end":{"line":256,"column":16}}]},"33":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":12},"end":{"line":270,"column":12}},{"start":{"line":270,"column":12},"end":{"line":270,"column":12}}]},"34":{"line":271,"type":"cond-expr","locations":[{"start":{"line":271,"column":43},"end":{"line":271,"column":44}},{"start":{"line":271,"column":47},"end":{"line":271,"column":54}}]},"35":{"line":272,"type":"if","locations":[{"start":{"line":272,"column":16},"end":{"line":272,"column":16}},{"start":{"line":272,"column":16},"end":{"line":272,"column":16}}]},"36":{"line":286,"type":"if","locations":[{"start":{"line":286,"column":12},"end":{"line":286,"column":12}},{"start":{"line":286,"column":12},"end":{"line":286,"column":12}}]},"37":{"line":287,"type":"cond-expr","locations":[{"start":{"line":287,"column":43},"end":{"line":287,"column":44}},{"start":{"line":287,"column":47},"end":{"line":287,"column":54}}]},"38":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":12},"end":{"line":296,"column":12}},{"start":{"line":296,"column":12},"end":{"line":296,"column":12}}]},"39":{"line":297,"type":"cond-expr","locations":[{"start":{"line":297,"column":43},"end":{"line":297,"column":44}},{"start":{"line":297,"column":47},"end":{"line":297,"column":54}}]},"40":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":12},"end":{"line":306,"column":12}},{"start":{"line":306,"column":12},"end":{"line":306,"column":12}}]},"41":{"line":307,"type":"cond-expr","locations":[{"start":{"line":307,"column":43},"end":{"line":307,"column":44}},{"start":{"line":307,"column":47},"end":{"line":307,"column":54}}]},"42":{"line":308,"type":"if","locations":[{"start":{"line":308,"column":16},"end":{"line":308,"column":16}},{"start":{"line":308,"column":16},"end":{"line":308,"column":16}}]},"43":{"line":327,"type":"if","locations":[{"start":{"line":327,"column":12},"end":{"line":327,"column":12}},{"start":{"line":327,"column":12},"end":{"line":327,"column":12}}]},"44":{"line":328,"type":"cond-expr","locations":[{"start":{"line":328,"column":43},"end":{"line":328,"column":44}},{"start":{"line":328,"column":47},"end":{"line":328,"column":54}}]},"45":{"line":342,"type":"if","locations":[{"start":{"line":342,"column":12},"end":{"line":342,"column":12}},{"start":{"line":342,"column":12},"end":{"line":342,"column":12}}]},"46":{"line":343,"type":"cond-expr","locations":[{"start":{"line":343,"column":43},"end":{"line":343,"column":44}},{"start":{"line":343,"column":47},"end":{"line":343,"column":54}}]},"47":{"line":344,"type":"if","locations":[{"start":{"line":344,"column":16},"end":{"line":344,"column":16}},{"start":{"line":344,"column":16},"end":{"line":344,"column":16}}]},"48":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":12},"end":{"line":359,"column":12}},{"start":{"line":359,"column":12},"end":{"line":359,"column":12}}]},"49":{"line":360,"type":"cond-expr","locations":[{"start":{"line":360,"column":43},"end":{"line":360,"column":44}},{"start":{"line":360,"column":47},"end":{"line":360,"column":54}}]},"50":{"line":361,"type":"if","locations":[{"start":{"line":361,"column":16},"end":{"line":361,"column":16}},{"start":{"line":361,"column":16},"end":{"line":361,"column":16}}]},"51":{"line":373,"type":"if","locations":[{"start":{"line":373,"column":12},"end":{"line":373,"column":12}},{"start":{"line":373,"column":12},"end":{"line":373,"column":12}}]},"52":{"line":374,"type":"cond-expr","locations":[{"start":{"line":374,"column":43},"end":{"line":374,"column":44}},{"start":{"line":374,"column":47},"end":{"line":374,"column":54}}]},"53":{"line":383,"type":"if","locations":[{"start":{"line":383,"column":12},"end":{"line":383,"column":12}},{"start":{"line":383,"column":12},"end":{"line":383,"column":12}}]},"54":{"line":384,"type":"cond-expr","locations":[{"start":{"line":384,"column":43},"end":{"line":384,"column":44}},{"start":{"line":384,"column":47},"end":{"line":384,"column":54}}]},"55":{"line":393,"type":"if","locations":[{"start":{"line":393,"column":12},"end":{"line":393,"column":12}},{"start":{"line":393,"column":12},"end":{"line":393,"column":12}}]},"56":{"line":394,"type":"cond-expr","locations":[{"start":{"line":394,"column":43},"end":{"line":394,"column":44}},{"start":{"line":394,"column":47},"end":{"line":394,"column":54}}]},"57":{"line":395,"type":"if","locations":[{"start":{"line":395,"column":16},"end":{"line":395,"column":16}},{"start":{"line":395,"column":16},"end":{"line":395,"column":16}}]},"58":{"line":414,"type":"if","locations":[{"start":{"line":414,"column":12},"end":{"line":414,"column":12}},{"start":{"line":414,"column":12},"end":{"line":414,"column":12}}]},"59":{"line":415,"type":"cond-expr","locations":[{"start":{"line":415,"column":43},"end":{"line":415,"column":44}},{"start":{"line":415,"column":47},"end":{"line":415,"column":54}}]},"60":{"line":429,"type":"if","locations":[{"start":{"line":429,"column":12},"end":{"line":429,"column":12}},{"start":{"line":429,"column":12},"end":{"line":429,"column":12}}]},"61":{"line":430,"type":"cond-expr","locations":[{"start":{"line":430,"column":43},"end":{"line":430,"column":44}},{"start":{"line":430,"column":47},"end":{"line":430,"column":54}}]},"62":{"line":431,"type":"if","locations":[{"start":{"line":431,"column":16},"end":{"line":431,"column":16}},{"start":{"line":431,"column":16},"end":{"line":431,"column":16}}]}},"code":["/**"," * Copyright (c) 2013, ideawu"," * All rights reserved."," * @author: ideawu"," * @link: http://www.ideawu.com/"," *"," * SSDB nodejs client SDK."," */","","var net = require('net');","","// timeout: microseconds, if ommitted, it will be treated as listener","// callback(err, ssdb)","","var SSDBConnect = function(host, port, timeout, listener){","    var self = this;","    var recv_buf = new Buffer(0);","    var callbacks = [];","    var connected = false;","","    if(typeof(timeout) == 'function'){","        listener = timeout;","        timeout = 0;","    }","    listener = listener || function(){};","","    var sock = new net.Socket();","    sock.on('error', function(e){","        if(!connected){","            listener('connect_failed', e);","        }else{","            var callback = callbacks.shift();","            if(callback)callback(['error']);","        }","    });","    sock.connect(port, host, function(){","        connected = true;","        sock.setNoDelay(true);","        sock.setKeepAlive(true);","        sock.setTimeout(timeout);","        listener(0, self);","    });","","    self.close = function(){","        sock.end();","    }","","    self.request = function(cmd, params, callback){","        var arr = [cmd].concat(params);","        self.send_request(arr);","        callbacks.push(callback || function(){});","    }","","    function build_buffer(arr){","        var bs = [];","        var size = 0;","        for(var i = 0; i < arr.length; i++){","            var arg = arr[i];","            if(arg instanceof Buffer){","                //","            }else{","                arg = new Buffer(arg.toString());","            }","            bs.push(arg);","            size += arg.length;","        }","        var ret = new Buffer(size);","        var offset = 0;","        for(var i=0; i<bs.length; i++){","            bs[i].copy(ret, offset);","            offset += bs[i].length;","        }","        return ret;","    }","","    self.send_request = function(params){","        var bs = [];","        for(var i=0;i<params.length;i++){","            var p = params[i];","            var len = 0;","            if(!(p instanceof Buffer)){","                p = p.toString();","                bs.push(Buffer.byteLength(p));","            }else{","                bs.push(p.length);","            }","            bs.push('\\n');","            bs.push(p);","            bs.push('\\n');","        }","        bs.push('\\n');","        var req = build_buffer(bs);","        sock.write(req);","        //console.log('write ' + req.length + ' bytes');","        //console.log('write: ' + req);","    }","","    sock.on('data', function(data){","        recv_buf = build_buffer([recv_buf, data]);","        while(recv_buf.length > 0){","            var resp = parse();","            if(!resp){","                break;","            }","            resp[0] = resp[0].toString();","            var callback = callbacks.shift();","            callback(resp);","        }","    });","","    function memchr(buf, ch, start){","        start = start || 0;","        ch = typeof(ch) == 'string'? ch.charCodeAt(0) : ch;","        for(var i=start; i<buf.length; i++){","            if(buf[i] == ch){","                return i;","            }","        }","        return -1;","    }","","    function parse(){","        var ret = [];","        var spos = 0;","        var pos;","        //console.log('parse: ' + recv_buf.length + ' bytes');","        while(true){","            //pos = recv_buf.indexOf('\\n', spos);","            pos = memchr(recv_buf, '\\n', spos);","            if(pos == -1){","                // not finished","                return null;","            }","            var line = recv_buf.slice(spos, pos).toString();","            spos = pos + 1;","            line = line.replace(/^\\s+(.*)\\s+$/, '\\1');","            if(line.length == 0){","                // parse end","                //recv_buf = recv_buf.substr(spos);","                recv_buf = recv_buf.slice(spos);","                break;","            }","            var len = parseInt(line);","            if(isNaN(len)){","                // error","                console.log('error 1');","                return null;","            }","            if(spos + len > recv_buf.length){","                // not finished","                //console.log(spos + len, recv_buf.length);","                //console.log('not finish');","                return null;","            }","            //var data = recv_buf.substr(spos, len);","            var data = recv_buf.slice(spos, spos + len);","            spos += len;","            ret.push(data);","","            //pos = recv_buf.indexOf('\\n', spos);","            pos = memchr(recv_buf, '\\n', spos);","            if(pos == -1){","                // not finished","                console.log('error 3');","                return null;","            }","            // '\\n', or '\\r\\n'","            //if(recv_buf.charAt(spos) != '\\n' && recv_buf.charAt(spos) != '\\r' && recv_buf.charAt(spos+1) != '\\n'){","            var cr = '\\r'.charCodeAt(0);","            var lf = '\\n'.charCodeAt(0);","            if(recv_buf[spos] != lf && recv_buf[spos] != cr && recv_buf[spos+1] != lf){","                // error","                console.log('error 4 ' + recv_buf[spos]);","                return null;","            }","            spos = pos + 1;","        }","        return ret;","    }","","    // callback(err, val);","    // err: 0 on sucess, or error_code(string) on error","    self.get = function(key, callback){","        self.request('get', [key], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                var val = resp[1];","                callback(err, val);","            }","        });","    }","","    // callback(err);","    self.set = function(key, val, callback){","        self.request('set', [key, val], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                callback(err);","            }","        });","    }","","    // callback(err);","    self.del = function(key, callback){","        self.request('del', [key], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                callback(err);","            }","        });","    }","","    // callback(err, {index:[], items:{key:score}})","    self.scan = function(key_start, key_end, limit, callback){","        self.request('scan', [key_start, key_end, limit], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                if(resp.length % 2 != 1){","                    callback('error');","                }else{","                    var data = {index: [], items: {}};","                    for(var i=1; i<resp.length; i+=2){","                        var k = resp[i].toString();","                        var v = resp[i+1].toString();","                        data.index.push(k);","                        data.items[k] = v;","                    }","                    callback(err, data);","                }","            }","        });","    }","","    // callback(err, [])","    self.keys = function(key_start, key_end, limit, callback){","        self.request('keys', [key_start, key_end, limit], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                var data = [];","                for(var i=1; i<resp.length; i++){","                    var k = resp[i].toString();","                    data.push(k);","                }","                callback(err, data);","            }","        });","    }","","    //////////////////////////////////////////////","","    // callback(score)","    self.zget = function(name, key, callback){","        self.request('zget', [name, key], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                if(resp.length == 2){","                    var score = parseInt(resp[1]);","                    callback(err, score);","                }else{","                    var score = 0;","                    callback('error');","                }","            }","        });","    }","","    // callback(size)","    self.zsize = function(name, callback){","        self.request('zsize', [name], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                if(resp.length == 2){","                    var size = parseInt(resp[1]);","                    callback(err, size);","                }else{","                    var score = 0;","                    callback('error');","                }","            }","        });","    }","","    // callback(err);","    self.zset = function(name, key, score, callback){","        self.request('zset', [name, key, score], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                callback(err);","            }","        });","    }","","    // callback(err);","    self.zdel = function(name, key, callback){","        self.request('zdel', [name, key], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                callback(err);","            }","        });","    }","","    // callback(err, {index:[], items:{key:score}})","    self.zscan = function(name, key_start, score_start, score_end, limit, callback){","        self.request('zscan', [name, key_start, score_start, score_end, limit], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                if(resp.length % 2 != 1){","                    callback('error');","                }else{","                    var data = {index: [], items: {}};","                    for(var i=1; i<resp.length; i+=2){","                        var k = resp[i].toString();","                        var v = parseInt(resp[i+1]);","                        data.index.push(k);","                        data.items[k] = v;","                    }","                    callback(err, data);","                }","            }","        });","    }","","    // callback(err, [])","    self.zlist = function(name_start, name_end, limit, callback){","        self.request('zlist', [name_start, name_end, limit], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                var data = [];","                for(var i=1; i<resp.length; i++){","                    var k = resp[i].toString();","                    data.push(k);","                }","                callback(err, data);","            }","        });","    }","","    // callback(err,sum)","    self.zsum = function(name, score_start, score_end, callback){","        self.request('zsum', [name,score_start,score_end], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                if(resp.length == 2){","                    var size = parseInt(resp[1]);","                    callback(err, size);","                }else{","                    callback('error');","                }","            }","        });","    }","","    //////////////////////////////////////////////","","    // callback(val)","    self.hget = function(name, key, callback){","        self.request('hget', [name, key], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                if(resp.length == 2){","                    callback(err, resp[1]);","                }else{","                    callback('error');","                }","            }","        });","    }","","    // callback(err);","    self.hset = function(name, key, val, callback){","        self.request('hset', [name, key, val], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                callback(err);","            }","        });","    }","","    // callback(err);","    self.hdel = function(name, key, callback){","        self.request('hdel', [name, key], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                callback(err);","            }","        });","    }","","    // callback(err, {index:[], items:{key:score}})","    self.hscan = function(name, key_start, key_end, limit, callback){","        self.request('hscan', [name, key_start, key_end, limit], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                if(resp.length % 2 != 1){","                    callback('error');","                }else{","                    var data = {index: [], items: {}};","                    for(var i=1; i<resp.length; i+=2){","                        var k = resp[i].toString();","                        var v = resp[i+1].toString();","                        data.index.push(k);","                        data.items[k] = v;","                    }","                    callback(err, data);","                }","            }","        });","    }","","    // callback(err, [])","    self.hlist = function(name_start, name_end, limit, callback){","        self.request('hlist', [name_start, name_end, limit], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                var data = [];","                for(var i=1; i<resp.length; i++){","                    var k = resp[i].toString();","                    data.push(k);","                }","                callback(err, data);","            }","        });","    }","","    // callback(size)","    self.hsize = function(name, callback){","        self.request('hsize', [name], function(resp){","            if(callback){","                var err = resp[0] == 'ok'? 0 : resp[0];","                if(resp.length == 2){","                    var size = parseInt(resp[1]);","                    callback(err, size);","                }else{","                    var score = 0;","                    callback('error');","                }","            }","        });","    }","","    return self;","}","","exports.connect = function(host, port, timeout, listener){","    return new SSDBConnect(host, port, timeout, listener);","}","","","/*"," example:"," var SSDB = require('./SSDB.js');"," var ssdb = SSDB.connect(host, port, function(err){"," if(err){"," return;"," }"," ssdb.set('a', new Date(), function(){"," console.log('set a');"," });"," });"," */",""],"l":{"10":1,"15":1,"16":0,"17":0,"18":0,"19":0,"21":0,"22":0,"23":0,"25":0,"27":0,"28":0,"29":0,"30":0,"32":0,"33":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"44":0,"45":0,"48":0,"49":0,"50":0,"51":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"62":0,"64":0,"65":0,"67":0,"68":0,"69":0,"70":0,"71":0,"73":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"85":0,"87":0,"88":0,"89":0,"91":0,"92":0,"93":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"105":0,"106":0,"107":0,"111":1,"112":0,"113":0,"114":0,"115":0,"116":0,"119":0,"122":1,"123":0,"124":0,"125":0,"127":0,"129":0,"130":0,"132":0,"134":0,"135":0,"136":0,"137":0,"140":0,"141":0,"143":0,"144":0,"146":0,"147":0,"149":0,"153":0,"156":0,"157":0,"158":0,"161":0,"162":0,"164":0,"165":0,"169":0,"170":0,"171":0,"173":0,"174":0,"176":0,"178":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"194":0,"195":0,"196":0,"197":0,"198":0,"204":0,"205":0,"206":0,"207":0,"208":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"228":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"244":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"260":0,"261":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"276":0,"277":0,"284":0,"285":0,"286":0,"287":0,"288":0,"294":0,"295":0,"296":0,"297":0,"298":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"318":0,"325":0,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"334":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":0,"348":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"364":0,"371":0,"372":0,"373":0,"374":0,"375":0,"381":0,"382":0,"383":0,"384":0,"385":0,"391":0,"392":0,"393":0,"394":0,"395":0,"396":0,"398":0,"399":0,"400":0,"401":0,"402":0,"403":0,"405":0,"412":0,"413":0,"414":0,"415":0,"416":0,"417":0,"418":0,"419":0,"421":0,"427":0,"428":0,"429":0,"430":0,"431":0,"432":0,"433":0,"435":0,"436":0,"442":0,"445":1,"446":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/spider/downloader.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/spider/downloader.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":1,"25":0,"26":0,"27":1,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":1,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":1,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":1,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0,0,0],"42":[0,0],"43":[0,0],"44":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"fnMap":{"1":{"name":"(anonymous_1)","line":23,"loc":{"start":{"line":23,"column":17},"end":{"line":23,"column":37}}},"2":{"name":"(anonymous_2)","line":34,"loc":{"start":{"line":34,"column":32},"end":{"line":34,"column":50}}},"3":{"name":"(anonymous_3)","line":93,"loc":{"start":{"line":93,"column":40},"end":{"line":93,"column":60}}},"4":{"name":"(anonymous_4)","line":102,"loc":{"start":{"line":102,"column":42},"end":{"line":102,"column":57}}},"5":{"name":"(anonymous_5)","line":105,"loc":{"start":{"line":105,"column":44},"end":{"line":105,"column":67}}},"6":{"name":"(anonymous_6)","line":112,"loc":{"start":{"line":112,"column":32},"end":{"line":112,"column":50}}},"7":{"name":"(anonymous_7)","line":117,"loc":{"start":{"line":117,"column":41},"end":{"line":117,"column":55}}},"8":{"name":"(anonymous_8)","line":128,"loc":{"start":{"line":128,"column":37},"end":{"line":128,"column":54}}},"9":{"name":"(anonymous_9)","line":172,"loc":{"start":{"line":172,"column":36},"end":{"line":172,"column":50}}},"10":{"name":"(anonymous_10)","line":198,"loc":{"start":{"line":198,"column":23},"end":{"line":198,"column":40}}},"11":{"name":"(anonymous_11)","line":202,"loc":{"start":{"line":202,"column":22},"end":{"line":202,"column":39}}},"12":{"name":"(anonymous_12)","line":227,"loc":{"start":{"line":227,"column":47},"end":{"line":227,"column":67}}},"13":{"name":"(anonymous_13)","line":243,"loc":{"start":{"line":243,"column":27},"end":{"line":243,"column":37}}},"14":{"name":"(anonymous_14)","line":253,"loc":{"start":{"line":253,"column":20},"end":{"line":253,"column":32}}},"15":{"name":"(anonymous_15)","line":271,"loc":{"start":{"line":271,"column":41},"end":{"line":271,"column":57}}},"16":{"name":"(anonymous_16)","line":290,"loc":{"start":{"line":290,"column":34},"end":{"line":290,"column":51}}},"17":{"name":"(anonymous_17)","line":294,"loc":{"start":{"line":294,"column":50},"end":{"line":294,"column":70}}},"18":{"name":"(anonymous_18)","line":308,"loc":{"start":{"line":308,"column":32},"end":{"line":308,"column":49}}},"19":{"name":"(anonymous_19)","line":344,"loc":{"start":{"line":344,"column":25},"end":{"line":344,"column":38}}},"20":{"name":"(anonymous_20)","line":347,"loc":{"start":{"line":347,"column":32},"end":{"line":347,"column":47}}},"21":{"name":"(anonymous_21)","line":361,"loc":{"start":{"line":361,"column":29},"end":{"line":361,"column":44}}},"22":{"name":"(anonymous_22)","line":388,"loc":{"start":{"line":388,"column":32},"end":{"line":388,"column":48}}},"23":{"name":"(anonymous_23)","line":392,"loc":{"start":{"line":392,"column":25},"end":{"line":392,"column":41}}},"24":{"name":"(anonymous_24)","line":396,"loc":{"start":{"line":396,"column":26},"end":{"line":396,"column":44}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":45}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":27}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":27}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":30}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":34}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":43}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":80}},"12":{"start":{"line":15,"column":6},"end":{"line":15,"column":40}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":11}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":33}},"15":{"start":{"line":20,"column":0},"end":{"line":20,"column":30}},"16":{"start":{"line":21,"column":0},"end":{"line":21,"column":38}},"17":{"start":{"line":23,"column":0},"end":{"line":29,"column":1}},"18":{"start":{"line":24,"column":4},"end":{"line":24,"column":35}},"19":{"start":{"line":25,"column":4},"end":{"line":25,"column":33}},"20":{"start":{"line":26,"column":4},"end":{"line":26,"column":24}},"21":{"start":{"line":27,"column":4},"end":{"line":27,"column":27}},"22":{"start":{"line":28,"column":4},"end":{"line":28,"column":40}},"23":{"start":{"line":31,"column":0},"end":{"line":31,"column":47}},"24":{"start":{"line":34,"column":0},"end":{"line":88,"column":1}},"25":{"start":{"line":87,"column":4},"end":{"line":87,"column":38}},"26":{"start":{"line":87,"column":16},"end":{"line":87,"column":38}},"27":{"start":{"line":93,"column":0},"end":{"line":96,"column":1}},"28":{"start":{"line":94,"column":4},"end":{"line":94,"column":34}},"29":{"start":{"line":95,"column":4},"end":{"line":95,"column":60}},"30":{"start":{"line":102,"column":0},"end":{"line":109,"column":1}},"31":{"start":{"line":103,"column":4},"end":{"line":103,"column":26}},"32":{"start":{"line":104,"column":4},"end":{"line":104,"column":63}},"33":{"start":{"line":105,"column":4},"end":{"line":108,"column":7}},"34":{"start":{"line":106,"column":8},"end":{"line":106,"column":26}},"35":{"start":{"line":106,"column":15},"end":{"line":106,"column":26}},"36":{"start":{"line":107,"column":8},"end":{"line":107,"column":56}},"37":{"start":{"line":112,"column":0},"end":{"line":115,"column":1}},"38":{"start":{"line":113,"column":4},"end":{"line":114,"column":34}},"39":{"start":{"line":113,"column":27},"end":{"line":113,"column":50}},"40":{"start":{"line":114,"column":9},"end":{"line":114,"column":34}},"41":{"start":{"line":117,"column":0},"end":{"line":123,"column":1}},"42":{"start":{"line":118,"column":4},"end":{"line":118,"column":21}},"43":{"start":{"line":119,"column":4},"end":{"line":121,"column":5}},"44":{"start":{"line":120,"column":8},"end":{"line":120,"column":59}},"45":{"start":{"line":122,"column":4},"end":{"line":122,"column":29}},"46":{"start":{"line":128,"column":0},"end":{"line":266,"column":1}},"47":{"start":{"line":129,"column":4},"end":{"line":129,"column":37}},"48":{"start":{"line":130,"column":4},"end":{"line":130,"column":20}},"49":{"start":{"line":132,"column":4},"end":{"line":132,"column":26}},"50":{"start":{"line":133,"column":4},"end":{"line":133,"column":34}},"51":{"start":{"line":134,"column":4},"end":{"line":134,"column":58}},"52":{"start":{"line":134,"column":27},"end":{"line":134,"column":58}},"53":{"start":{"line":136,"column":4},"end":{"line":136,"column":25}},"54":{"start":{"line":137,"column":4},"end":{"line":139,"column":5}},"55":{"start":{"line":138,"column":8},"end":{"line":138,"column":96}},"56":{"start":{"line":138,"column":82},"end":{"line":138,"column":96}},"57":{"start":{"line":141,"column":4},"end":{"line":152,"column":5}},"58":{"start":{"line":142,"column":8},"end":{"line":142,"column":73}},"59":{"start":{"line":143,"column":8},"end":{"line":143,"column":36}},"60":{"start":{"line":144,"column":8},"end":{"line":144,"column":36}},"61":{"start":{"line":145,"column":8},"end":{"line":145,"column":31}},"62":{"start":{"line":147,"column":8},"end":{"line":147,"column":45}},"63":{"start":{"line":148,"column":8},"end":{"line":148,"column":40}},"64":{"start":{"line":149,"column":8},"end":{"line":149,"column":36}},"65":{"start":{"line":150,"column":8},"end":{"line":150,"column":36}},"66":{"start":{"line":155,"column":4},"end":{"line":155,"column":31}},"67":{"start":{"line":156,"column":4},"end":{"line":170,"column":6}},"68":{"start":{"line":171,"column":4},"end":{"line":171,"column":60}},"69":{"start":{"line":172,"column":4},"end":{"line":241,"column":7}},"70":{"start":{"line":173,"column":8},"end":{"line":173,"column":59}},"71":{"start":{"line":175,"column":8},"end":{"line":183,"column":10}},"72":{"start":{"line":184,"column":8},"end":{"line":184,"column":97}},"73":{"start":{"line":184,"column":41},"end":{"line":184,"column":97}},"74":{"start":{"line":185,"column":8},"end":{"line":185,"column":46}},"75":{"start":{"line":186,"column":8},"end":{"line":191,"column":9}},"76":{"start":{"line":187,"column":12},"end":{"line":190,"column":13}},"77":{"start":{"line":188,"column":16},"end":{"line":188,"column":97}},"78":{"start":{"line":189,"column":16},"end":{"line":189,"column":92}},"79":{"start":{"line":193,"column":8},"end":{"line":193,"column":78}},"80":{"start":{"line":195,"column":8},"end":{"line":195,"column":46}},"81":{"start":{"line":198,"column":8},"end":{"line":200,"column":11}},"82":{"start":{"line":199,"column":12},"end":{"line":199,"column":39}},"83":{"start":{"line":202,"column":8},"end":{"line":240,"column":11}},"84":{"start":{"line":203,"column":12},"end":{"line":203,"column":33}},"85":{"start":{"line":204,"column":12},"end":{"line":207,"column":13}},"86":{"start":{"line":205,"column":16},"end":{"line":205,"column":40}},"87":{"start":{"line":206,"column":16},"end":{"line":206,"column":34}},"88":{"start":{"line":208,"column":12},"end":{"line":208,"column":54}},"89":{"start":{"line":209,"column":12},"end":{"line":209,"column":77}},"90":{"start":{"line":212,"column":12},"end":{"line":212,"column":52}},"91":{"start":{"line":214,"column":12},"end":{"line":216,"column":13}},"92":{"start":{"line":215,"column":16},"end":{"line":215,"column":68}},"93":{"start":{"line":218,"column":12},"end":{"line":218,"column":72}},"94":{"start":{"line":219,"column":12},"end":{"line":239,"column":13}},"95":{"start":{"line":220,"column":16},"end":{"line":224,"column":17}},"96":{"start":{"line":221,"column":20},"end":{"line":221,"column":64}},"97":{"start":{"line":223,"column":20},"end":{"line":223,"column":92}},"98":{"start":{"line":225,"column":16},"end":{"line":225,"column":50}},"99":{"start":{"line":227,"column":16},"end":{"line":238,"column":19}},"100":{"start":{"line":228,"column":20},"end":{"line":237,"column":21}},"101":{"start":{"line":229,"column":24},"end":{"line":233,"column":25}},"102":{"start":{"line":230,"column":28},"end":{"line":230,"column":53}},"103":{"start":{"line":232,"column":28},"end":{"line":232,"column":81}},"104":{"start":{"line":234,"column":24},"end":{"line":234,"column":58}},"105":{"start":{"line":236,"column":24},"end":{"line":236,"column":84}},"106":{"start":{"line":243,"column":4},"end":{"line":251,"column":52}},"107":{"start":{"line":244,"column":8},"end":{"line":250,"column":9}},"108":{"start":{"line":245,"column":12},"end":{"line":245,"column":92}},"109":{"start":{"line":246,"column":12},"end":{"line":246,"column":24}},"110":{"start":{"line":247,"column":12},"end":{"line":247,"column":21}},"111":{"start":{"line":248,"column":12},"end":{"line":248,"column":75}},"112":{"start":{"line":249,"column":12},"end":{"line":249,"column":136}},"113":{"start":{"line":249,"column":79},"end":{"line":249,"column":119}},"114":{"start":{"line":249,"column":119},"end":{"line":249,"column":135}},"115":{"start":{"line":253,"column":4},"end":{"line":264,"column":7}},"116":{"start":{"line":254,"column":8},"end":{"line":254,"column":77}},"117":{"start":{"line":255,"column":8},"end":{"line":258,"column":9}},"118":{"start":{"line":256,"column":12},"end":{"line":256,"column":36}},"119":{"start":{"line":257,"column":12},"end":{"line":257,"column":30}},"120":{"start":{"line":259,"column":8},"end":{"line":263,"column":9}},"121":{"start":{"line":260,"column":12},"end":{"line":260,"column":24}},"122":{"start":{"line":261,"column":12},"end":{"line":261,"column":23}},"123":{"start":{"line":262,"column":12},"end":{"line":262,"column":66}},"124":{"start":{"line":265,"column":4},"end":{"line":265,"column":14}},"125":{"start":{"line":271,"column":0},"end":{"line":284,"column":1}},"126":{"start":{"line":272,"column":4},"end":{"line":272,"column":32}},"127":{"start":{"line":274,"column":4},"end":{"line":282,"column":5}},"128":{"start":{"line":275,"column":8},"end":{"line":275,"column":49}},"129":{"start":{"line":276,"column":8},"end":{"line":276,"column":57}},"130":{"start":{"line":277,"column":8},"end":{"line":277,"column":41}},"131":{"start":{"line":278,"column":8},"end":{"line":281,"column":9}},"132":{"start":{"line":280,"column":12},"end":{"line":280,"column":35}},"133":{"start":{"line":283,"column":4},"end":{"line":283,"column":25}},"134":{"start":{"line":290,"column":0},"end":{"line":303,"column":1}},"135":{"start":{"line":291,"column":4},"end":{"line":291,"column":37}},"136":{"start":{"line":292,"column":4},"end":{"line":292,"column":20}},"137":{"start":{"line":293,"column":4},"end":{"line":302,"column":38}},"138":{"start":{"line":294,"column":8},"end":{"line":301,"column":11}},"139":{"start":{"line":295,"column":12},"end":{"line":300,"column":13}},"140":{"start":{"line":296,"column":16},"end":{"line":296,"column":44}},"141":{"start":{"line":298,"column":16},"end":{"line":299,"column":55}},"142":{"start":{"line":298,"column":23},"end":{"line":298,"column":71}},"143":{"start":{"line":299,"column":21},"end":{"line":299,"column":55}},"144":{"start":{"line":302,"column":10},"end":{"line":302,"column":38}},"145":{"start":{"line":308,"column":0},"end":{"line":400,"column":1}},"146":{"start":{"line":309,"column":4},"end":{"line":309,"column":37}},"147":{"start":{"line":310,"column":4},"end":{"line":313,"column":5}},"148":{"start":{"line":311,"column":8},"end":{"line":311,"column":31}},"149":{"start":{"line":312,"column":8},"end":{"line":312,"column":109}},"150":{"start":{"line":314,"column":4},"end":{"line":314,"column":25}},"151":{"start":{"line":315,"column":4},"end":{"line":317,"column":5}},"152":{"start":{"line":316,"column":8},"end":{"line":316,"column":96}},"153":{"start":{"line":316,"column":82},"end":{"line":316,"column":96}},"154":{"start":{"line":318,"column":4},"end":{"line":339,"column":5}},"155":{"start":{"line":319,"column":8},"end":{"line":328,"column":10}},"156":{"start":{"line":330,"column":8},"end":{"line":338,"column":10}},"157":{"start":{"line":341,"column":4},"end":{"line":341,"column":40}},"158":{"start":{"line":342,"column":4},"end":{"line":342,"column":41}},"159":{"start":{"line":344,"column":4},"end":{"line":344,"column":60}},"160":{"start":{"line":344,"column":39},"end":{"line":344,"column":57}},"161":{"start":{"line":346,"column":4},"end":{"line":346,"column":22}},"162":{"start":{"line":347,"column":4},"end":{"line":359,"column":7}},"163":{"start":{"line":348,"column":8},"end":{"line":348,"column":27}},"164":{"start":{"line":349,"column":8},"end":{"line":358,"column":9}},"165":{"start":{"line":350,"column":12},"end":{"line":350,"column":44}},"166":{"start":{"line":352,"column":12},"end":{"line":352,"column":29}},"167":{"start":{"line":353,"column":12},"end":{"line":357,"column":13}},"168":{"start":{"line":354,"column":16},"end":{"line":354,"column":55}},"169":{"start":{"line":355,"column":16},"end":{"line":355,"column":30}},"170":{"start":{"line":356,"column":16},"end":{"line":356,"column":55}},"171":{"start":{"line":361,"column":4},"end":{"line":386,"column":7}},"172":{"start":{"line":362,"column":8},"end":{"line":369,"column":9}},"173":{"start":{"line":363,"column":12},"end":{"line":363,"column":44}},"174":{"start":{"line":365,"column":12},"end":{"line":365,"column":72}},"175":{"start":{"line":366,"column":12},"end":{"line":366,"column":64}},"176":{"start":{"line":367,"column":12},"end":{"line":367,"column":29}},"177":{"start":{"line":368,"column":12},"end":{"line":368,"column":19}},"178":{"start":{"line":370,"column":8},"end":{"line":385,"column":9}},"179":{"start":{"line":372,"column":16},"end":{"line":372,"column":52}},"180":{"start":{"line":373,"column":16},"end":{"line":373,"column":22}},"181":{"start":{"line":375,"column":16},"end":{"line":375,"column":59}},"182":{"start":{"line":376,"column":16},"end":{"line":376,"column":33}},"183":{"start":{"line":377,"column":16},"end":{"line":377,"column":121}},"184":{"start":{"line":377,"column":51},"end":{"line":377,"column":121}},"185":{"start":{"line":378,"column":16},"end":{"line":378,"column":22}},"186":{"start":{"line":380,"column":16},"end":{"line":380,"column":60}},"187":{"start":{"line":381,"column":16},"end":{"line":381,"column":33}},"188":{"start":{"line":382,"column":16},"end":{"line":382,"column":22}},"189":{"start":{"line":384,"column":16},"end":{"line":384,"column":49}},"190":{"start":{"line":388,"column":4},"end":{"line":390,"column":7}},"191":{"start":{"line":389,"column":8},"end":{"line":389,"column":44}},"192":{"start":{"line":392,"column":4},"end":{"line":394,"column":7}},"193":{"start":{"line":393,"column":8},"end":{"line":393,"column":74}},"194":{"start":{"line":393,"column":19},"end":{"line":393,"column":74}},"195":{"start":{"line":396,"column":4},"end":{"line":398,"column":7}},"196":{"start":{"line":397,"column":8},"end":{"line":397,"column":80}},"197":{"start":{"line":397,"column":21},"end":{"line":397,"column":80}},"198":{"start":{"line":402,"column":0},"end":{"line":402,"column":28}}},"branchMap":{"1":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":4}},{"start":{"line":87,"column":4},"end":{"line":87,"column":4}}]},"2":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":8},"end":{"line":106,"column":8}},{"start":{"line":106,"column":8},"end":{"line":106,"column":8}}]},"3":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":113,"column":4}},{"start":{"line":113,"column":4},"end":{"line":113,"column":4}}]},"4":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":4},"end":{"line":134,"column":4}},{"start":{"line":134,"column":4},"end":{"line":134,"column":4}}]},"5":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":4},"end":{"line":137,"column":4}},{"start":{"line":137,"column":4},"end":{"line":137,"column":4}}]},"6":{"line":137,"type":"binary-expr","locations":[{"start":{"line":137,"column":7},"end":{"line":137,"column":24}},{"start":{"line":137,"column":26},"end":{"line":137,"column":65}}]},"7":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":8},"end":{"line":138,"column":8}},{"start":{"line":138,"column":8},"end":{"line":138,"column":8}}]},"8":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":4},"end":{"line":141,"column":4}},{"start":{"line":141,"column":4},"end":{"line":141,"column":4}}]},"9":{"line":166,"type":"binary-expr","locations":[{"start":{"line":166,"column":22},"end":{"line":166,"column":40}},{"start":{"line":166,"column":42},"end":{"line":166,"column":44}}]},"10":{"line":167,"type":"cond-expr","locations":[{"start":{"line":167,"column":47},"end":{"line":167,"column":68}},{"start":{"line":167,"column":69},"end":{"line":167,"column":71}}]},"11":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":8},"end":{"line":184,"column":8}},{"start":{"line":184,"column":8},"end":{"line":184,"column":8}}]},"12":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":8},"end":{"line":186,"column":8}},{"start":{"line":186,"column":8},"end":{"line":186,"column":8}}]},"13":{"line":186,"type":"binary-expr","locations":[{"start":{"line":186,"column":11},"end":{"line":186,"column":40}},{"start":{"line":186,"column":42},"end":{"line":186,"column":71}}]},"14":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":12},"end":{"line":187,"column":12}},{"start":{"line":187,"column":12},"end":{"line":187,"column":12}}]},"15":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":12},"end":{"line":204,"column":12}},{"start":{"line":204,"column":12},"end":{"line":204,"column":12}}]},"16":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":12},"end":{"line":214,"column":12}},{"start":{"line":214,"column":12},"end":{"line":214,"column":12}}]},"17":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":12},"end":{"line":219,"column":12}},{"start":{"line":219,"column":12},"end":{"line":219,"column":12}}]},"18":{"line":219,"type":"binary-expr","locations":[{"start":{"line":219,"column":15},"end":{"line":219,"column":26}},{"start":{"line":219,"column":30},"end":{"line":219,"column":57}}]},"19":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":16},"end":{"line":220,"column":16}},{"start":{"line":220,"column":16},"end":{"line":220,"column":16}}]},"20":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":20},"end":{"line":228,"column":20}},{"start":{"line":228,"column":20},"end":{"line":228,"column":20}}]},"21":{"line":228,"type":"binary-expr","locations":[{"start":{"line":228,"column":24},"end":{"line":228,"column":28}},{"start":{"line":228,"column":32},"end":{"line":228,"column":36}}]},"22":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":24},"end":{"line":229,"column":24}},{"start":{"line":229,"column":24},"end":{"line":229,"column":24}}]},"23":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":8},"end":{"line":244,"column":8}},{"start":{"line":244,"column":8},"end":{"line":244,"column":8}}]},"24":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":12},"end":{"line":249,"column":12}},{"start":{"line":249,"column":12},"end":{"line":249,"column":12}}]},"25":{"line":255,"type":"if","locations":[{"start":{"line":255,"column":8},"end":{"line":255,"column":8}},{"start":{"line":255,"column":8},"end":{"line":255,"column":8}}]},"26":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":8},"end":{"line":259,"column":8}},{"start":{"line":259,"column":8},"end":{"line":259,"column":8}}]},"27":{"line":274,"type":"if","locations":[{"start":{"line":274,"column":4},"end":{"line":274,"column":4}},{"start":{"line":274,"column":4},"end":{"line":274,"column":4}}]},"28":{"line":278,"type":"if","locations":[{"start":{"line":278,"column":8},"end":{"line":278,"column":8}},{"start":{"line":278,"column":8},"end":{"line":278,"column":8}}]},"29":{"line":293,"type":"if","locations":[{"start":{"line":293,"column":4},"end":{"line":293,"column":4}},{"start":{"line":293,"column":4},"end":{"line":293,"column":4}}]},"30":{"line":295,"type":"if","locations":[{"start":{"line":295,"column":12},"end":{"line":295,"column":12}},{"start":{"line":295,"column":12},"end":{"line":295,"column":12}}]},"31":{"line":295,"type":"binary-expr","locations":[{"start":{"line":295,"column":15},"end":{"line":295,"column":24}},{"start":{"line":295,"column":26},"end":{"line":295,"column":38}}]},"32":{"line":298,"type":"if","locations":[{"start":{"line":298,"column":16},"end":{"line":298,"column":16}},{"start":{"line":298,"column":16},"end":{"line":298,"column":16}}]},"33":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":4},"end":{"line":310,"column":4}},{"start":{"line":310,"column":4},"end":{"line":310,"column":4}}]},"34":{"line":315,"type":"if","locations":[{"start":{"line":315,"column":4},"end":{"line":315,"column":4}},{"start":{"line":315,"column":4},"end":{"line":315,"column":4}}]},"35":{"line":315,"type":"binary-expr","locations":[{"start":{"line":315,"column":7},"end":{"line":315,"column":24}},{"start":{"line":315,"column":26},"end":{"line":315,"column":65}}]},"36":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":8},"end":{"line":316,"column":8}},{"start":{"line":316,"column":8},"end":{"line":316,"column":8}}]},"37":{"line":318,"type":"if","locations":[{"start":{"line":318,"column":4},"end":{"line":318,"column":4}},{"start":{"line":318,"column":4},"end":{"line":318,"column":4}}]},"38":{"line":349,"type":"if","locations":[{"start":{"line":349,"column":8},"end":{"line":349,"column":8}},{"start":{"line":349,"column":8},"end":{"line":349,"column":8}}]},"39":{"line":349,"type":"binary-expr","locations":[{"start":{"line":349,"column":11},"end":{"line":349,"column":23}},{"start":{"line":349,"column":25},"end":{"line":349,"column":46}}]},"40":{"line":353,"type":"if","locations":[{"start":{"line":353,"column":12},"end":{"line":353,"column":12}},{"start":{"line":353,"column":12},"end":{"line":353,"column":12}}]},"41":{"line":370,"type":"switch","locations":[{"start":{"line":371,"column":12},"end":{"line":373,"column":22}},{"start":{"line":374,"column":12},"end":{"line":378,"column":22}},{"start":{"line":379,"column":12},"end":{"line":382,"column":22}},{"start":{"line":383,"column":12},"end":{"line":384,"column":49}}]},"42":{"line":377,"type":"if","locations":[{"start":{"line":377,"column":16},"end":{"line":377,"column":16}},{"start":{"line":377,"column":16},"end":{"line":377,"column":16}}]},"43":{"line":393,"type":"if","locations":[{"start":{"line":393,"column":8},"end":{"line":393,"column":8}},{"start":{"line":393,"column":8},"end":{"line":393,"column":8}}]},"44":{"line":397,"type":"if","locations":[{"start":{"line":397,"column":8},"end":{"line":397,"column":8}},{"start":{"line":397,"column":8},"end":{"line":397,"column":8}}]}},"code":["/**"," * Created by james on 13-11-22."," * download middleware"," */","var util = require('util');","var urlUtil =  require(\"url\");","var redis = require(\"redis\");","var events = require('events');","var child_process = require('child_process');","var path = require('path');","var http = require('http');","require('../lib/jsextend.js');","var iconv = require('iconv-lite');","var BufferHelper = require('bufferhelper');","try { var unzip = require('zlib').unzip } catch(e) { /* unzip not supported */ }","var logger;","","//command signal defined","var CMD_SIGNAL_CRAWL_SUCCESS = 1;","var CMD_SIGNAL_CRAWL_FAIL = 3;","var CMD_SIGNAL_NAVIGATE_EXCEPTION = 2;","","var downloader = function(spiderCore){","    events.EventEmitter.call(this);//eventemitter inherits","    this.spiderCore = spiderCore;","    this.proxyList = [];","    this.timeout_count = 0;","    logger = spiderCore.settings.logger;","}","","util.inherits(downloader, events.EventEmitter);//eventemitter inherits","","////report to spidercore standby////////////////////////","downloader.prototype.assembly = function(callback){","    /*","    var downloader = this;","    var MIN_PROXY_LENGTH = 1000;","    downloader.on('gotProxyList',function(label,proxylist){","        if(proxylist&&proxylist.length>0)downloader.tmp_proxyList = downloader.tmp_proxyList.concat(proxylist);","        switch(label){","            case 'proxy:vip:available:1s':","                if(downloader.tmp_proxyList.length<MIN_PROXY_LENGTH)this.getProxyListFromDb('proxy:vip:available:3s');","                else {","                    downloader.proxyList = downloader.tmp_proxyList;","                    downloader.emit('refreshed_proxy_list',downloader.proxyList);","                }","                break;","            case 'proxy:vip:available:3s':","                if(downloader.tmp_proxyList.length<MIN_PROXY_LENGTH)this.getProxyListFromDb('proxy:public:available:1s');","                else {","                    downloader.proxyList = downloader.tmp_proxyList;","                    downloader.emit('refreshed_proxy_list',downloader.proxyList);","                }","                break;","            case 'proxy:public:available:1s':","                if(downloader.tmp_proxyList.length<MIN_PROXY_LENGTH)this.getProxyListFromDb('proxy:public:available:3s');","                else {","                    downloader.proxyList = downloader.tmp_proxyList;","                    downloader.emit('refreshed_proxy_list',downloader.proxyList);","                }","                break;","            case 'proxy:public:available:3s':","                if(downloader.tmp_proxyList.length<MIN_PROXY_LENGTH)logger.warn(util.format('Only %d proxies !!!',downloader.tmp_proxyList.length));","                if(downloader.tmp_proxyList.length<0)throw new Error('no proxy list');","                else{","                    downloader.proxyList = downloader.tmp_proxyList;","                    downloader.emit('refreshed_proxy_list',downloader.proxyList);","                }","                break;","        }","    });","    this.redis_cli3 = redis.createClient(this.spiderCore.settings['proxy_info_redis_db'][1],this.spiderCore.settings['proxy_info_redis_db'][0]);","    if(this.spiderCore.settings['use_proxy']){","        downloader.redis_cli3.select(downloader.spiderCore.settings['proxy_info_redis_db'][2], function(err,value) {","             if(err)throw(err);","             downloader.refreshProxyList(downloader);","             downloader.on('refreshed_proxy_list',function(proxylist){","                 downloader.spiderCore.emit('standby','downloader');","                 setTimeout(function(){downloader.refreshProxyList(downloader)},10*60*1000);//refresh again after 10 mins","             });","         });","","    }else{","        this.spiderCore.emit('standby','downloader');","    }","    */","    if(callback)callback(null,'done');","}","/**"," * refresh proxy list from redis db"," * @param downloader"," */","downloader.prototype.refreshProxyList = function(downloader){","    downloader.tmp_proxyList = [];","    downloader.getProxyListFromDb('proxy:vip:available:1s');","}","","/**"," * get proxy list from redisdb, emit event"," * @param label"," */","downloader.prototype.getProxyListFromDb = function(label){","    var downloader = this;","    logger.debug(util.format('get proxy list from :%s',label));","    downloader.redis_cli3.lrange(label,0,-1,function(err,proxylist){","        if(err)throw(err);","        downloader.emit('gotProxyList',label,proxylist);","    });","}","","////download action/////////////////////","downloader.prototype.download = function (urlinfo){","    if(urlinfo['jshandle'])this.browseIt(urlinfo);","    else this.downloadIt(urlinfo);","}","","downloader.prototype.transCookieKvPair = function(json){","    var kvarray = [];","    for(var i=0; i<json.length; i++){","        kvarray.push(json[i]['name']+'='+json[i]['value']);","    }","    return kvarray.join(';');","}","","/**"," * download page action use http request"," */","downloader.prototype.downloadItAct = function(urlinfo){","    var spiderCore = this.spiderCore;","    var self = this;","","    var timeOuter = false;","    var pageLink = urlinfo['url'];","    if(urlinfo['redirect'])pageLink = urlinfo['redirect'];","","    var useProxy = false;","    if(urlinfo['urllib']&&spiderCore.settings['use_proxy']===true){","        if(spiderCore.spider.getDrillerRule(urlinfo['urllib'],'use_proxy')===true)useProxy=true;","    }","","    if(useProxy){","        var proxyRouter = spiderCore.settings['proxy_router'].split(':');","        var __host = proxyRouter[0];","        var __port = proxyRouter[1];","        var __path =  pageLink;","    }else{","        var urlobj = urlUtil.parse(pageLink);","        var __host = urlobj['hostname'];","        var __port = urlobj['port'];","        var __path = urlobj['path'];","//        var __path = pageLink;","    }","","","    var startTime = new Date();","    var options = {","        'host': __host,","        'port': __port,","        'path': __path,","        'method': 'GET',","        'headers': {","            \"User-Agent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like NeoCrawler) Chrome/31.0.1650.57 Safari/537.36\",","            \"Accept\":\"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",","            \"Accept-Encoding\":\"gzip\",","            \"Accept-Language\":\"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4\",","            \"Referer\":urlinfo['referer']||'',","            \"void-proxy\":urlinfo['void_proxy']?urlinfo['void_proxy']:\"\",","            \"Cookie\":this.transCookieKvPair(urlinfo['cookie'])","        }","    };","    logger.debug(util.format('Request start, %s',pageLink));","    var req = http.request(options, function(res) {","        logger.debug(util.format('Response, %s',pageLink));","","        var result = {","            \"remote_proxy\":res.headers['remoteproxy'],","            \"drill_count\":0,","            \"cookie\":res.headers['Cookie'],","            \"url\":urlinfo['url'],","            //\"url\":res.req.path,","            //\"statusCode\":res.statusCode,","            \"origin\":urlinfo","        };","        if(result['url'].startsWith('/'))result['url'] = urlUtil.resolve(pageLink,result['url']);","        result['statusCode'] = res.statusCode;","        if(parseInt(res.statusCode)==301||parseInt(res.statusCode)==302){","            if(res.headers['location']){","                result['origin']['redirect'] = urlUtil.resolve(pageLink,res.headers['location']);","                logger.debug(pageLink+' 301 Moved Permanently to '+res.headers['location']);","            }","        }","","        var compressed = /gzip|deflate/.test(res.headers['content-encoding']);","","        var bufferHelper = new BufferHelper();","//        res.setEncoding('utf8');","","        res.on('data', function (chunk) {","            bufferHelper.concat(chunk);","        });","","        res.on('end', function (chunk) {","            self.timeout_count--;","            if(timeOuter){","                clearTimeout(timeOuter);","                timeOuter = false;","            }","            result[\"cost\"] = (new Date()) - startTime;","            logger.debug('download '+pageLink+', cost:'+result[\"cost\"]+'ms');","","","            var page_encoding = urlinfo['encoding'];","","            if(page_encoding==='auto'){","                page_encoding = self.get_page_encoding(res.headers);","            }","","            page_encoding = page_encoding.toLowerCase().replace('\\-','')","            if(!compressed || typeof unzip == 'undefined'){","                if(urlinfo['format']=='binary'){","                    result[\"content\"] = bufferHelper.toBuffer();","                }else{","                    result[\"content\"] = iconv.decode(bufferHelper.toBuffer(),page_encoding);//page_encoding","                }","                spiderCore.emit('crawled',result);","            }else{","                unzip(bufferHelper.toBuffer(), function(err, buff) {","                    if (!err && buff) {","                        if(urlinfo['format']=='binary'){","                            result[\"content\"] = buff;","                        }else{","                            result[\"content\"] = iconv.decode(buff,page_encoding);","                        }","                        spiderCore.emit('crawled',result);","                    }else{","                        spiderCore.emit('crawling_failure',urlinfo,'unzip failure');","                    }","                });","            }","        });","    });","","    timeOuter = setTimeout(function(){","        if(req){","            logger.error('Cost '+((new Date())-startTime)+'ms download timeout, '+pageLink);","            req.abort();","            req=null;","            spiderCore.emit('crawling_failure',urlinfo,'download timeout');","            if(self.timeout_count++>spiderCore.settings['spider_concurrency']){logger.fatal('too much timeout, exit.');process.exit(1);}","        }","    },spiderCore.settings['download_timeout']*1000);","","    req.on('error', function(e) {","        logger.error('problem with request: ' + e.message+', url:'+pageLink);","        if(timeOuter){","            clearTimeout(timeOuter);","            timeOuter = false;","        }","        if(req){","            req.abort();","            req = null;","            spiderCore.emit('crawling_failure',urlinfo,e.message);","        }","    });","    req.end();","}","/**"," * get page encoding"," * @returns {string}"," */","downloader.prototype.get_page_encoding = function(header){","    var page_encoding = 'UTF-8';","    //get the encoding from header","    if(header['content-type']!=undefined){","        var contentType = header['content-type'];","        var patt = new RegExp(\"^.*?charset\\=(.+)$\",\"ig\");","        var mts = patt.exec(contentType);","        if (mts != null)","        {","            page_encoding = mts[1];","        }","    }","    return page_encoding;","}","","/**"," * just download html stream"," * @param urlinfo"," */","downloader.prototype.downloadIt = function(urlinfo){","    var spiderCore = this.spiderCore;","    var self = this;","    if('download' in spiderCore.spider_extend){","        spiderCore.spider_extend.download(urlinfo,function(err,result){","            if(err==null&&result==null){","                self.downloadItAct(urlinfo);//if all return null, download it use http request","            }else{","                if(err)spiderCore.emit('crawling_failure',urlinfo,err);","                else spiderCore.emit('crawled',result);","            }","        });","    }else self.downloadItAct(urlinfo);","}","/**"," * browser simulated, use phantomjs"," * @param urlinfo"," */","downloader.prototype.browseIt = function(urlinfo){","    var spiderCore = this.spiderCore;","    if(this.spiderCore.settings['test']){","        urlinfo['test'] = true;","        urlinfo['ipath'] = path.join(__dirname,'..', 'instance',this.spiderCore.settings['instance'],'logs');","    }","    var useProxy = false;","    if(urlinfo['urllib']&&spiderCore.settings['use_proxy']===true){","        if(spiderCore.spider.getDrillerRule(urlinfo['urllib'],'use_proxy')===true)useProxy=true;","    }","    if(useProxy){","        var phantomjs = child_process.spawn('./phantomjs', [","            '--proxy', this.spiderCore.settings['proxy_router'],","            '--load-images', 'false',","            '--local-to-remote-url-access','true',","            //'--cookies-file',path.join(__dirname,'..', 'instance',this.spiderCore.settings['instance'],'logs','cookies.log'),","            'phantomjs-bridge.js',","            JSON.stringify(urlinfo)],","            {'cwd':path.join(__dirname,'..', 'lib','phantomjs'),","                'stdio':'pipe'}","        );","    }else{","        var phantomjs = child_process.spawn('./phantomjs', [","            '--load-images', 'false',","            '--local-to-remote-url-access','true',","            //'--cookies-file',path.join(__dirname,'..', 'instance',this.spiderCore.settings['instance'],'logs','cookies.log'),","            'phantomjs-bridge.js',","            JSON.stringify(urlinfo)],","            {'cwd':path.join(__dirname,'..', 'lib','phantomjs'),","                'stdio':'pipe'}","        );","    }","","    phantomjs.stdin.setEncoding('utf8');","    phantomjs.stdout.setEncoding('utf8');","","    phantomjs.on('error',function(err){logger.error(err);});","","    var feedback = '';","    phantomjs.stdout.on('data', function(data) {","        data = data.trim();","        if(feedback==''&&!data.startsWith('{')){","            logger.warn('phantomjs: '+data);","        }else{","            feedback += data;","            if(data.endsWith('}#^_^#')){","                var emit_string = feedback.slice(0,-5);","                feedback = '';","                phantomjs.emit('feedback',emit_string);","            }","        }","    });","","    phantomjs.on('feedback', function(data) {","        try{","            var feedback = JSON.parse(data);//data.toString('utf8')","        }catch(e){","            logger.error(util.format('Page content parse error: %s',e));","            spiderCore.emit('crawling_break',urlinfo,e.message);","            phantomjs.kill();","            return;","        }","        switch(feedback['signal']){","            case CMD_SIGNAL_CRAWL_SUCCESS:","                spiderCore.emit('crawled',feedback);","                break;","            case CMD_SIGNAL_CRAWL_FAIL:","                logger.error(feedback.url+' crawled fail');","                phantomjs.kill();","                if(feedback['url']==urlinfo['url'])spiderCore.emit('crawling_failure',urlinfo,'phantomjs crawl failure');","                break;","            case CMD_SIGNAL_NAVIGATE_EXCEPTION:","                logger.error(feedback.url+' navigate fail');","                phantomjs.kill();","                break;","            default:","                logger.debug('Phantomjs: '+data);","        }","    });","","    phantomjs.stderr.on('data', function (data) {","        logger.error(data.toString('utf8'));","    });","","    phantomjs.on('exit', function (code) {","        if(code!=0)logger.error('child process exited with code ' + code);","    });","","    phantomjs.on('close', function (signal) {","        if(signal!=0)logger.error('child process closed with signal ' + signal);","    });","","}","////////////////////////////////////////","module.exports = downloader;",""],"l":{"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"19":1,"20":1,"21":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"31":1,"34":1,"87":0,"93":1,"94":0,"95":0,"102":1,"103":0,"104":0,"105":0,"106":0,"107":0,"112":1,"113":0,"114":0,"117":1,"118":0,"119":0,"120":0,"122":0,"128":1,"129":0,"130":0,"132":0,"133":0,"134":0,"136":0,"137":0,"138":0,"141":0,"142":0,"143":0,"144":0,"145":0,"147":0,"148":0,"149":0,"150":0,"155":0,"156":0,"171":0,"172":0,"173":0,"175":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"193":0,"195":0,"198":0,"199":0,"202":0,"203":0,"204":0,"205":0,"206":0,"208":0,"209":0,"212":0,"214":0,"215":0,"218":0,"219":0,"220":0,"221":0,"223":0,"225":0,"227":0,"228":0,"229":0,"230":0,"232":0,"234":0,"236":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"253":0,"254":0,"255":0,"256":0,"257":0,"259":0,"260":0,"261":0,"262":0,"265":0,"271":1,"272":0,"274":0,"275":0,"276":0,"277":0,"278":0,"280":0,"283":0,"290":1,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"298":0,"299":0,"302":0,"308":1,"309":0,"310":0,"311":0,"312":0,"314":0,"315":0,"316":0,"318":0,"319":0,"330":0,"341":0,"342":0,"344":0,"346":0,"347":0,"348":0,"349":0,"350":0,"352":0,"353":0,"354":0,"355":0,"356":0,"361":0,"362":0,"363":0,"365":0,"366":0,"367":0,"368":0,"370":0,"372":0,"373":0,"375":0,"376":0,"377":0,"378":0,"380":0,"381":0,"382":0,"384":0,"388":0,"389":0,"392":0,"393":0,"396":0,"397":0,"402":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/spider/extractor.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/spider/extractor.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":1,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":1,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":1,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":1,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":1,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":1,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":1,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0,0,0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0,0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"(anonymous_1)","line":15,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":36}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":31},"end":{"line":22,"column":49}}},"3":{"name":"(anonymous_3)","line":32,"loc":{"start":{"line":32,"column":35},"end":{"line":32,"column":52}}},"4":{"name":"(anonymous_4)","line":35,"loc":{"start":{"line":35,"column":25},"end":{"line":35,"column":43}}},"5":{"name":"(anonymous_5)","line":49,"loc":{"start":{"line":49,"column":42},"end":{"line":49,"column":58}}},"6":{"name":"(anonymous_6)","line":62,"loc":{"start":{"line":62,"column":32},"end":{"line":62,"column":55}}},"7":{"name":"(anonymous_7)","line":85,"loc":{"start":{"line":85,"column":33},"end":{"line":85,"column":47}}},"8":{"name":"(anonymous_8)","line":109,"loc":{"start":{"line":109,"column":35},"end":{"line":109,"column":50}}},"9":{"name":"(anonymous_9)","line":149,"loc":{"start":{"line":149,"column":39},"end":{"line":149,"column":61}}},"10":{"name":"(anonymous_10)","line":178,"loc":{"start":{"line":178,"column":30},"end":{"line":178,"column":50}}},"11":{"name":"(anonymous_11)","line":213,"loc":{"start":{"line":213,"column":35},"end":{"line":213,"column":85}}},"12":{"name":"(anonymous_12)","line":242,"loc":{"start":{"line":242,"column":25},"end":{"line":242,"column":36}}},"13":{"name":"(anonymous_13)","line":246,"loc":{"start":{"line":246,"column":48},"end":{"line":246,"column":66}}},"14":{"name":"(anonymous_14)","line":281,"loc":{"start":{"line":281,"column":100},"end":{"line":281,"column":120}}},"15":{"name":"(anonymous_15)","line":286,"loc":{"start":{"line":286,"column":77},"end":{"line":286,"column":97}}},"16":{"name":"(anonymous_16)","line":294,"loc":{"start":{"line":294,"column":35},"end":{"line":294,"column":54}}},"17":{"name":"(anonymous_17)","line":314,"loc":{"start":{"line":314,"column":34},"end":{"line":314,"column":67}}},"18":{"name":"(anonymous_18)","line":345,"loc":{"start":{"line":345,"column":40},"end":{"line":345,"column":58}}},"19":{"name":"(anonymous_19)","line":374,"loc":{"start":{"line":374,"column":36},"end":{"line":374,"column":70}}},"20":{"name":"(anonymous_20)","line":390,"loc":{"start":{"line":390,"column":38},"end":{"line":390,"column":58}}}},"statementMap":{"1":{"start":{"line":9,"column":0},"end":{"line":9,"column":32}},"2":{"start":{"line":10,"column":0},"end":{"line":10,"column":27}},"3":{"start":{"line":11,"column":0},"end":{"line":11,"column":26}},"4":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"5":{"start":{"line":13,"column":0},"end":{"line":13,"column":30}},"6":{"start":{"line":15,"column":0},"end":{"line":19,"column":1}},"7":{"start":{"line":16,"column":4},"end":{"line":16,"column":33}},"8":{"start":{"line":17,"column":4},"end":{"line":17,"column":40}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":32}},"10":{"start":{"line":22,"column":0},"end":{"line":24,"column":1}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":38}},"12":{"start":{"line":23,"column":16},"end":{"line":23,"column":38}},"13":{"start":{"line":32,"column":0},"end":{"line":41,"column":1}},"14":{"start":{"line":33,"column":4},"end":{"line":33,"column":19}},"15":{"start":{"line":34,"column":4},"end":{"line":39,"column":5}},"16":{"start":{"line":35,"column":8},"end":{"line":38,"column":11}},"17":{"start":{"line":36,"column":12},"end":{"line":37,"column":43}},"18":{"start":{"line":36,"column":35},"end":{"line":36,"column":67}},"19":{"start":{"line":37,"column":10},"end":{"line":37,"column":43}},"20":{"start":{"line":40,"column":4},"end":{"line":40,"column":17}},"21":{"start":{"line":49,"column":0},"end":{"line":54,"column":1}},"22":{"start":{"line":50,"column":4},"end":{"line":50,"column":27}},"23":{"start":{"line":50,"column":15},"end":{"line":50,"column":27}},"24":{"start":{"line":51,"column":4},"end":{"line":51,"column":32}},"25":{"start":{"line":52,"column":4},"end":{"line":53,"column":39}},"26":{"start":{"line":52,"column":21},"end":{"line":52,"column":35}},"27":{"start":{"line":53,"column":9},"end":{"line":53,"column":39}},"28":{"start":{"line":62,"column":0},"end":{"line":79,"column":1}},"29":{"start":{"line":64,"column":4},"end":{"line":64,"column":26}},"30":{"start":{"line":65,"column":4},"end":{"line":77,"column":5}},"31":{"start":{"line":66,"column":8},"end":{"line":66,"column":30}},"32":{"start":{"line":66,"column":21},"end":{"line":66,"column":30}},"33":{"start":{"line":67,"column":8},"end":{"line":67,"column":35}},"34":{"start":{"line":68,"column":8},"end":{"line":76,"column":9}},"35":{"start":{"line":69,"column":12},"end":{"line":74,"column":13}},"36":{"start":{"line":70,"column":16},"end":{"line":70,"column":56}},"37":{"start":{"line":71,"column":16},"end":{"line":71,"column":63}},"38":{"start":{"line":71,"column":36},"end":{"line":71,"column":63}},"39":{"start":{"line":73,"column":16},"end":{"line":73,"column":70}},"40":{"start":{"line":78,"column":4},"end":{"line":78,"column":37}},"41":{"start":{"line":85,"column":0},"end":{"line":102,"column":1}},"42":{"start":{"line":86,"column":4},"end":{"line":86,"column":33}},"43":{"start":{"line":87,"column":4},"end":{"line":87,"column":20}},"44":{"start":{"line":88,"column":4},"end":{"line":88,"column":62}},"45":{"start":{"line":89,"column":4},"end":{"line":100,"column":5}},"46":{"start":{"line":90,"column":8},"end":{"line":90,"column":65}},"47":{"start":{"line":91,"column":8},"end":{"line":98,"column":9}},"48":{"start":{"line":92,"column":12},"end":{"line":92,"column":75}},"49":{"start":{"line":93,"column":12},"end":{"line":93,"column":47}},"50":{"start":{"line":94,"column":12},"end":{"line":97,"column":13}},"51":{"start":{"line":95,"column":16},"end":{"line":95,"column":60}},"52":{"start":{"line":96,"column":16},"end":{"line":96,"column":22}},"53":{"start":{"line":101,"column":4},"end":{"line":101,"column":18}},"54":{"start":{"line":109,"column":0},"end":{"line":141,"column":1}},"55":{"start":{"line":110,"column":4},"end":{"line":110,"column":21}},"56":{"start":{"line":111,"column":4},"end":{"line":134,"column":5}},"57":{"start":{"line":112,"column":8},"end":{"line":112,"column":28}},"58":{"start":{"line":113,"column":8},"end":{"line":113,"column":52}},"59":{"start":{"line":114,"column":8},"end":{"line":133,"column":9}},"60":{"start":{"line":115,"column":12},"end":{"line":115,"column":61}},"61":{"start":{"line":116,"column":12},"end":{"line":116,"column":50}},"62":{"start":{"line":117,"column":12},"end":{"line":117,"column":86}},"63":{"start":{"line":117,"column":46},"end":{"line":117,"column":86}},"64":{"start":{"line":118,"column":12},"end":{"line":118,"column":71}},"65":{"start":{"line":118,"column":47},"end":{"line":118,"column":71}},"66":{"start":{"line":119,"column":12},"end":{"line":131,"column":13}},"67":{"start":{"line":120,"column":16},"end":{"line":120,"column":64}},"68":{"start":{"line":121,"column":16},"end":{"line":121,"column":45}},"69":{"start":{"line":122,"column":16},"end":{"line":122,"column":65}},"70":{"start":{"line":123,"column":16},"end":{"line":123,"column":40}},"71":{"start":{"line":124,"column":16},"end":{"line":128,"column":17}},"72":{"start":{"line":125,"column":20},"end":{"line":125,"column":53}},"73":{"start":{"line":126,"column":20},"end":{"line":126,"column":51}},"74":{"start":{"line":126,"column":45},"end":{"line":126,"column":51}},"75":{"start":{"line":127,"column":20},"end":{"line":127,"column":113}},"76":{"start":{"line":127,"column":61},"end":{"line":127,"column":113}},"77":{"start":{"line":129,"column":16},"end":{"line":129,"column":70}},"78":{"start":{"line":130,"column":16},"end":{"line":130,"column":42}},"79":{"start":{"line":132,"column":12},"end":{"line":132,"column":44}},"80":{"start":{"line":135,"column":4},"end":{"line":139,"column":5}},"81":{"start":{"line":136,"column":8},"end":{"line":138,"column":9}},"82":{"start":{"line":137,"column":12},"end":{"line":137,"column":49}},"83":{"start":{"line":140,"column":4},"end":{"line":140,"column":19}},"84":{"start":{"line":149,"column":0},"end":{"line":171,"column":1}},"85":{"start":{"line":151,"column":4},"end":{"line":151,"column":102}},"86":{"start":{"line":152,"column":4},"end":{"line":152,"column":65}},"87":{"start":{"line":153,"column":4},"end":{"line":153,"column":46}},"88":{"start":{"line":153,"column":24},"end":{"line":153,"column":46}},"89":{"start":{"line":154,"column":4},"end":{"line":154,"column":27}},"90":{"start":{"line":155,"column":4},"end":{"line":169,"column":5}},"91":{"start":{"line":156,"column":8},"end":{"line":168,"column":9}},"92":{"start":{"line":158,"column":16},"end":{"line":162,"column":17}},"93":{"start":{"line":159,"column":20},"end":{"line":159,"column":106}},"94":{"start":{"line":161,"column":20},"end":{"line":161,"column":110}},"95":{"start":{"line":163,"column":16},"end":{"line":163,"column":22}},"96":{"start":{"line":166,"column":16},"end":{"line":166,"column":104}},"97":{"start":{"line":167,"column":16},"end":{"line":167,"column":22}},"98":{"start":{"line":170,"column":4},"end":{"line":170,"column":62}},"99":{"start":{"line":178,"column":0},"end":{"line":203,"column":1}},"100":{"start":{"line":179,"column":4},"end":{"line":179,"column":66}},"101":{"start":{"line":179,"column":48},"end":{"line":179,"column":66}},"102":{"start":{"line":180,"column":4},"end":{"line":180,"column":108}},"103":{"start":{"line":182,"column":4},"end":{"line":184,"column":5}},"104":{"start":{"line":183,"column":8},"end":{"line":183,"column":52}},"105":{"start":{"line":186,"column":4},"end":{"line":196,"column":5}},"106":{"start":{"line":187,"column":8},"end":{"line":191,"column":9}},"107":{"start":{"line":188,"column":12},"end":{"line":188,"column":54}},"108":{"start":{"line":190,"column":12},"end":{"line":190,"column":86}},"109":{"start":{"line":193,"column":8},"end":{"line":193,"column":71}},"110":{"start":{"line":194,"column":8},"end":{"line":194,"column":66}},"111":{"start":{"line":195,"column":8},"end":{"line":195,"column":125}},"112":{"start":{"line":195,"column":58},"end":{"line":195,"column":125}},"113":{"start":{"line":198,"column":4},"end":{"line":201,"column":5}},"114":{"start":{"line":199,"column":8},"end":{"line":199,"column":115}},"115":{"start":{"line":200,"column":8},"end":{"line":200,"column":54}},"116":{"start":{"line":202,"column":4},"end":{"line":202,"column":22}},"117":{"start":{"line":213,"column":0},"end":{"line":292,"column":1}},"118":{"start":{"line":214,"column":4},"end":{"line":214,"column":18}},"119":{"start":{"line":215,"column":4},"end":{"line":215,"column":20}},"120":{"start":{"line":216,"column":4},"end":{"line":216,"column":77}},"121":{"start":{"line":216,"column":32},"end":{"line":216,"column":77}},"122":{"start":{"line":218,"column":4},"end":{"line":218,"column":83}},"123":{"start":{"line":218,"column":30},"end":{"line":218,"column":83}},"124":{"start":{"line":219,"column":4},"end":{"line":264,"column":5}},"125":{"start":{"line":220,"column":8},"end":{"line":263,"column":13}},"126":{"start":{"line":221,"column":12},"end":{"line":221,"column":47}},"127":{"start":{"line":222,"column":12},"end":{"line":222,"column":32}},"128":{"start":{"line":223,"column":12},"end":{"line":223,"column":48}},"129":{"start":{"line":223,"column":36},"end":{"line":223,"column":48}},"130":{"start":{"line":224,"column":12},"end":{"line":262,"column":13}},"131":{"start":{"line":226,"column":20},"end":{"line":226,"column":96}},"132":{"start":{"line":227,"column":20},"end":{"line":227,"column":41}},"133":{"start":{"line":228,"column":20},"end":{"line":228,"column":26}},"134":{"start":{"line":230,"column":20},"end":{"line":230,"column":26}},"135":{"start":{"line":232,"column":20},"end":{"line":232,"column":49}},"136":{"start":{"line":233,"column":20},"end":{"line":233,"column":26}},"137":{"start":{"line":235,"column":20},"end":{"line":235,"column":26}},"138":{"start":{"line":237,"column":20},"end":{"line":238,"column":64}},"139":{"start":{"line":237,"column":27},"end":{"line":237,"column":39}},"140":{"start":{"line":238,"column":25},"end":{"line":238,"column":64}},"141":{"start":{"line":239,"column":20},"end":{"line":239,"column":44}},"142":{"start":{"line":240,"column":20},"end":{"line":260,"column":21}},"143":{"start":{"line":241,"column":24},"end":{"line":241,"column":37}},"144":{"start":{"line":242,"column":24},"end":{"line":252,"column":30}},"145":{"start":{"line":243,"column":28},"end":{"line":243,"column":48}},"146":{"start":{"line":244,"column":28},"end":{"line":244,"column":107}},"147":{"start":{"line":245,"column":28},"end":{"line":250,"column":29}},"148":{"start":{"line":246,"column":32},"end":{"line":249,"column":35}},"149":{"start":{"line":247,"column":36},"end":{"line":247,"column":67}},"150":{"start":{"line":248,"column":36},"end":{"line":248,"column":112}},"151":{"start":{"line":251,"column":28},"end":{"line":251,"column":73}},"152":{"start":{"line":251,"column":52},"end":{"line":251,"column":73}},"153":{"start":{"line":254,"column":24},"end":{"line":259,"column":25}},"154":{"start":{"line":255,"column":28},"end":{"line":255,"column":107}},"155":{"start":{"line":256,"column":28},"end":{"line":256,"column":85}},"156":{"start":{"line":256,"column":64},"end":{"line":256,"column":85}},"157":{"start":{"line":258,"column":28},"end":{"line":258,"column":83}},"158":{"start":{"line":265,"column":4},"end":{"line":290,"column":5}},"159":{"start":{"line":266,"column":8},"end":{"line":266,"column":23}},"160":{"start":{"line":267,"column":8},"end":{"line":278,"column":9}},"161":{"start":{"line":268,"column":12},"end":{"line":268,"column":49}},"162":{"start":{"line":269,"column":12},"end":{"line":277,"column":13}},"163":{"start":{"line":270,"column":16},"end":{"line":270,"column":58}},"164":{"start":{"line":271,"column":16},"end":{"line":271,"column":66}},"165":{"start":{"line":271,"column":36},"end":{"line":271,"column":66}},"166":{"start":{"line":273,"column":16},"end":{"line":276,"column":17}},"167":{"start":{"line":274,"column":20},"end":{"line":274,"column":36}},"168":{"start":{"line":275,"column":20},"end":{"line":275,"column":81}},"169":{"start":{"line":279,"column":8},"end":{"line":289,"column":9}},"170":{"start":{"line":280,"column":12},"end":{"line":280,"column":76}},"171":{"start":{"line":281,"column":12},"end":{"line":283,"column":15}},"172":{"start":{"line":284,"column":12},"end":{"line":284,"column":123}},"173":{"start":{"line":284,"column":66},"end":{"line":284,"column":123}},"174":{"start":{"line":286,"column":12},"end":{"line":288,"column":15}},"175":{"start":{"line":291,"column":4},"end":{"line":291,"column":16}},"176":{"start":{"line":294,"column":0},"end":{"line":304,"column":1}},"177":{"start":{"line":295,"column":4},"end":{"line":295,"column":24}},"178":{"start":{"line":296,"column":4},"end":{"line":301,"column":5}},"179":{"start":{"line":297,"column":8},"end":{"line":300,"column":9}},"180":{"start":{"line":298,"column":12},"end":{"line":298,"column":37}},"181":{"start":{"line":299,"column":12},"end":{"line":299,"column":77}},"182":{"start":{"line":302,"column":4},"end":{"line":303,"column":19}},"183":{"start":{"line":302,"column":39},"end":{"line":302,"column":57}},"184":{"start":{"line":303,"column":9},"end":{"line":303,"column":19}},"185":{"start":{"line":314,"column":0},"end":{"line":338,"column":1}},"186":{"start":{"line":316,"column":4},"end":{"line":316,"column":22}},"187":{"start":{"line":316,"column":14},"end":{"line":316,"column":22}},"188":{"start":{"line":317,"column":4},"end":{"line":317,"column":41}},"189":{"start":{"line":319,"column":4},"end":{"line":319,"column":37}},"190":{"start":{"line":320,"column":4},"end":{"line":320,"column":28}},"191":{"start":{"line":320,"column":13},"end":{"line":320,"column":28}},"192":{"start":{"line":321,"column":4},"end":{"line":337,"column":5}},"193":{"start":{"line":322,"column":8},"end":{"line":333,"column":9}},"194":{"start":{"line":323,"column":12},"end":{"line":323,"column":45}},"195":{"start":{"line":324,"column":12},"end":{"line":324,"column":52}},"196":{"start":{"line":326,"column":12},"end":{"line":326,"column":33}},"197":{"start":{"line":327,"column":12},"end":{"line":330,"column":13}},"198":{"start":{"line":328,"column":16},"end":{"line":328,"column":40}},"199":{"start":{"line":329,"column":16},"end":{"line":329,"column":67}},"200":{"start":{"line":331,"column":12},"end":{"line":331,"column":66}},"201":{"start":{"line":331,"column":37},"end":{"line":331,"column":66}},"202":{"start":{"line":332,"column":12},"end":{"line":332,"column":31}},"203":{"start":{"line":335,"column":8},"end":{"line":335,"column":26}},"204":{"start":{"line":336,"column":8},"end":{"line":336,"column":48}},"205":{"start":{"line":345,"column":0},"end":{"line":365,"column":1}},"206":{"start":{"line":346,"column":4},"end":{"line":346,"column":15}},"207":{"start":{"line":347,"column":4},"end":{"line":361,"column":5}},"208":{"start":{"line":348,"column":8},"end":{"line":348,"column":41}},"209":{"start":{"line":351,"column":8},"end":{"line":360,"column":9}},"210":{"start":{"line":354,"column":16},"end":{"line":354,"column":36}},"211":{"start":{"line":355,"column":16},"end":{"line":355,"column":22}},"212":{"start":{"line":358,"column":16},"end":{"line":358,"column":36}},"213":{"start":{"line":359,"column":16},"end":{"line":359,"column":22}},"214":{"start":{"line":363,"column":4},"end":{"line":363,"column":37}},"215":{"start":{"line":363,"column":14},"end":{"line":363,"column":37}},"216":{"start":{"line":364,"column":4},"end":{"line":364,"column":18}},"217":{"start":{"line":374,"column":0},"end":{"line":388,"column":1}},"218":{"start":{"line":375,"column":4},"end":{"line":375,"column":32}},"219":{"start":{"line":376,"column":4},"end":{"line":376,"column":24}},"220":{"start":{"line":376,"column":16},"end":{"line":376,"column":24}},"221":{"start":{"line":377,"column":4},"end":{"line":377,"column":49}},"222":{"start":{"line":378,"column":4},"end":{"line":386,"column":5}},"223":{"start":{"line":379,"column":8},"end":{"line":379,"column":47}},"224":{"start":{"line":380,"column":8},"end":{"line":380,"column":63}},"225":{"start":{"line":380,"column":41},"end":{"line":380,"column":63}},"226":{"start":{"line":382,"column":8},"end":{"line":382,"column":29}},"227":{"start":{"line":383,"column":8},"end":{"line":384,"column":33}},"228":{"start":{"line":384,"column":12},"end":{"line":384,"column":33}},"229":{"start":{"line":385,"column":8},"end":{"line":385,"column":19}},"230":{"start":{"line":390,"column":0},"end":{"line":423,"column":1}},"231":{"start":{"line":391,"column":4},"end":{"line":391,"column":20}},"232":{"start":{"line":392,"column":4},"end":{"line":392,"column":22}},"233":{"start":{"line":393,"column":4},"end":{"line":393,"column":56}},"234":{"start":{"line":394,"column":4},"end":{"line":394,"column":25}},"235":{"start":{"line":395,"column":4},"end":{"line":395,"column":64}},"236":{"start":{"line":395,"column":48},"end":{"line":395,"column":64}},"237":{"start":{"line":396,"column":4},"end":{"line":413,"column":5}},"238":{"start":{"line":397,"column":8},"end":{"line":400,"column":9}},"239":{"start":{"line":398,"column":12},"end":{"line":398,"column":122}},"240":{"start":{"line":399,"column":12},"end":{"line":399,"column":27}},"241":{"start":{"line":401,"column":8},"end":{"line":409,"column":9}},"242":{"start":{"line":402,"column":12},"end":{"line":408,"column":13}},"243":{"start":{"line":403,"column":16},"end":{"line":403,"column":77}},"244":{"start":{"line":404,"column":16},"end":{"line":407,"column":17}},"245":{"start":{"line":405,"column":20},"end":{"line":405,"column":97}},"246":{"start":{"line":406,"column":20},"end":{"line":406,"column":35}},"247":{"start":{"line":406,"column":35},"end":{"line":406,"column":41}},"248":{"start":{"line":411,"column":8},"end":{"line":411,"column":90}},"249":{"start":{"line":412,"column":8},"end":{"line":412,"column":39}},"250":{"start":{"line":412,"column":26},"end":{"line":412,"column":39}},"251":{"start":{"line":414,"column":4},"end":{"line":421,"column":5}},"252":{"start":{"line":415,"column":8},"end":{"line":415,"column":47}},"253":{"start":{"line":416,"column":8},"end":{"line":416,"column":65}},"254":{"start":{"line":416,"column":37},"end":{"line":416,"column":65}},"255":{"start":{"line":417,"column":8},"end":{"line":420,"column":9}},"256":{"start":{"line":418,"column":12},"end":{"line":418,"column":74}},"257":{"start":{"line":419,"column":12},"end":{"line":419,"column":28}},"258":{"start":{"line":422,"column":4},"end":{"line":422,"column":18}},"259":{"start":{"line":425,"column":0},"end":{"line":425,"column":27}}},"branchMap":{"1":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":23,"column":4}},{"start":{"line":23,"column":4},"end":{"line":23,"column":4}}]},"2":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":12},"end":{"line":36,"column":12}},{"start":{"line":36,"column":12},"end":{"line":36,"column":12}}]},"3":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":4},"end":{"line":50,"column":4}},{"start":{"line":50,"column":4},"end":{"line":50,"column":4}}]},"4":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":4}},{"start":{"line":52,"column":4},"end":{"line":52,"column":4}}]},"5":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":8}},{"start":{"line":66,"column":8},"end":{"line":66,"column":8}}]},"6":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":68,"column":8}},{"start":{"line":68,"column":8},"end":{"line":68,"column":8}}]},"7":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":13},"end":{"line":68,"column":33}},{"start":{"line":68,"column":35},"end":{"line":68,"column":64}},{"start":{"line":68,"column":66},"end":{"line":68,"column":90}}]},"8":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":16},"end":{"line":71,"column":16}},{"start":{"line":71,"column":16},"end":{"line":71,"column":16}}]},"9":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":4},"end":{"line":89,"column":4}},{"start":{"line":89,"column":4},"end":{"line":89,"column":4}}]},"10":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":7},"end":{"line":89,"column":13}},{"start":{"line":89,"column":17},"end":{"line":89,"column":72}}]},"11":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":12},"end":{"line":94,"column":12}},{"start":{"line":94,"column":12},"end":{"line":94,"column":12}}]},"12":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":8}},{"start":{"line":114,"column":8},"end":{"line":114,"column":8}}]},"13":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":12},"end":{"line":117,"column":12}},{"start":{"line":117,"column":12},"end":{"line":117,"column":12}}]},"14":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":12},"end":{"line":118,"column":12}},{"start":{"line":118,"column":12},"end":{"line":118,"column":12}}]},"15":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":12},"end":{"line":119,"column":12}},{"start":{"line":119,"column":12},"end":{"line":119,"column":12}}]},"16":{"line":119,"type":"binary-expr","locations":[{"start":{"line":119,"column":15},"end":{"line":119,"column":43}},{"start":{"line":119,"column":45},"end":{"line":119,"column":82}}]},"17":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":20},"end":{"line":126,"column":20}},{"start":{"line":126,"column":20},"end":{"line":126,"column":20}}]},"18":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":23},"end":{"line":126,"column":27}},{"start":{"line":126,"column":29},"end":{"line":126,"column":44}}]},"19":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":20},"end":{"line":127,"column":20}},{"start":{"line":127,"column":20},"end":{"line":127,"column":20}}]},"20":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":8},"end":{"line":136,"column":8}},{"start":{"line":136,"column":8},"end":{"line":136,"column":8}}]},"21":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":4},"end":{"line":153,"column":4}},{"start":{"line":153,"column":4},"end":{"line":153,"column":4}}]},"22":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":4},"end":{"line":155,"column":4}},{"start":{"line":155,"column":4},"end":{"line":155,"column":4}}]},"23":{"line":156,"type":"switch","locations":[{"start":{"line":157,"column":12},"end":{"line":163,"column":22}},{"start":{"line":164,"column":12},"end":{"line":164,"column":23}},{"start":{"line":165,"column":12},"end":{"line":167,"column":22}}]},"24":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":16},"end":{"line":158,"column":16}},{"start":{"line":158,"column":16},"end":{"line":158,"column":16}}]},"25":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":4},"end":{"line":179,"column":4}},{"start":{"line":179,"column":4},"end":{"line":179,"column":4}}]},"26":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":4},"end":{"line":182,"column":4}},{"start":{"line":182,"column":4},"end":{"line":182,"column":4}}]},"27":{"line":182,"type":"binary-expr","locations":[{"start":{"line":182,"column":7},"end":{"line":182,"column":42}},{"start":{"line":182,"column":44},"end":{"line":182,"column":64}}]},"28":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":4},"end":{"line":186,"column":4}},{"start":{"line":186,"column":4},"end":{"line":186,"column":4}}]},"29":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":8},"end":{"line":187,"column":8}},{"start":{"line":187,"column":8},"end":{"line":187,"column":8}}]},"30":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":8},"end":{"line":195,"column":8}},{"start":{"line":195,"column":8},"end":{"line":195,"column":8}}]},"31":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":4},"end":{"line":198,"column":4}},{"start":{"line":198,"column":4},"end":{"line":198,"column":4}}]},"32":{"line":198,"type":"binary-expr","locations":[{"start":{"line":198,"column":7},"end":{"line":198,"column":27}},{"start":{"line":198,"column":29},"end":{"line":198,"column":59}}]},"33":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":4},"end":{"line":216,"column":4}},{"start":{"line":216,"column":4},"end":{"line":216,"column":4}}]},"34":{"line":218,"type":"if","locations":[{"start":{"line":218,"column":4},"end":{"line":218,"column":4}},{"start":{"line":218,"column":4},"end":{"line":218,"column":4}}]},"35":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":8},"end":{"line":220,"column":8}},{"start":{"line":220,"column":8},"end":{"line":220,"column":8}}]},"36":{"line":223,"type":"if","locations":[{"start":{"line":223,"column":12},"end":{"line":223,"column":12}},{"start":{"line":223,"column":12},"end":{"line":223,"column":12}}]},"37":{"line":224,"type":"switch","locations":[{"start":{"line":225,"column":16},"end":{"line":228,"column":26}},{"start":{"line":229,"column":16},"end":{"line":230,"column":26}},{"start":{"line":231,"column":16},"end":{"line":233,"column":26}},{"start":{"line":234,"column":16},"end":{"line":235,"column":26}},{"start":{"line":236,"column":16},"end":{"line":260,"column":21}}]},"38":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":20},"end":{"line":237,"column":20}},{"start":{"line":237,"column":20},"end":{"line":237,"column":20}}]},"39":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":20},"end":{"line":240,"column":20}},{"start":{"line":240,"column":20},"end":{"line":240,"column":20}}]},"40":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":28},"end":{"line":245,"column":28}},{"start":{"line":245,"column":28},"end":{"line":245,"column":28}}]},"41":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":28},"end":{"line":251,"column":28}},{"start":{"line":251,"column":28},"end":{"line":251,"column":28}}]},"42":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":28},"end":{"line":256,"column":28}},{"start":{"line":256,"column":28},"end":{"line":256,"column":28}}]},"43":{"line":256,"type":"binary-expr","locations":[{"start":{"line":256,"column":31},"end":{"line":256,"column":41}},{"start":{"line":256,"column":43},"end":{"line":256,"column":63}}]},"44":{"line":265,"type":"if","locations":[{"start":{"line":265,"column":4},"end":{"line":265,"column":4}},{"start":{"line":265,"column":4},"end":{"line":265,"column":4}}]},"45":{"line":269,"type":"if","locations":[{"start":{"line":269,"column":12},"end":{"line":269,"column":12}},{"start":{"line":269,"column":12},"end":{"line":269,"column":12}}]},"46":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":16},"end":{"line":271,"column":16}},{"start":{"line":271,"column":16},"end":{"line":271,"column":16}}]},"47":{"line":273,"type":"if","locations":[{"start":{"line":273,"column":16},"end":{"line":273,"column":16}},{"start":{"line":273,"column":16},"end":{"line":273,"column":16}}]},"48":{"line":279,"type":"if","locations":[{"start":{"line":279,"column":8},"end":{"line":279,"column":8}},{"start":{"line":279,"column":8},"end":{"line":279,"column":8}}]},"49":{"line":284,"type":"if","locations":[{"start":{"line":284,"column":12},"end":{"line":284,"column":12}},{"start":{"line":284,"column":12},"end":{"line":284,"column":12}}]},"50":{"line":297,"type":"if","locations":[{"start":{"line":297,"column":8},"end":{"line":297,"column":8}},{"start":{"line":297,"column":8},"end":{"line":297,"column":8}}]},"51":{"line":302,"type":"if","locations":[{"start":{"line":302,"column":4},"end":{"line":302,"column":4}},{"start":{"line":302,"column":4},"end":{"line":302,"column":4}}]},"52":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":4},"end":{"line":316,"column":4}},{"start":{"line":316,"column":4},"end":{"line":316,"column":4}}]},"53":{"line":320,"type":"if","locations":[{"start":{"line":320,"column":4},"end":{"line":320,"column":4}},{"start":{"line":320,"column":4},"end":{"line":320,"column":4}}]},"54":{"line":321,"type":"if","locations":[{"start":{"line":321,"column":4},"end":{"line":321,"column":4}},{"start":{"line":321,"column":4},"end":{"line":321,"column":4}}]},"55":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":8},"end":{"line":322,"column":8}},{"start":{"line":322,"column":8},"end":{"line":322,"column":8}}]},"56":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":12},"end":{"line":331,"column":12}},{"start":{"line":331,"column":12},"end":{"line":331,"column":12}}]},"57":{"line":347,"type":"if","locations":[{"start":{"line":347,"column":4},"end":{"line":347,"column":4}},{"start":{"line":347,"column":4},"end":{"line":347,"column":4}}]},"58":{"line":351,"type":"switch","locations":[{"start":{"line":352,"column":12},"end":{"line":352,"column":24}},{"start":{"line":353,"column":12},"end":{"line":355,"column":22}},{"start":{"line":356,"column":12},"end":{"line":356,"column":24}},{"start":{"line":357,"column":12},"end":{"line":359,"column":22}}]},"59":{"line":363,"type":"if","locations":[{"start":{"line":363,"column":4},"end":{"line":363,"column":4}},{"start":{"line":363,"column":4},"end":{"line":363,"column":4}}]},"60":{"line":376,"type":"if","locations":[{"start":{"line":376,"column":4},"end":{"line":376,"column":4}},{"start":{"line":376,"column":4},"end":{"line":376,"column":4}}]},"61":{"line":378,"type":"if","locations":[{"start":{"line":378,"column":4},"end":{"line":378,"column":4}},{"start":{"line":378,"column":4},"end":{"line":378,"column":4}}]},"62":{"line":380,"type":"if","locations":[{"start":{"line":380,"column":8},"end":{"line":380,"column":8}},{"start":{"line":380,"column":8},"end":{"line":380,"column":8}}]},"63":{"line":380,"type":"binary-expr","locations":[{"start":{"line":380,"column":11},"end":{"line":380,"column":18}},{"start":{"line":380,"column":20},"end":{"line":380,"column":40}}]},"64":{"line":395,"type":"if","locations":[{"start":{"line":395,"column":4},"end":{"line":395,"column":4}},{"start":{"line":395,"column":4},"end":{"line":395,"column":4}}]},"65":{"line":396,"type":"if","locations":[{"start":{"line":396,"column":4},"end":{"line":396,"column":4}},{"start":{"line":396,"column":4},"end":{"line":396,"column":4}}]},"66":{"line":397,"type":"if","locations":[{"start":{"line":397,"column":8},"end":{"line":397,"column":8}},{"start":{"line":397,"column":8},"end":{"line":397,"column":8}}]},"67":{"line":401,"type":"if","locations":[{"start":{"line":401,"column":8},"end":{"line":401,"column":8}},{"start":{"line":401,"column":8},"end":{"line":401,"column":8}}]},"68":{"line":404,"type":"if","locations":[{"start":{"line":404,"column":16},"end":{"line":404,"column":16}},{"start":{"line":404,"column":16},"end":{"line":404,"column":16}}]},"69":{"line":412,"type":"if","locations":[{"start":{"line":412,"column":8},"end":{"line":412,"column":8}},{"start":{"line":412,"column":8},"end":{"line":412,"column":8}}]},"70":{"line":414,"type":"if","locations":[{"start":{"line":414,"column":4},"end":{"line":414,"column":4}},{"start":{"line":414,"column":4},"end":{"line":414,"column":4}}]},"71":{"line":415,"type":"cond-expr","locations":[{"start":{"line":415,"column":43},"end":{"line":415,"column":45}},{"start":{"line":415,"column":46},"end":{"line":415,"column":47}}]},"72":{"line":416,"type":"if","locations":[{"start":{"line":416,"column":8},"end":{"line":416,"column":8}},{"start":{"line":416,"column":8},"end":{"line":416,"column":8}}]},"73":{"line":417,"type":"if","locations":[{"start":{"line":417,"column":8},"end":{"line":417,"column":8}},{"start":{"line":417,"column":8},"end":{"line":417,"column":8}}]}},"code":["/**"," * Created by james on 13-11-22."," * extract middleware"," */","/**"," * extract link"," * @param crawl_info"," */","var cheerio = require('cheerio')","var util = require('util');","var url =  require(\"url\");","var querystring = require('querystring');","require('../lib/jsextend.js');","","var extractor = function(spiderCore){","    this.spiderCore = spiderCore;","    logger = spiderCore.settings.logger;","    this.cumulative_failure = 0;","}","","////report to spidercore standby////////////////////////","extractor.prototype.assembly = function(callback){","    if(callback)callback(null,'done');","}","","/**"," * According rules extracting all links from html string"," * @param content"," * @param rules"," * @returns {Array}"," */","extractor.prototype.extract_link = function($,rules){","    var links = [];","    for(var i=0;i<rules.length;i++){","        $(rules[i]).each(function(i, elem) {","            if(elem['name']=='img')links.push($(this).attr('src'));","\t    else links.push($(this).attr('href'));","        });","    }","    return links;","}","/**"," * get top level domain"," * www.baidu.com -> baidu.com"," * @param domain"," * @returns string"," * @private"," */","extractor.prototype.__getTopLevelDomain = function(domain){","    if(!domain)return null;","    var arr = domain.split('.');","    if(arr.length<=2)return domain;","    else return arr.slice(1).join('.');","}","","/**"," * url resolv"," * @param pageurl"," * @param links"," * @returns {Array}"," */","extractor.prototype.wash_link = function(pageurl,links){","    //url resolve","    var cleaned_link = [];","    for(var i=0;i<links.length;i++){","        if(!links[i])continue;","        var link = links[i].trim();","        if(!(link.startsWith('#')||link.startsWith('javascript')||link.startsWith('void('))){","            try{","                var the_url = url.resolve(pageurl,link);","                if(the_url!=pageurl)cleaned_link.push(the_url);","            }catch(e){","                logger.error('Url resolve error: '+pageurl+', '+link);","            }","","        }","    }","    return arrayUnique(cleaned_link);","}","/**"," * detect link which drill rule matched"," * @param link"," * @returns [alias name,alias]"," */","extractor.prototype.detectLink = function(link){","    var urlobj = url.parse(link);","    var result = [];","    var domain = this.__getTopLevelDomain(urlobj['hostname']);","    if(domain && this.spiderCore.spider.driller_rules[domain]!=undefined){","        var alias = this.spiderCore.spider.driller_rules[domain];","        for(a in alias){","            var url_pattern  = decodeURIComponent(alias[a]['url_pattern']);","            var patt = new RegExp(url_pattern);","            if(patt.test(link)){","                result = ['driller:'+domain+':'+a,alias[a]];","                break;","            }","        }","","    }","    return result;","}","","/**"," * arrange link array."," * @param links"," * @returns {{}}"," */","extractor.prototype.arrange_link = function(links){","    var linkobj = {};","    for(var i=0;i<links.length;i++){","        var link = links[i];","        var matched_driller = this.detectLink(link);","        if(matched_driller.length>0){","            var driller_lib = 'urllib:' + matched_driller[0];","            var driller_rule = matched_driller[1];","            if(typeof(driller_rule)!='object')driller_rule = JSON.parse(driller_rule);","            if(linkobj[driller_lib]==undefined)linkobj[driller_lib]=[];","            if(driller_rule['id_parameter']&&driller_rule['id_parameter'].length>0){","                var id_parameter = driller_rule['id_parameter'];","                var urlobj = url.parse(link);","                var parameters = querystring.parse(urlobj.query);","                var new_parameters = {};","                for(var x=0;x<id_parameter.length;x++){","                    var param_name = id_parameter[x];","                    if(x==0&&param_name=='#')break;","                    if(parameters.hasOwnProperty(param_name))new_parameters[param_name] = parameters[param_name];","                }","                urlobj.search = querystring.stringify(new_parameters);","                link = url.format(urlobj);","            }","            linkobj[driller_lib].push(link);","        }","    }","    for(var i in linkobj){","        if(linkobj.hasOwnProperty(i)){","            linkobj[i] = arrayUnique(linkobj[i]);","        }","    }","    return linkobj;","}","","","/**"," * generate drill relation string: page->sub page->sub page"," * @param crawl_info"," * @returns string"," */","extractor.prototype.getDrillRelation = function($,crawl_info){","    //var rule = crawl_info['origin']['drill_relation_rule'];//rule: {\"base\":\"content\",\"mode\":\"css\",\"expression\":\"#breadCrumb\",\"pick\":\"innerText\",\"index\":1}","    var rule = this.spiderCore.spider.getDrillerRule(crawl_info['origin']['urllib'],'drill_relation');","    var origin_relation = crawl_info['origin']['drill_relation'];","    if(!origin_relation)origin_relation = '*';","    var new_relation = '*';","    if(rule){","        switch(rule['mode']){","            case 'regex':","                if(rule['base']==='url'){","                    new_relation = this.regexSelector(crawl_info['url'],rule['expression'],rule['index']);","                }else{","                    new_relation = this.regexSelector(crawl_info['content'],rule['expression'],rule['index']);","                }","                break;","            case 'css':","            default:","                new_relation = this.cssSelector($.root(),rule['expression'],rule['pick'],rule['index']);","                break;","        }","    }","    return util.format('%s->%s',origin_relation,new_relation);","}","","/**"," * extractor: for now , just extract links"," * @param crawl_info"," * @returns {*}"," */","extractor.prototype.extract = function(crawl_info){","    if(crawl_info['origin']['format']=='binary')return crawl_info;","    var extract_rule = this.spiderCore.spider.getDrillerRule(crawl_info['origin']['urllib'],'extract_rule');","","    if(crawl_info['origin']['drill_rules']||extract_rule['rule']){","        var $ = cheerio.load(crawl_info['content']);","    }","","    if(crawl_info['origin']['drill_rules']){","        if(crawl_info['drill_link']){","            var drill_link = crawl_info['drill_link'];","        }else{","            var drill_link = this.extract_link($,crawl_info['origin']['drill_rules']);","        }","","        var washed_link = this.wash_link(crawl_info['url'],drill_link);","        crawl_info['drill_link'] = this.arrange_link(washed_link);","        if(this.spiderCore.settings['keep_link_relation'])crawl_info['drill_relation'] = this.getDrillRelation($,crawl_info);","    }","","    if(extract_rule['rule']&&!isEmpty(extract_rule['rule'])){","        var extracted_data = this.extract_data(crawl_info['url'],crawl_info['content'],extract_rule,null,$.root());","        crawl_info['extracted_data'] = extracted_data;","    }","    return crawl_info;","}","/**"," * extract data"," * @param url"," * @param content"," * @param extract_rule"," * @param uppper_data"," * @param dom"," * @returns {{}}"," */","extractor.prototype.extract_data = function(url,content,extract_rule,uppper_data,dom){","    var data = {};","    var self = this;","    if(extract_rule['category'])data['$category'] = extract_rule['category'];","//    if(extract_rule['require'])data['$require'] = extract_rule['require'];","    if(extract_rule['relate'])data['relate'] = uppper_data[extract_rule['relate']];","    for(i in extract_rule['rule']){","        if(extract_rule['rule'].hasOwnProperty(i)){","            var rule = extract_rule['rule'][i];","            var baser = content;","            if(rule['base']==='url')baser = url;","            switch(rule['mode']){","                case 'regex':","                    var tmp_result = this.regexSelector(baser,rule['expression'],rule['index']);","                    data[i] = tmp_result;","                    break;","                case 'xpath':","                    break;","                case 'value':","                    data[i] = rule['expression'];","                    break;","                case 'json':","                    break;","                default://css selector","                    if(dom)baser = dom;","                    else baser = (cheerio.load(content)).root();","                    var pick = rule['pick'];","                    if(rule['subset']){","                        pick = false;","                        (function(k){","                            var result_arr = [];","                            var tmp_result = self.cssSelector(baser,rule['expression'],pick,rule['index']);","                            if(tmp_result){","                                tmp_result.each(function(x, elem) {","                                    var sub_dom = tmp_result.eq(x);","                                    result_arr.push(self.extract_data(url,content,rule['subset'],data,sub_dom));","                                });","                            }","                            if(!isEmpty(result_arr))data[k] = result_arr;","                        })(i);","                    }else{","                        try{","                            var tmp_result = this.cssSelector(baser,rule['expression'],pick,rule['index']);","                            if(tmp_result&&!isEmpty(tmp_result))data[i] = tmp_result;","                        } catch(e){","                            logger.error(url + ' extract field '+ i + ' error:'+e);","                        }","                    }","","            }","            }","    }","    if(extract_rule['require']){","        var lacks = [];","        for(var c=0;c<extract_rule['require'].length;c++){","            var key = extract_rule['require'][c];","            if(typeof(key)==='object'){","                var sublack = self.checksublack(key,data);","                if(sublack.length>0)lacks = lacks.concat(sublack);","            }else{","                if(!data[key]){","                    lacks.push(key);","                    logger.warn(key + ' not found in '+ url + ' extracted data');","                }","            }","        }","        if(!isEmpty(lacks)){","            logger.error(url + ' extracted data lacks of '+lacks.join(','));","            self.spiderCore.spider.redis_cli2.zadd('incomplete:data:url',(new Date()).getTime(),url,function(err,result){","                //nothing","            });","            if('data_lack_alert' in self.spiderCore.spider_extend)self.spiderCore.spider_extend.data_lack_alert(url,lacks);","        }else{","            self.spiderCore.spider.redis_cli2.zrem('incomplete:data:url',url,function(err,result){","                //nothing","            });","        }","    }","    return data;","}","//check sublack","extractor.prototype.checksublack = function(keys,data){","    var sublackarr = [];","    for(var x=0;x<keys.length;x++){","        if(!data[keys[x]]){","            sublackarr.push(keys[x]);","            logger.warn(keys[x] + ' not found in '+ url + ' extracted data');","        }","    }","    if(sublackarr.length===keys.length)return sublackarr;","    else return [];","}","","/**"," * extract value base expression"," * @param $"," * @param expression"," * @param pick"," * @param index"," * @returns {*}"," */","extractor.prototype.cssSelector = function($,expression,pick,index){","//    logger.debug('css expression: '+expression);","    if(!index)index=1;","    var real_index = parseInt(index) - 1;","    //if(real_index<0)real_index=0;","    var tmp_val = $.find(expression);","    if(!pick)return tmp_val;","    if(typeof(tmp_val)==='object'){","        if(real_index>=0){","            var val = tmp_val.eq(real_index);","            return this.cssSelectorPicker(val,pick);","        }else{","            var arrayResult = [];","            for(var i=0;i<tmp_val.length;i++){","                var val = tmp_val.eq(i);","                arrayResult.push(this.cssSelectorPicker(val,pick));","            }","            if(arrayResult.length==1)arrayResult = arrayResult[0];","            return arrayResult;","        }","    }else {","        var val = tmp_val;","        return this.cssSelectorPicker(val,pick);","    }","}","/**"," * pick value/attribute from element"," * @param val"," * @param pick"," * @returns {*}"," */","extractor.prototype.cssSelectorPicker = function(val,pick){","    var result;","    if(pick.startsWith('@')){","        result = val.attr(pick.slice(1));","    }","    else{","        switch(pick.toLowerCase()){","            case 'text':","            case 'innertext':","                result = val.text();","                break;","            case 'html':","            case 'innerhtml':","                result = val.html();","                break;","        }","    }","    //if(result)result = result.replace(/[\\r\\n\\t]/g, \"\").trim();","    if(result)result = result.trim();","    return result;","}","","/**"," * return matched group base expression"," * @param content"," * @param expression"," * @param index"," * @returns {*}"," */","extractor.prototype.regexSelector = function(content,expression,index){","    var index = parseInt(index);","    if(index==0)index=1;","    var expression = new RegExp(expression,\"ig\");","    if(index>0){","        var matched = expression.exec(content);","        if(matched&&matched.length>index)return matched[index];","    }else{","        var arr = [],matched;","        while (matched = expression.exec(content))","            arr.push(matched[1]);","        return arr;","    }","","}","","extractor.prototype.validateContent = function(crawl_info){","    var self = this;","    var result = true;","    var statusCode = parseInt(crawl_info['statusCode']);","    var limitation = 500;","    if(crawl_info['origin']['format']=='binary')limitation = 20;","    if(statusCode===200){","        if(crawl_info['content'].length<limitation){","            logger.error(util.format('Too little content: %s, length:%s',crawl_info['url'],crawl_info['content'].length));","            result = false;","        }","        if(crawl_info['origin']['validation_keywords']){","            for(var i =0;i<crawl_info['origin']['validation_keywords'].length;i++){","                var keyword = crawl_info['origin']['validation_keywords'][i];","                if(crawl_info['content'].indexOf(keyword)<0){","                    logger.error(util.format('%s lacked keyword: %s',crawl_info['url'],keyword));","                    result = false;break;","                }","            }","        }","    }else{","        logger.error(util.format('url:%s, status code: %s',crawl_info['url'],statusCode));","        if(statusCode>300)result=false;//30x,40x,50x","    }","    if(self.spiderCore.settings['to_much_fail_exit']){","        self.cumulative_failure +=  result?-1:1","        if(self.cumulative_failure<0)self.cumulative_failure = 0;","        if(self.cumulative_failure>self.spiderCore.settings['spider_concurrency']*1.5){","            logger.fatal('too much fail, exit. '+self.cumulative_failure);","            process.exit(1);","        }","    }","    return result;","}","","module.exports = extractor;",""],"l":{"9":1,"10":1,"11":1,"12":1,"13":1,"15":1,"16":0,"17":0,"18":0,"22":1,"23":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"40":0,"49":1,"50":0,"51":0,"52":0,"53":0,"62":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"73":0,"78":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"101":0,"109":1,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"129":0,"130":0,"132":0,"135":0,"136":0,"137":0,"140":0,"149":1,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"158":0,"159":0,"161":0,"163":0,"166":0,"167":0,"170":0,"178":1,"179":0,"180":0,"182":0,"183":0,"186":0,"187":0,"188":0,"190":0,"193":0,"194":0,"195":0,"198":0,"199":0,"200":0,"202":0,"213":1,"214":0,"215":0,"216":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"226":0,"227":0,"228":0,"230":0,"232":0,"233":0,"235":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"251":0,"254":0,"255":0,"256":0,"258":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"273":0,"274":0,"275":0,"279":0,"280":0,"281":0,"284":0,"286":0,"291":0,"294":1,"295":0,"296":0,"297":0,"298":0,"299":0,"302":0,"303":0,"314":1,"316":0,"317":0,"319":0,"320":0,"321":0,"322":0,"323":0,"324":0,"326":0,"327":0,"328":0,"329":0,"331":0,"332":0,"335":0,"336":0,"345":1,"346":0,"347":0,"348":0,"351":0,"354":0,"355":0,"358":0,"359":0,"363":0,"364":0,"374":1,"375":0,"376":0,"377":0,"378":0,"379":0,"380":0,"382":0,"383":0,"384":0,"385":0,"390":1,"391":0,"392":0,"393":0,"394":0,"395":0,"396":0,"397":0,"398":0,"399":0,"401":0,"402":0,"403":0,"404":0,"405":0,"406":0,"411":0,"412":0,"414":0,"415":0,"416":0,"417":0,"418":0,"419":0,"422":0,"425":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/spider/pipeline.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/spider/pipeline.js","s":{"1":2,"2":2,"3":2,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"352":0,"353":0,"354":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"363":0,"364":0,"365":0,"366":0,"367":0,"368":0,"369":0,"370":0,"371":0,"372":0,"373":0,"374":0,"375":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0],"97":[0,0],"98":[0,0],"99":[0,0],"100":[0,0],"101":[0,0],"102":[0,0],"103":[0,0],"104":[0,0],"105":[0,0],"106":[0,0],"107":[0,0],"108":[0,0],"109":[0,0],"110":[0,0],"111":[0,0],"112":[0,0],"113":[0,0],"114":[0,0],"115":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":35}}},"2":{"name":"(anonymous_2)","line":23,"loc":{"start":{"line":23,"column":30},"end":{"line":23,"column":48}}},"3":{"name":"(anonymous_3)","line":38,"loc":{"start":{"line":38,"column":27},"end":{"line":38,"column":52}}},"4":{"name":"(anonymous_4)","line":42,"loc":{"start":{"line":42,"column":27},"end":{"line":42,"column":40}}},"5":{"name":"(anonymous_5)","line":66,"loc":{"start":{"line":66,"column":32},"end":{"line":66,"column":91}}},"6":{"name":"(anonymous_6)","line":75,"loc":{"start":{"line":75,"column":8},"end":{"line":75,"column":20}}},"7":{"name":"(anonymous_7)","line":76,"loc":{"start":{"line":76,"column":8},"end":{"line":76,"column":22}}},"8":{"name":"(anonymous_8)","line":91,"loc":{"start":{"line":91,"column":16},"end":{"line":91,"column":28}}},"9":{"name":"(anonymous_9)","line":92,"loc":{"start":{"line":92,"column":16},"end":{"line":92,"column":31}}},"10":{"name":"(anonymous_10)","line":98,"loc":{"start":{"line":98,"column":24},"end":{"line":98,"column":37}}},"11":{"name":"(anonymous_11)","line":119,"loc":{"start":{"line":119,"column":24},"end":{"line":119,"column":49}}},"12":{"name":"(anonymous_12)","line":122,"loc":{"start":{"line":122,"column":55},"end":{"line":122,"column":75}}},"13":{"name":"(anonymous_13)","line":127,"loc":{"start":{"line":127,"column":24},"end":{"line":127,"column":63}}},"14":{"name":"(anonymous_14)","line":166,"loc":{"start":{"line":166,"column":65},"end":{"line":166,"column":86}}},"15":{"name":"(anonymous_15)","line":187,"loc":{"start":{"line":187,"column":60},"end":{"line":187,"column":80}}},"16":{"name":"(anonymous_16)","line":195,"loc":{"start":{"line":195,"column":24},"end":{"line":195,"column":57}}},"17":{"name":"(anonymous_17)","line":197,"loc":{"start":{"line":197,"column":66},"end":{"line":197,"column":86}}},"18":{"name":"(anonymous_18)","line":204,"loc":{"start":{"line":204,"column":23},"end":{"line":204,"column":46}}},"19":{"name":"(anonymous_19)","line":210,"loc":{"start":{"line":210,"column":16},"end":{"line":210,"column":31}}},"20":{"name":"(anonymous_20)","line":217,"loc":{"start":{"line":217,"column":8},"end":{"line":217,"column":23}}},"21":{"name":"(anonymous_21)","line":230,"loc":{"start":{"line":230,"column":34},"end":{"line":230,"column":123}}},"22":{"name":"(anonymous_22)","line":265,"loc":{"start":{"line":265,"column":28},"end":{"line":265,"column":46}}},"23":{"name":"(anonymous_23)","line":269,"loc":{"start":{"line":269,"column":80},"end":{"line":269,"column":100}}},"24":{"name":"(anonymous_24)","line":275,"loc":{"start":{"line":275,"column":70},"end":{"line":275,"column":89}}},"25":{"name":"(anonymous_25)","line":279,"loc":{"start":{"line":279,"column":88},"end":{"line":279,"column":108}}},"26":{"name":"(anonymous_26)","line":286,"loc":{"start":{"line":286,"column":65},"end":{"line":286,"column":85}}},"27":{"name":"(anonymous_27)","line":307,"loc":{"start":{"line":307,"column":40},"end":{"line":307,"column":129}}},"28":{"name":"(anonymous_28)","line":357,"loc":{"start":{"line":357,"column":34},"end":{"line":357,"column":55}}},"29":{"name":"(anonymous_29)","line":361,"loc":{"start":{"line":361,"column":84},"end":{"line":361,"column":104}}},"30":{"name":"(anonymous_30)","line":368,"loc":{"start":{"line":368,"column":61},"end":{"line":368,"column":81}}},"31":{"name":"(anonymous_31)","line":380,"loc":{"start":{"line":380,"column":76},"end":{"line":380,"column":96}}},"32":{"name":"(anonymous_32)","line":388,"loc":{"start":{"line":388,"column":33},"end":{"line":388,"column":97}}},"33":{"name":"(anonymous_33)","line":404,"loc":{"start":{"line":404,"column":28},"end":{"line":404,"column":46}}},"34":{"name":"(anonymous_34)","line":408,"loc":{"start":{"line":408,"column":80},"end":{"line":408,"column":100}}},"35":{"name":"(anonymous_35)","line":414,"loc":{"start":{"line":414,"column":46},"end":{"line":414,"column":65}}},"36":{"name":"(anonymous_36)","line":418,"loc":{"start":{"line":418,"column":88},"end":{"line":418,"column":108}}},"37":{"name":"(anonymous_37)","line":425,"loc":{"start":{"line":425,"column":65},"end":{"line":425,"column":85}}},"38":{"name":"(anonymous_38)","line":445,"loc":{"start":{"line":445,"column":39},"end":{"line":445,"column":103}}},"39":{"name":"(anonymous_39)","line":484,"loc":{"start":{"line":484,"column":34},"end":{"line":484,"column":55}}},"40":{"name":"(anonymous_40)","line":488,"loc":{"start":{"line":488,"column":84},"end":{"line":488,"column":104}}},"41":{"name":"(anonymous_41)","line":495,"loc":{"start":{"line":495,"column":61},"end":{"line":495,"column":81}}},"42":{"name":"(anonymous_42)","line":504,"loc":{"start":{"line":504,"column":76},"end":{"line":504,"column":96}}},"43":{"name":"(anonymous_43)","line":516,"loc":{"start":{"line":516,"column":25},"end":{"line":516,"column":58}}},"44":{"name":"(anonymous_44)","line":523,"loc":{"start":{"line":523,"column":67},"end":{"line":523,"column":80}}},"45":{"name":"(anonymous_45)","line":531,"loc":{"start":{"line":531,"column":68},"end":{"line":531,"column":83}}},"46":{"name":"(anonymous_46)","line":535,"loc":{"start":{"line":535,"column":78},"end":{"line":535,"column":91}}},"47":{"name":"(anonymous_47)","line":545,"loc":{"start":{"line":545,"column":16},"end":{"line":545,"column":28}}},"48":{"name":"(anonymous_48)","line":549,"loc":{"start":{"line":549,"column":16},"end":{"line":549,"column":28}}},"49":{"name":"(anonymous_49)","line":564,"loc":{"start":{"line":564,"column":32},"end":{"line":564,"column":47}}},"50":{"name":"(anonymous_50)","line":571,"loc":{"start":{"line":571,"column":16},"end":{"line":571,"column":28}}},"51":{"name":"(anonymous_51)","line":576,"loc":{"start":{"line":576,"column":12},"end":{"line":576,"column":34}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":50}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":34}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":23}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":29}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":30}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":27}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":41}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":30}},"12":{"start":{"line":17,"column":0},"end":{"line":20,"column":1}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":33}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":40}},"15":{"start":{"line":23,"column":0},"end":{"line":60,"column":1}},"16":{"start":{"line":24,"column":4},"end":{"line":24,"column":37}},"17":{"start":{"line":25,"column":4},"end":{"line":25,"column":32}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":94}},"19":{"start":{"line":26,"column":66},"end":{"line":26,"column":94}},"20":{"start":{"line":27,"column":4},"end":{"line":54,"column":5}},"21":{"start":{"line":28,"column":8},"end":{"line":53,"column":9}},"22":{"start":{"line":29,"column":12},"end":{"line":32,"column":15}},"23":{"start":{"line":33,"column":12},"end":{"line":33,"column":104}},"24":{"start":{"line":34,"column":12},"end":{"line":34,"column":112}},"25":{"start":{"line":36,"column":12},"end":{"line":49,"column":15}},"26":{"start":{"line":39,"column":20},"end":{"line":39,"column":63}},"27":{"start":{"line":40,"column":20},"end":{"line":40,"column":90}},"28":{"start":{"line":43,"column":20},"end":{"line":43,"column":64}},"29":{"start":{"line":44,"column":20},"end":{"line":44,"column":30}},"30":{"start":{"line":51,"column":12},"end":{"line":51,"column":79}},"31":{"start":{"line":52,"column":12},"end":{"line":52,"column":87}},"32":{"start":{"line":56,"column":4},"end":{"line":56,"column":51}},"33":{"start":{"line":57,"column":4},"end":{"line":57,"column":51}},"34":{"start":{"line":58,"column":4},"end":{"line":58,"column":51}},"35":{"start":{"line":59,"column":4},"end":{"line":59,"column":38}},"36":{"start":{"line":59,"column":16},"end":{"line":59,"column":38}},"37":{"start":{"line":66,"column":0},"end":{"line":222,"column":1}},"38":{"start":{"line":67,"column":4},"end":{"line":67,"column":37}},"39":{"start":{"line":68,"column":4},"end":{"line":68,"column":37}},"40":{"start":{"line":69,"column":4},"end":{"line":69,"column":37}},"41":{"start":{"line":70,"column":4},"end":{"line":70,"column":41}},"42":{"start":{"line":71,"column":4},"end":{"line":71,"column":22}},"43":{"start":{"line":72,"column":4},"end":{"line":72,"column":18}},"44":{"start":{"line":73,"column":4},"end":{"line":73,"column":49}},"45":{"start":{"line":73,"column":16},"end":{"line":73,"column":49}},"46":{"start":{"line":74,"column":4},"end":{"line":221,"column":6}},"47":{"start":{"line":75,"column":22},"end":{"line":75,"column":53}},"48":{"start":{"line":77,"column":12},"end":{"line":77,"column":40}},"49":{"start":{"line":78,"column":12},"end":{"line":78,"column":40}},"50":{"start":{"line":79,"column":12},"end":{"line":79,"column":47}},"51":{"start":{"line":80,"column":12},"end":{"line":80,"column":45}},"52":{"start":{"line":81,"column":12},"end":{"line":81,"column":40}},"53":{"start":{"line":82,"column":12},"end":{"line":85,"column":13}},"54":{"start":{"line":83,"column":16},"end":{"line":83,"column":60}},"55":{"start":{"line":84,"column":16},"end":{"line":84,"column":54}},"56":{"start":{"line":86,"column":12},"end":{"line":86,"column":87}},"57":{"start":{"line":87,"column":12},"end":{"line":87,"column":95}},"58":{"start":{"line":87,"column":49},"end":{"line":87,"column":95}},"59":{"start":{"line":89,"column":12},"end":{"line":89,"column":27}},"60":{"start":{"line":90,"column":12},"end":{"line":214,"column":14}},"61":{"start":{"line":91,"column":30},"end":{"line":91,"column":59}},"62":{"start":{"line":93,"column":20},"end":{"line":93,"column":45}},"63":{"start":{"line":94,"column":20},"end":{"line":94,"column":32}},"64":{"start":{"line":96,"column":20},"end":{"line":207,"column":23}},"65":{"start":{"line":99,"column":28},"end":{"line":99,"column":50}},"66":{"start":{"line":100,"column":28},"end":{"line":100,"column":61}},"67":{"start":{"line":101,"column":28},"end":{"line":115,"column":29}},"68":{"start":{"line":102,"column":32},"end":{"line":102,"column":83}},"69":{"start":{"line":103,"column":32},"end":{"line":103,"column":106}},"70":{"start":{"line":103,"column":66},"end":{"line":103,"column":106}},"71":{"start":{"line":104,"column":32},"end":{"line":114,"column":33}},"72":{"start":{"line":105,"column":36},"end":{"line":105,"column":85}},"73":{"start":{"line":106,"column":36},"end":{"line":106,"column":60}},"74":{"start":{"line":107,"column":36},"end":{"line":111,"column":37}},"75":{"start":{"line":108,"column":40},"end":{"line":108,"column":73}},"76":{"start":{"line":109,"column":40},"end":{"line":109,"column":71}},"77":{"start":{"line":109,"column":65},"end":{"line":109,"column":71}},"78":{"start":{"line":110,"column":40},"end":{"line":110,"column":133}},"79":{"start":{"line":110,"column":81},"end":{"line":110,"column":133}},"80":{"start":{"line":112,"column":36},"end":{"line":112,"column":90}},"81":{"start":{"line":113,"column":36},"end":{"line":113,"column":72}},"82":{"start":{"line":116,"column":28},"end":{"line":116,"column":56}},"83":{"start":{"line":120,"column":28},"end":{"line":120,"column":103}},"84":{"start":{"line":120,"column":48},"end":{"line":120,"column":103}},"85":{"start":{"line":121,"column":28},"end":{"line":121,"column":103}},"86":{"start":{"line":122,"column":28},"end":{"line":124,"column":31}},"87":{"start":{"line":123,"column":32},"end":{"line":123,"column":66}},"88":{"start":{"line":128,"column":28},"end":{"line":128,"column":48}},"89":{"start":{"line":129,"column":28},"end":{"line":192,"column":29}},"90":{"start":{"line":130,"column":32},"end":{"line":130,"column":62}},"91":{"start":{"line":131,"column":32},"end":{"line":131,"column":97}},"92":{"start":{"line":132,"column":32},"end":{"line":132,"column":68}},"93":{"start":{"line":133,"column":32},"end":{"line":133,"column":76}},"94":{"start":{"line":134,"column":32},"end":{"line":134,"column":58}},"95":{"start":{"line":136,"column":32},"end":{"line":154,"column":33}},"96":{"start":{"line":137,"column":36},"end":{"line":137,"column":98}},"97":{"start":{"line":138,"column":36},"end":{"line":140,"column":37}},"98":{"start":{"line":139,"column":40},"end":{"line":139,"column":67}},"99":{"start":{"line":141,"column":36},"end":{"line":143,"column":37}},"100":{"start":{"line":142,"column":40},"end":{"line":142,"column":72}},"101":{"start":{"line":144,"column":36},"end":{"line":147,"column":37}},"102":{"start":{"line":145,"column":40},"end":{"line":145,"column":58}},"103":{"start":{"line":146,"column":40},"end":{"line":146,"column":105}},"104":{"start":{"line":148,"column":36},"end":{"line":153,"column":37}},"105":{"start":{"line":149,"column":40},"end":{"line":149,"column":133}},"106":{"start":{"line":150,"column":40},"end":{"line":150,"column":57}},"107":{"start":{"line":152,"column":40},"end":{"line":152,"column":96}},"108":{"start":{"line":156,"column":32},"end":{"line":156,"column":99}},"109":{"start":{"line":157,"column":32},"end":{"line":157,"column":45}},"110":{"start":{"line":158,"column":32},"end":{"line":158,"column":66}},"111":{"start":{"line":158,"column":44},"end":{"line":158,"column":66}},"112":{"start":{"line":159,"column":32},"end":{"line":164,"column":33}},"113":{"start":{"line":160,"column":36},"end":{"line":160,"column":61}},"114":{"start":{"line":161,"column":36},"end":{"line":161,"column":114}},"115":{"start":{"line":163,"column":36},"end":{"line":163,"column":101}},"116":{"start":{"line":165,"column":32},"end":{"line":171,"column":68}},"117":{"start":{"line":166,"column":36},"end":{"line":170,"column":39}},"118":{"start":{"line":167,"column":40},"end":{"line":167,"column":67}},"119":{"start":{"line":167,"column":48},"end":{"line":167,"column":66}},"120":{"start":{"line":168,"column":40},"end":{"line":168,"column":118}},"121":{"start":{"line":169,"column":40},"end":{"line":169,"column":69}},"122":{"start":{"line":171,"column":38},"end":{"line":171,"column":68}},"123":{"start":{"line":174,"column":32},"end":{"line":183,"column":33}},"124":{"start":{"line":184,"column":32},"end":{"line":186,"column":33}},"125":{"start":{"line":185,"column":36},"end":{"line":185,"column":93}},"126":{"start":{"line":187,"column":32},"end":{"line":191,"column":35}},"127":{"start":{"line":188,"column":36},"end":{"line":188,"column":56}},"128":{"start":{"line":188,"column":45},"end":{"line":188,"column":56}},"129":{"start":{"line":189,"column":36},"end":{"line":189,"column":88}},"130":{"start":{"line":190,"column":36},"end":{"line":190,"column":62}},"131":{"start":{"line":196,"column":28},"end":{"line":202,"column":51}},"132":{"start":{"line":197,"column":32},"end":{"line":201,"column":35}},"133":{"start":{"line":198,"column":36},"end":{"line":198,"column":54}},"134":{"start":{"line":198,"column":43},"end":{"line":198,"column":54}},"135":{"start":{"line":199,"column":36},"end":{"line":199,"column":89}},"136":{"start":{"line":200,"column":36},"end":{"line":200,"column":51}},"137":{"start":{"line":202,"column":34},"end":{"line":202,"column":51}},"138":{"start":{"line":205,"column":24},"end":{"line":205,"column":33}},"139":{"start":{"line":206,"column":24},"end":{"line":206,"column":33}},"140":{"start":{"line":211,"column":20},"end":{"line":211,"column":28}},"141":{"start":{"line":212,"column":20},"end":{"line":212,"column":28}},"142":{"start":{"line":218,"column":12},"end":{"line":218,"column":79}},"143":{"start":{"line":219,"column":12},"end":{"line":219,"column":44}},"144":{"start":{"line":219,"column":24},"end":{"line":219,"column":44}},"145":{"start":{"line":230,"column":0},"end":{"line":295,"column":1}},"146":{"start":{"line":231,"column":4},"end":{"line":231,"column":139}},"147":{"start":{"line":231,"column":27},"end":{"line":231,"column":139}},"148":{"start":{"line":233,"column":4},"end":{"line":233,"column":77}},"149":{"start":{"line":234,"column":4},"end":{"line":234,"column":47}},"150":{"start":{"line":235,"column":4},"end":{"line":235,"column":44}},"151":{"start":{"line":236,"column":4},"end":{"line":236,"column":20}},"152":{"start":{"line":238,"column":4},"end":{"line":238,"column":38}},"153":{"start":{"line":239,"column":4},"end":{"line":239,"column":37}},"154":{"start":{"line":240,"column":4},"end":{"line":240,"column":35}},"155":{"start":{"line":241,"column":4},"end":{"line":241,"column":39}},"156":{"start":{"line":242,"column":4},"end":{"line":242,"column":37}},"157":{"start":{"line":243,"column":4},"end":{"line":243,"column":65}},"158":{"start":{"line":245,"column":4},"end":{"line":247,"column":5}},"159":{"start":{"line":246,"column":8},"end":{"line":246,"column":43}},"160":{"start":{"line":249,"column":4},"end":{"line":251,"column":5}},"161":{"start":{"line":250,"column":8},"end":{"line":250,"column":57}},"162":{"start":{"line":253,"column":4},"end":{"line":259,"column":5}},"163":{"start":{"line":254,"column":8},"end":{"line":258,"column":9}},"164":{"start":{"line":255,"column":12},"end":{"line":257,"column":13}},"165":{"start":{"line":256,"column":16},"end":{"line":256,"column":122}},"166":{"start":{"line":261,"column":4},"end":{"line":263,"column":5}},"167":{"start":{"line":262,"column":8},"end":{"line":262,"column":45}},"168":{"start":{"line":265,"column":4},"end":{"line":294,"column":7}},"169":{"start":{"line":266,"column":8},"end":{"line":293,"column":9}},"170":{"start":{"line":267,"column":12},"end":{"line":267,"column":40}},"171":{"start":{"line":268,"column":12},"end":{"line":268,"column":67}},"172":{"start":{"line":269,"column":12},"end":{"line":273,"column":15}},"173":{"start":{"line":270,"column":16},"end":{"line":270,"column":33}},"174":{"start":{"line":270,"column":23},"end":{"line":270,"column":33}},"175":{"start":{"line":271,"column":16},"end":{"line":271,"column":67}},"176":{"start":{"line":272,"column":16},"end":{"line":272,"column":42}},"177":{"start":{"line":272,"column":28},"end":{"line":272,"column":42}},"178":{"start":{"line":275,"column":12},"end":{"line":292,"column":15}},"179":{"start":{"line":276,"column":16},"end":{"line":276,"column":44}},"180":{"start":{"line":277,"column":16},"end":{"line":291,"column":17}},"181":{"start":{"line":278,"column":20},"end":{"line":278,"column":79}},"182":{"start":{"line":279,"column":20},"end":{"line":283,"column":23}},"183":{"start":{"line":280,"column":24},"end":{"line":280,"column":41}},"184":{"start":{"line":280,"column":31},"end":{"line":280,"column":41}},"185":{"start":{"line":281,"column":24},"end":{"line":281,"column":75}},"186":{"start":{"line":282,"column":24},"end":{"line":282,"column":50}},"187":{"start":{"line":282,"column":36},"end":{"line":282,"column":50}},"188":{"start":{"line":285,"column":20},"end":{"line":285,"column":114}},"189":{"start":{"line":286,"column":20},"end":{"line":290,"column":23}},"190":{"start":{"line":287,"column":24},"end":{"line":287,"column":41}},"191":{"start":{"line":287,"column":31},"end":{"line":287,"column":41}},"192":{"start":{"line":288,"column":24},"end":{"line":288,"column":77}},"193":{"start":{"line":289,"column":24},"end":{"line":289,"column":50}},"194":{"start":{"line":289,"column":36},"end":{"line":289,"column":50}},"195":{"start":{"line":307,"column":0},"end":{"line":386,"column":1}},"196":{"start":{"line":308,"column":4},"end":{"line":308,"column":77}},"197":{"start":{"line":309,"column":4},"end":{"line":309,"column":47}},"198":{"start":{"line":310,"column":4},"end":{"line":310,"column":44}},"199":{"start":{"line":311,"column":4},"end":{"line":311,"column":20}},"200":{"start":{"line":318,"column":4},"end":{"line":318,"column":63}},"201":{"start":{"line":319,"column":4},"end":{"line":319,"column":71}},"202":{"start":{"line":321,"column":4},"end":{"line":324,"column":5}},"203":{"start":{"line":322,"column":8},"end":{"line":322,"column":38}},"204":{"start":{"line":323,"column":8},"end":{"line":323,"column":32}},"205":{"start":{"line":326,"column":4},"end":{"line":329,"column":5}},"206":{"start":{"line":327,"column":8},"end":{"line":327,"column":37}},"207":{"start":{"line":328,"column":8},"end":{"line":328,"column":31}},"208":{"start":{"line":331,"column":4},"end":{"line":334,"column":5}},"209":{"start":{"line":332,"column":8},"end":{"line":332,"column":45}},"210":{"start":{"line":333,"column":8},"end":{"line":333,"column":39}},"211":{"start":{"line":336,"column":4},"end":{"line":339,"column":5}},"212":{"start":{"line":337,"column":8},"end":{"line":337,"column":38}},"213":{"start":{"line":338,"column":8},"end":{"line":338,"column":32}},"214":{"start":{"line":341,"column":4},"end":{"line":350,"column":5}},"215":{"start":{"line":342,"column":8},"end":{"line":347,"column":9}},"216":{"start":{"line":343,"column":12},"end":{"line":346,"column":13}},"217":{"start":{"line":344,"column":16},"end":{"line":344,"column":40}},"218":{"start":{"line":345,"column":16},"end":{"line":345,"column":120}},"219":{"start":{"line":351,"column":4},"end":{"line":354,"column":5}},"220":{"start":{"line":352,"column":8},"end":{"line":352,"column":38}},"221":{"start":{"line":353,"column":8},"end":{"line":353,"column":34}},"222":{"start":{"line":355,"column":4},"end":{"line":355,"column":48}},"223":{"start":{"line":356,"column":4},"end":{"line":385,"column":5}},"224":{"start":{"line":357,"column":8},"end":{"line":374,"column":11}},"225":{"start":{"line":358,"column":12},"end":{"line":358,"column":121}},"226":{"start":{"line":359,"column":12},"end":{"line":373,"column":13}},"227":{"start":{"line":360,"column":16},"end":{"line":360,"column":75}},"228":{"start":{"line":361,"column":16},"end":{"line":365,"column":19}},"229":{"start":{"line":362,"column":20},"end":{"line":362,"column":37}},"230":{"start":{"line":362,"column":27},"end":{"line":362,"column":37}},"231":{"start":{"line":363,"column":20},"end":{"line":363,"column":71}},"232":{"start":{"line":364,"column":20},"end":{"line":364,"column":46}},"233":{"start":{"line":364,"column":32},"end":{"line":364,"column":46}},"234":{"start":{"line":367,"column":16},"end":{"line":367,"column":110}},"235":{"start":{"line":368,"column":16},"end":{"line":372,"column":19}},"236":{"start":{"line":369,"column":20},"end":{"line":369,"column":37}},"237":{"start":{"line":369,"column":27},"end":{"line":369,"column":37}},"238":{"start":{"line":370,"column":20},"end":{"line":370,"column":73}},"239":{"start":{"line":371,"column":20},"end":{"line":371,"column":46}},"240":{"start":{"line":371,"column":32},"end":{"line":371,"column":46}},"241":{"start":{"line":379,"column":8},"end":{"line":379,"column":65}},"242":{"start":{"line":380,"column":8},"end":{"line":384,"column":11}},"243":{"start":{"line":381,"column":12},"end":{"line":381,"column":29}},"244":{"start":{"line":381,"column":19},"end":{"line":381,"column":29}},"245":{"start":{"line":382,"column":12},"end":{"line":382,"column":63}},"246":{"start":{"line":383,"column":12},"end":{"line":383,"column":38}},"247":{"start":{"line":383,"column":24},"end":{"line":383,"column":38}},"248":{"start":{"line":388,"column":0},"end":{"line":434,"column":1}},"249":{"start":{"line":389,"column":4},"end":{"line":389,"column":113}},"250":{"start":{"line":389,"column":27},"end":{"line":389,"column":113}},"251":{"start":{"line":391,"column":4},"end":{"line":391,"column":77}},"252":{"start":{"line":392,"column":4},"end":{"line":392,"column":47}},"253":{"start":{"line":393,"column":4},"end":{"line":393,"column":44}},"254":{"start":{"line":394,"column":4},"end":{"line":394,"column":20}},"255":{"start":{"line":396,"column":4},"end":{"line":396,"column":38}},"256":{"start":{"line":397,"column":4},"end":{"line":397,"column":37}},"257":{"start":{"line":398,"column":4},"end":{"line":398,"column":35}},"258":{"start":{"line":399,"column":4},"end":{"line":399,"column":37}},"259":{"start":{"line":400,"column":4},"end":{"line":400,"column":39}},"260":{"start":{"line":401,"column":4},"end":{"line":401,"column":37}},"261":{"start":{"line":402,"column":4},"end":{"line":402,"column":65}},"262":{"start":{"line":404,"column":4},"end":{"line":433,"column":7}},"263":{"start":{"line":405,"column":8},"end":{"line":432,"column":9}},"264":{"start":{"line":406,"column":12},"end":{"line":406,"column":40}},"265":{"start":{"line":407,"column":12},"end":{"line":407,"column":72}},"266":{"start":{"line":408,"column":12},"end":{"line":412,"column":15}},"267":{"start":{"line":409,"column":16},"end":{"line":409,"column":33}},"268":{"start":{"line":409,"column":23},"end":{"line":409,"column":33}},"269":{"start":{"line":410,"column":16},"end":{"line":410,"column":67}},"270":{"start":{"line":411,"column":16},"end":{"line":411,"column":42}},"271":{"start":{"line":411,"column":28},"end":{"line":411,"column":42}},"272":{"start":{"line":414,"column":12},"end":{"line":431,"column":15}},"273":{"start":{"line":415,"column":16},"end":{"line":415,"column":44}},"274":{"start":{"line":416,"column":16},"end":{"line":430,"column":17}},"275":{"start":{"line":417,"column":20},"end":{"line":417,"column":79}},"276":{"start":{"line":418,"column":20},"end":{"line":422,"column":23}},"277":{"start":{"line":419,"column":24},"end":{"line":419,"column":41}},"278":{"start":{"line":419,"column":31},"end":{"line":419,"column":41}},"279":{"start":{"line":420,"column":24},"end":{"line":420,"column":75}},"280":{"start":{"line":421,"column":24},"end":{"line":421,"column":50}},"281":{"start":{"line":421,"column":36},"end":{"line":421,"column":50}},"282":{"start":{"line":424,"column":20},"end":{"line":424,"column":114}},"283":{"start":{"line":425,"column":20},"end":{"line":429,"column":23}},"284":{"start":{"line":426,"column":24},"end":{"line":426,"column":41}},"285":{"start":{"line":426,"column":31},"end":{"line":426,"column":41}},"286":{"start":{"line":427,"column":24},"end":{"line":427,"column":77}},"287":{"start":{"line":428,"column":24},"end":{"line":428,"column":50}},"288":{"start":{"line":428,"column":36},"end":{"line":428,"column":50}},"289":{"start":{"line":445,"column":0},"end":{"line":510,"column":1}},"290":{"start":{"line":446,"column":4},"end":{"line":446,"column":77}},"291":{"start":{"line":447,"column":4},"end":{"line":447,"column":47}},"292":{"start":{"line":448,"column":4},"end":{"line":448,"column":44}},"293":{"start":{"line":449,"column":4},"end":{"line":449,"column":20}},"294":{"start":{"line":451,"column":4},"end":{"line":455,"column":6}},"295":{"start":{"line":456,"column":4},"end":{"line":460,"column":6}},"296":{"start":{"line":462,"column":4},"end":{"line":465,"column":5}},"297":{"start":{"line":463,"column":8},"end":{"line":463,"column":38}},"298":{"start":{"line":464,"column":8},"end":{"line":464,"column":32}},"299":{"start":{"line":467,"column":4},"end":{"line":470,"column":5}},"300":{"start":{"line":468,"column":8},"end":{"line":468,"column":37}},"301":{"start":{"line":469,"column":8},"end":{"line":469,"column":31}},"302":{"start":{"line":472,"column":4},"end":{"line":475,"column":5}},"303":{"start":{"line":473,"column":8},"end":{"line":473,"column":45}},"304":{"start":{"line":474,"column":8},"end":{"line":474,"column":39}},"305":{"start":{"line":477,"column":4},"end":{"line":480,"column":5}},"306":{"start":{"line":478,"column":8},"end":{"line":478,"column":36}},"307":{"start":{"line":479,"column":8},"end":{"line":479,"column":32}},"308":{"start":{"line":482,"column":4},"end":{"line":482,"column":52}},"309":{"start":{"line":483,"column":4},"end":{"line":509,"column":5}},"310":{"start":{"line":484,"column":8},"end":{"line":501,"column":11}},"311":{"start":{"line":485,"column":12},"end":{"line":485,"column":121}},"312":{"start":{"line":486,"column":12},"end":{"line":500,"column":13}},"313":{"start":{"line":487,"column":16},"end":{"line":487,"column":75}},"314":{"start":{"line":488,"column":16},"end":{"line":492,"column":19}},"315":{"start":{"line":489,"column":20},"end":{"line":489,"column":37}},"316":{"start":{"line":489,"column":27},"end":{"line":489,"column":37}},"317":{"start":{"line":490,"column":20},"end":{"line":490,"column":71}},"318":{"start":{"line":491,"column":20},"end":{"line":491,"column":46}},"319":{"start":{"line":491,"column":32},"end":{"line":491,"column":46}},"320":{"start":{"line":494,"column":16},"end":{"line":494,"column":110}},"321":{"start":{"line":495,"column":16},"end":{"line":499,"column":19}},"322":{"start":{"line":496,"column":20},"end":{"line":496,"column":37}},"323":{"start":{"line":496,"column":27},"end":{"line":496,"column":37}},"324":{"start":{"line":497,"column":20},"end":{"line":497,"column":73}},"325":{"start":{"line":498,"column":20},"end":{"line":498,"column":46}},"326":{"start":{"line":498,"column":32},"end":{"line":498,"column":46}},"327":{"start":{"line":503,"column":8},"end":{"line":503,"column":68}},"328":{"start":{"line":504,"column":8},"end":{"line":508,"column":11}},"329":{"start":{"line":505,"column":12},"end":{"line":505,"column":29}},"330":{"start":{"line":505,"column":19},"end":{"line":505,"column":29}},"331":{"start":{"line":506,"column":12},"end":{"line":506,"column":63}},"332":{"start":{"line":507,"column":12},"end":{"line":507,"column":38}},"333":{"start":{"line":507,"column":24},"end":{"line":507,"column":38}},"334":{"start":{"line":516,"column":0},"end":{"line":581,"column":1}},"335":{"start":{"line":517,"column":4},"end":{"line":517,"column":24}},"336":{"start":{"line":518,"column":4},"end":{"line":580,"column":5}},"337":{"start":{"line":519,"column":8},"end":{"line":519,"column":31}},"338":{"start":{"line":520,"column":8},"end":{"line":520,"column":35}},"339":{"start":{"line":521,"column":8},"end":{"line":542,"column":9}},"340":{"start":{"line":522,"column":12},"end":{"line":522,"column":124}},"341":{"start":{"line":523,"column":12},"end":{"line":527,"column":15}},"342":{"start":{"line":524,"column":16},"end":{"line":524,"column":34}},"343":{"start":{"line":524,"column":24},"end":{"line":524,"column":34}},"344":{"start":{"line":525,"column":16},"end":{"line":525,"column":63}},"345":{"start":{"line":526,"column":16},"end":{"line":526,"column":43}},"346":{"start":{"line":526,"column":28},"end":{"line":526,"column":43}},"347":{"start":{"line":529,"column":12},"end":{"line":529,"column":127}},"348":{"start":{"line":530,"column":12},"end":{"line":530,"column":131}},"349":{"start":{"line":531,"column":12},"end":{"line":541,"column":15}},"350":{"start":{"line":532,"column":16},"end":{"line":532,"column":34}},"351":{"start":{"line":532,"column":24},"end":{"line":532,"column":34}},"352":{"start":{"line":533,"column":16},"end":{"line":533,"column":57}},"353":{"start":{"line":534,"column":16},"end":{"line":534,"column":49}},"354":{"start":{"line":535,"column":16},"end":{"line":540,"column":19}},"355":{"start":{"line":536,"column":20},"end":{"line":536,"column":38}},"356":{"start":{"line":536,"column":28},"end":{"line":536,"column":38}},"357":{"start":{"line":537,"column":20},"end":{"line":537,"column":71}},"358":{"start":{"line":538,"column":20},"end":{"line":539,"column":41}},"359":{"start":{"line":538,"column":32},"end":{"line":538,"column":47}},"360":{"start":{"line":539,"column":25},"end":{"line":539,"column":41}},"361":{"start":{"line":544,"column":8},"end":{"line":579,"column":15}},"362":{"start":{"line":546,"column":20},"end":{"line":547,"column":34}},"363":{"start":{"line":546,"column":52},"end":{"line":546,"column":196}},"364":{"start":{"line":547,"column":25},"end":{"line":547,"column":34}},"365":{"start":{"line":550,"column":20},"end":{"line":569,"column":35}},"366":{"start":{"line":551,"column":24},"end":{"line":568,"column":25}},"367":{"start":{"line":552,"column":28},"end":{"line":552,"column":205}},"368":{"start":{"line":554,"column":28},"end":{"line":554,"column":73}},"369":{"start":{"line":555,"column":28},"end":{"line":555,"column":91}},"370":{"start":{"line":555,"column":70},"end":{"line":555,"column":91}},"371":{"start":{"line":556,"column":28},"end":{"line":567,"column":19}},"372":{"start":{"line":565,"column":21},"end":{"line":565,"column":161}},"373":{"start":{"line":565,"column":92},"end":{"line":565,"column":161}},"374":{"start":{"line":566,"column":21},"end":{"line":566,"column":31}},"375":{"start":{"line":569,"column":26},"end":{"line":569,"column":35}},"376":{"start":{"line":572,"column":20},"end":{"line":573,"column":34}},"377":{"start":{"line":572,"column":71},"end":{"line":572,"column":133}},"378":{"start":{"line":573,"column":25},"end":{"line":573,"column":34}},"379":{"start":{"line":577,"column":16},"end":{"line":577,"column":74}},"380":{"start":{"line":578,"column":16},"end":{"line":578,"column":30}},"381":{"start":{"line":583,"column":0},"end":{"line":583,"column":26}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":4}},{"start":{"line":26,"column":4},"end":{"line":26,"column":4}}]},"2":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":4}},{"start":{"line":27,"column":4},"end":{"line":27,"column":4}}]},"3":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":8}},{"start":{"line":28,"column":8},"end":{"line":28,"column":8}}]},"4":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":4}},{"start":{"line":59,"column":4},"end":{"line":59,"column":4}}]},"5":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":4},"end":{"line":73,"column":4}},{"start":{"line":73,"column":4},"end":{"line":73,"column":4}}]},"6":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":12},"end":{"line":82,"column":12}},{"start":{"line":82,"column":12},"end":{"line":82,"column":12}}]},"7":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":15},"end":{"line":82,"column":55}},{"start":{"line":82,"column":57},"end":{"line":82,"column":110}}]},"8":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":12},"end":{"line":87,"column":12}},{"start":{"line":87,"column":12},"end":{"line":87,"column":12}}]},"9":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":28},"end":{"line":101,"column":28}},{"start":{"line":101,"column":28},"end":{"line":101,"column":28}}]},"10":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":32},"end":{"line":103,"column":32}},{"start":{"line":103,"column":32},"end":{"line":103,"column":32}}]},"11":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":32},"end":{"line":104,"column":32}},{"start":{"line":104,"column":32},"end":{"line":104,"column":32}}]},"12":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":35},"end":{"line":104,"column":62}},{"start":{"line":104,"column":64},"end":{"line":104,"column":85}}]},"13":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":40},"end":{"line":109,"column":40}},{"start":{"line":109,"column":40},"end":{"line":109,"column":40}}]},"14":{"line":109,"type":"binary-expr","locations":[{"start":{"line":109,"column":43},"end":{"line":109,"column":47}},{"start":{"line":109,"column":49},"end":{"line":109,"column":64}}]},"15":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":40},"end":{"line":110,"column":40}},{"start":{"line":110,"column":40},"end":{"line":110,"column":40}}]},"16":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":28},"end":{"line":120,"column":28}},{"start":{"line":120,"column":28},"end":{"line":120,"column":28}}]},"17":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":28},"end":{"line":129,"column":28}},{"start":{"line":129,"column":28},"end":{"line":129,"column":28}}]},"18":{"line":129,"type":"binary-expr","locations":[{"start":{"line":129,"column":31},"end":{"line":129,"column":37}},{"start":{"line":129,"column":39},"end":{"line":129,"column":55}}]},"19":{"line":131,"type":"cond-expr","locations":[{"start":{"line":131,"column":64},"end":{"line":131,"column":93}},{"start":{"line":131,"column":94},"end":{"line":131,"column":96}}]},"20":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":32},"end":{"line":136,"column":32}},{"start":{"line":136,"column":32},"end":{"line":136,"column":32}}]},"21":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":36},"end":{"line":138,"column":36}},{"start":{"line":138,"column":36},"end":{"line":138,"column":36}}]},"22":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":39},"end":{"line":138,"column":57}},{"start":{"line":138,"column":59},"end":{"line":138,"column":77}}]},"23":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":36},"end":{"line":141,"column":36}},{"start":{"line":141,"column":36},"end":{"line":141,"column":36}}]},"24":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":36},"end":{"line":144,"column":36}},{"start":{"line":144,"column":36},"end":{"line":144,"column":36}}]},"25":{"line":144,"type":"binary-expr","locations":[{"start":{"line":144,"column":39},"end":{"line":144,"column":63}},{"start":{"line":144,"column":65},"end":{"line":144,"column":79}},{"start":{"line":144,"column":81},"end":{"line":144,"column":93}}]},"26":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":36},"end":{"line":148,"column":36}},{"start":{"line":148,"column":36},"end":{"line":148,"column":36}}]},"27":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":32},"end":{"line":158,"column":32}},{"start":{"line":158,"column":32},"end":{"line":158,"column":32}}]},"28":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":32},"end":{"line":159,"column":32}},{"start":{"line":159,"column":32},"end":{"line":159,"column":32}}]},"29":{"line":159,"type":"binary-expr","locations":[{"start":{"line":159,"column":35},"end":{"line":159,"column":52}},{"start":{"line":159,"column":54},"end":{"line":159,"column":70}}]},"30":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":32},"end":{"line":165,"column":32}},{"start":{"line":165,"column":32},"end":{"line":165,"column":32}}]},"31":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":40},"end":{"line":167,"column":40}},{"start":{"line":167,"column":40},"end":{"line":167,"column":40}}]},"32":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":32},"end":{"line":184,"column":32}},{"start":{"line":184,"column":32},"end":{"line":184,"column":32}}]},"33":{"line":185,"type":"cond-expr","locations":[{"start":{"line":185,"column":74},"end":{"line":185,"column":88}},{"start":{"line":185,"column":89},"end":{"line":185,"column":92}}]},"34":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":36},"end":{"line":188,"column":36}},{"start":{"line":188,"column":36},"end":{"line":188,"column":36}}]},"35":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":28},"end":{"line":196,"column":28}},{"start":{"line":196,"column":28},"end":{"line":196,"column":28}}]},"36":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":36},"end":{"line":198,"column":36}},{"start":{"line":198,"column":36},"end":{"line":198,"column":36}}]},"37":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":12},"end":{"line":219,"column":12}},{"start":{"line":219,"column":12},"end":{"line":219,"column":12}}]},"38":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":4},"end":{"line":231,"column":4}},{"start":{"line":231,"column":4},"end":{"line":231,"column":4}}]},"39":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":4},"end":{"line":245,"column":4}},{"start":{"line":245,"column":4},"end":{"line":245,"column":4}}]},"40":{"line":245,"type":"binary-expr","locations":[{"start":{"line":245,"column":7},"end":{"line":245,"column":14}},{"start":{"line":245,"column":16},"end":{"line":245,"column":33}}]},"41":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":4},"end":{"line":249,"column":4}},{"start":{"line":249,"column":4},"end":{"line":249,"column":4}}]},"42":{"line":249,"type":"binary-expr","locations":[{"start":{"line":249,"column":7},"end":{"line":249,"column":21}},{"start":{"line":249,"column":23},"end":{"line":249,"column":47}}]},"43":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":4},"end":{"line":253,"column":4}},{"start":{"line":253,"column":4},"end":{"line":253,"column":4}}]},"44":{"line":253,"type":"binary-expr","locations":[{"start":{"line":253,"column":7},"end":{"line":253,"column":21}},{"start":{"line":253,"column":23},"end":{"line":253,"column":47}}]},"45":{"line":255,"type":"if","locations":[{"start":{"line":255,"column":12},"end":{"line":255,"column":12}},{"start":{"line":255,"column":12},"end":{"line":255,"column":12}}]},"46":{"line":255,"type":"binary-expr","locations":[{"start":{"line":255,"column":15},"end":{"line":255,"column":47}},{"start":{"line":255,"column":49},"end":{"line":255,"column":77}}]},"47":{"line":256,"type":"cond-expr","locations":[{"start":{"line":256,"column":69},"end":{"line":256,"column":102}},{"start":{"line":256,"column":103},"end":{"line":256,"column":120}}]},"48":{"line":261,"type":"if","locations":[{"start":{"line":261,"column":4},"end":{"line":261,"column":4}},{"start":{"line":261,"column":4},"end":{"line":261,"column":4}}]},"49":{"line":261,"type":"binary-expr","locations":[{"start":{"line":261,"column":7},"end":{"line":261,"column":16}},{"start":{"line":261,"column":18},"end":{"line":261,"column":37}}]},"50":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":8},"end":{"line":266,"column":8}},{"start":{"line":266,"column":8},"end":{"line":266,"column":8}}]},"51":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":16},"end":{"line":270,"column":16}},{"start":{"line":270,"column":16},"end":{"line":270,"column":16}}]},"52":{"line":272,"type":"if","locations":[{"start":{"line":272,"column":16},"end":{"line":272,"column":16}},{"start":{"line":272,"column":16},"end":{"line":272,"column":16}}]},"53":{"line":275,"type":"binary-expr","locations":[{"start":{"line":275,"column":19},"end":{"line":275,"column":46}},{"start":{"line":275,"column":48},"end":{"line":275,"column":64}}]},"54":{"line":277,"type":"if","locations":[{"start":{"line":277,"column":16},"end":{"line":277,"column":16}},{"start":{"line":277,"column":16},"end":{"line":277,"column":16}}]},"55":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":24},"end":{"line":280,"column":24}},{"start":{"line":280,"column":24},"end":{"line":280,"column":24}}]},"56":{"line":282,"type":"if","locations":[{"start":{"line":282,"column":24},"end":{"line":282,"column":24}},{"start":{"line":282,"column":24},"end":{"line":282,"column":24}}]},"57":{"line":287,"type":"if","locations":[{"start":{"line":287,"column":24},"end":{"line":287,"column":24}},{"start":{"line":287,"column":24},"end":{"line":287,"column":24}}]},"58":{"line":289,"type":"if","locations":[{"start":{"line":289,"column":24},"end":{"line":289,"column":24}},{"start":{"line":289,"column":24},"end":{"line":289,"column":24}}]},"59":{"line":321,"type":"if","locations":[{"start":{"line":321,"column":4},"end":{"line":321,"column":4}},{"start":{"line":321,"column":4},"end":{"line":321,"column":4}}]},"60":{"line":321,"type":"binary-expr","locations":[{"start":{"line":321,"column":7},"end":{"line":321,"column":14}},{"start":{"line":321,"column":16},"end":{"line":321,"column":33}}]},"61":{"line":326,"type":"if","locations":[{"start":{"line":326,"column":4},"end":{"line":326,"column":4}},{"start":{"line":326,"column":4},"end":{"line":326,"column":4}}]},"62":{"line":326,"type":"binary-expr","locations":[{"start":{"line":326,"column":7},"end":{"line":326,"column":13}},{"start":{"line":326,"column":15},"end":{"line":326,"column":31}}]},"63":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":4},"end":{"line":331,"column":4}},{"start":{"line":331,"column":4},"end":{"line":331,"column":4}}]},"64":{"line":331,"type":"binary-expr","locations":[{"start":{"line":331,"column":7},"end":{"line":331,"column":21}},{"start":{"line":331,"column":23},"end":{"line":331,"column":47}}]},"65":{"line":336,"type":"if","locations":[{"start":{"line":336,"column":4},"end":{"line":336,"column":4}},{"start":{"line":336,"column":4},"end":{"line":336,"column":4}}]},"66":{"line":336,"type":"binary-expr","locations":[{"start":{"line":336,"column":7},"end":{"line":336,"column":14}},{"start":{"line":336,"column":16},"end":{"line":336,"column":33}}]},"67":{"line":341,"type":"if","locations":[{"start":{"line":341,"column":4},"end":{"line":341,"column":4}},{"start":{"line":341,"column":4},"end":{"line":341,"column":4}}]},"68":{"line":341,"type":"binary-expr","locations":[{"start":{"line":341,"column":7},"end":{"line":341,"column":21}},{"start":{"line":341,"column":23},"end":{"line":341,"column":47}}]},"69":{"line":343,"type":"if","locations":[{"start":{"line":343,"column":12},"end":{"line":343,"column":12}},{"start":{"line":343,"column":12},"end":{"line":343,"column":12}}]},"70":{"line":343,"type":"binary-expr","locations":[{"start":{"line":343,"column":15},"end":{"line":343,"column":47}},{"start":{"line":343,"column":49},"end":{"line":343,"column":77}}]},"71":{"line":345,"type":"cond-expr","locations":[{"start":{"line":345,"column":67},"end":{"line":345,"column":100}},{"start":{"line":345,"column":101},"end":{"line":345,"column":118}}]},"72":{"line":351,"type":"if","locations":[{"start":{"line":351,"column":4},"end":{"line":351,"column":4}},{"start":{"line":351,"column":4},"end":{"line":351,"column":4}}]},"73":{"line":351,"type":"binary-expr","locations":[{"start":{"line":351,"column":7},"end":{"line":351,"column":16}},{"start":{"line":351,"column":18},"end":{"line":351,"column":37}}]},"74":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":12},"end":{"line":359,"column":12}},{"start":{"line":359,"column":12},"end":{"line":359,"column":12}}]},"75":{"line":362,"type":"if","locations":[{"start":{"line":362,"column":20},"end":{"line":362,"column":20}},{"start":{"line":362,"column":20},"end":{"line":362,"column":20}}]},"76":{"line":364,"type":"if","locations":[{"start":{"line":364,"column":20},"end":{"line":364,"column":20}},{"start":{"line":364,"column":20},"end":{"line":364,"column":20}}]},"77":{"line":369,"type":"if","locations":[{"start":{"line":369,"column":20},"end":{"line":369,"column":20}},{"start":{"line":369,"column":20},"end":{"line":369,"column":20}}]},"78":{"line":371,"type":"if","locations":[{"start":{"line":371,"column":20},"end":{"line":371,"column":20}},{"start":{"line":371,"column":20},"end":{"line":371,"column":20}}]},"79":{"line":381,"type":"if","locations":[{"start":{"line":381,"column":12},"end":{"line":381,"column":12}},{"start":{"line":381,"column":12},"end":{"line":381,"column":12}}]},"80":{"line":383,"type":"if","locations":[{"start":{"line":383,"column":12},"end":{"line":383,"column":12}},{"start":{"line":383,"column":12},"end":{"line":383,"column":12}}]},"81":{"line":389,"type":"if","locations":[{"start":{"line":389,"column":4},"end":{"line":389,"column":4}},{"start":{"line":389,"column":4},"end":{"line":389,"column":4}}]},"82":{"line":405,"type":"if","locations":[{"start":{"line":405,"column":8},"end":{"line":405,"column":8}},{"start":{"line":405,"column":8},"end":{"line":405,"column":8}}]},"83":{"line":409,"type":"if","locations":[{"start":{"line":409,"column":16},"end":{"line":409,"column":16}},{"start":{"line":409,"column":16},"end":{"line":409,"column":16}}]},"84":{"line":411,"type":"if","locations":[{"start":{"line":411,"column":16},"end":{"line":411,"column":16}},{"start":{"line":411,"column":16},"end":{"line":411,"column":16}}]},"85":{"line":416,"type":"if","locations":[{"start":{"line":416,"column":16},"end":{"line":416,"column":16}},{"start":{"line":416,"column":16},"end":{"line":416,"column":16}}]},"86":{"line":419,"type":"if","locations":[{"start":{"line":419,"column":24},"end":{"line":419,"column":24}},{"start":{"line":419,"column":24},"end":{"line":419,"column":24}}]},"87":{"line":421,"type":"if","locations":[{"start":{"line":421,"column":24},"end":{"line":421,"column":24}},{"start":{"line":421,"column":24},"end":{"line":421,"column":24}}]},"88":{"line":426,"type":"if","locations":[{"start":{"line":426,"column":24},"end":{"line":426,"column":24}},{"start":{"line":426,"column":24},"end":{"line":426,"column":24}}]},"89":{"line":428,"type":"if","locations":[{"start":{"line":428,"column":24},"end":{"line":428,"column":24}},{"start":{"line":428,"column":24},"end":{"line":428,"column":24}}]},"90":{"line":462,"type":"if","locations":[{"start":{"line":462,"column":4},"end":{"line":462,"column":4}},{"start":{"line":462,"column":4},"end":{"line":462,"column":4}}]},"91":{"line":467,"type":"if","locations":[{"start":{"line":467,"column":4},"end":{"line":467,"column":4}},{"start":{"line":467,"column":4},"end":{"line":467,"column":4}}]},"92":{"line":472,"type":"if","locations":[{"start":{"line":472,"column":4},"end":{"line":472,"column":4}},{"start":{"line":472,"column":4},"end":{"line":472,"column":4}}]},"93":{"line":477,"type":"if","locations":[{"start":{"line":477,"column":4},"end":{"line":477,"column":4}},{"start":{"line":477,"column":4},"end":{"line":477,"column":4}}]},"94":{"line":486,"type":"if","locations":[{"start":{"line":486,"column":12},"end":{"line":486,"column":12}},{"start":{"line":486,"column":12},"end":{"line":486,"column":12}}]},"95":{"line":489,"type":"if","locations":[{"start":{"line":489,"column":20},"end":{"line":489,"column":20}},{"start":{"line":489,"column":20},"end":{"line":489,"column":20}}]},"96":{"line":491,"type":"if","locations":[{"start":{"line":491,"column":20},"end":{"line":491,"column":20}},{"start":{"line":491,"column":20},"end":{"line":491,"column":20}}]},"97":{"line":496,"type":"if","locations":[{"start":{"line":496,"column":20},"end":{"line":496,"column":20}},{"start":{"line":496,"column":20},"end":{"line":496,"column":20}}]},"98":{"line":498,"type":"if","locations":[{"start":{"line":498,"column":20},"end":{"line":498,"column":20}},{"start":{"line":498,"column":20},"end":{"line":498,"column":20}}]},"99":{"line":505,"type":"if","locations":[{"start":{"line":505,"column":12},"end":{"line":505,"column":12}},{"start":{"line":505,"column":12},"end":{"line":505,"column":12}}]},"100":{"line":507,"type":"if","locations":[{"start":{"line":507,"column":12},"end":{"line":507,"column":12}},{"start":{"line":507,"column":12},"end":{"line":507,"column":12}}]},"101":{"line":518,"type":"if","locations":[{"start":{"line":518,"column":4},"end":{"line":518,"column":4}},{"start":{"line":518,"column":4},"end":{"line":518,"column":4}}]},"102":{"line":521,"type":"if","locations":[{"start":{"line":521,"column":8},"end":{"line":521,"column":8}},{"start":{"line":521,"column":8},"end":{"line":521,"column":8}}]},"103":{"line":524,"type":"if","locations":[{"start":{"line":524,"column":16},"end":{"line":524,"column":16}},{"start":{"line":524,"column":16},"end":{"line":524,"column":16}}]},"104":{"line":526,"type":"if","locations":[{"start":{"line":526,"column":16},"end":{"line":526,"column":16}},{"start":{"line":526,"column":16},"end":{"line":526,"column":16}}]},"105":{"line":532,"type":"if","locations":[{"start":{"line":532,"column":16},"end":{"line":532,"column":16}},{"start":{"line":532,"column":16},"end":{"line":532,"column":16}}]},"106":{"line":536,"type":"if","locations":[{"start":{"line":536,"column":20},"end":{"line":536,"column":20}},{"start":{"line":536,"column":20},"end":{"line":536,"column":20}}]},"107":{"line":538,"type":"if","locations":[{"start":{"line":538,"column":20},"end":{"line":538,"column":20}},{"start":{"line":538,"column":20},"end":{"line":538,"column":20}}]},"108":{"line":546,"type":"if","locations":[{"start":{"line":546,"column":20},"end":{"line":546,"column":20}},{"start":{"line":546,"column":20},"end":{"line":546,"column":20}}]},"109":{"line":550,"type":"if","locations":[{"start":{"line":550,"column":20},"end":{"line":550,"column":20}},{"start":{"line":550,"column":20},"end":{"line":550,"column":20}}]},"110":{"line":550,"type":"binary-expr","locations":[{"start":{"line":550,"column":23},"end":{"line":550,"column":83}},{"start":{"line":550,"column":85},"end":{"line":550,"column":125}}]},"111":{"line":551,"type":"if","locations":[{"start":{"line":551,"column":24},"end":{"line":551,"column":24}},{"start":{"line":551,"column":24},"end":{"line":551,"column":24}}]},"112":{"line":555,"type":"if","locations":[{"start":{"line":555,"column":28},"end":{"line":555,"column":28}},{"start":{"line":555,"column":28},"end":{"line":555,"column":28}}]},"113":{"line":565,"type":"if","locations":[{"start":{"line":565,"column":21},"end":{"line":565,"column":21}},{"start":{"line":565,"column":21},"end":{"line":565,"column":21}}]},"114":{"line":565,"type":"binary-expr","locations":[{"start":{"line":565,"column":24},"end":{"line":565,"column":30}},{"start":{"line":565,"column":34},"end":{"line":565,"column":91}}]},"115":{"line":572,"type":"if","locations":[{"start":{"line":572,"column":20},"end":{"line":572,"column":20}},{"start":{"line":572,"column":20},"end":{"line":572,"column":20}}]}},"code":["/**"," * Created by james on 13-11-22."," * pipeline middleware"," */","var crypto = require('crypto');","var redis = require(\"redis\");","var HBase = require('../lib/node_hbase/index.js');","var hbase_http = require('hbase');","var os = require(\"os\");","var async = require('async');","var urlUtil =  require(\"url\");","var querystring = require('querystring');","var util = require('util');","var poolModule = require('generic-pool');","require('../lib/jsextend.js');","","var pipeline = function(spiderCore){","    this.spiderCore = spiderCore;","    logger = spiderCore.settings.logger;","}","","////report to spidercore standby////////////////////////","pipeline.prototype.assembly = function(callback){","    var spiderCore = this.spiderCore;","    this.hbase_via_http = false;","    if(spiderCore.settings['crawled_hbase_conf'] instanceof Array)this.hbase_via_http  = true;","    if(this.spiderCore.settings['save_content_to_hbase']===true){","        if(this.hbase_via_http){","            this.hbase_cli = hbase_http({","                host:this.spiderCore.settings['crawled_hbase_conf'][0],","                port:this.spiderCore.settings['crawled_hbase_conf'][1]","            });","            this.HBASE_TABLE = this.hbase_cli.getTable(this.spiderCore.settings['crawled_hbase_table']);","            this.HBASE_BIN_TABLE = this.hbase_cli.getTable(this.spiderCore.settings['crawled_hbase_bin_table']);","        }else{","            this.HBASE_POOL = poolModule.Pool({","                name     : 'hbase_pool',","                create   : function(hbase_callback) {","                    logger.debug('Create a hbase connection.');","                    hbase_callback(null,HBase(spiderCore.settings['crawled_hbase_conf']));","                },","                destroy  : function(db) {","                    logger.debug('Destroy a hbase connection.');","                    db = null;","                },","                max      : this.spiderCore.settings['spider_concurrency'],","                idleTimeoutMillis : 30000,","                log : false","            });","//            this.hbase_cli = HBase(this.spiderCore.settings['crawled_hbase_conf']);","            this.HBASE_TABLE = this.spiderCore.settings['crawled_hbase_table'];","            this.HBASE_BIN_TABLE = this.spiderCore.settings['crawled_hbase_bin_table'];","        }","    }","","    this.redis_cli0 = spiderCore.spider.redis_cli0;","    this.redis_cli1 = spiderCore.spider.redis_cli1;","    this.redis_cli2 = spiderCore.spider.redis_cli2;","    if(callback)callback(null,'done');","}","/**"," * save links to redis db"," * @param page_url"," * @param linkobjs"," */","pipeline.prototype.save_links = function(page_url,version,linkobjs,drill_relation,callback){","    var spiderCore = this.spiderCore;","    var redis_cli0 = this.redis_cli0;","    var redis_cli1 = this.redis_cli1;","    var aliasArr = Object.keys(linkobjs);","    var linkCount = 0;","    var index = 0;","    if(!version)version = (new Date()).getTime();","    async.whilst(","        function () { return index < aliasArr.length; },","        function (cb) {","            var alias = aliasArr[index];","            var links = linkobjs[alias];","            var t_alias_arr = alias.split(':');","            var drill_alias = t_alias_arr[3];","            var domain = t_alias_arr[2];","            if(!spiderCore.spider.driller_rules[domain]||!spiderCore.spider.driller_rules[domain][drill_alias]){","                logger.error(alias+' not in configuration');","                cb(new Error('Drill rule not found'));","            }","            var t_driller_rules = spiderCore.spider.driller_rules[domain][drill_alias];","            if(typeof(t_driller_rules)!='object')t_driller_rules = JSON.parse(t_driller_rules);","            ////////////////////////////////link array/////////////////////////","            var sindex = 0;","            async.whilst(","                function () { return sindex < links.length; },","                function (scb) {","                    var link = links[sindex];","                    linkCount++;","                    /////save a link/////////////////////","                    async.waterfall([","                        //transform link////////////////////////////////","                        function(mcb){","                            var final_link = link;","                            var urlobj = urlUtil.parse(link);","                            if(t_driller_rules['id_parameter']){","                                var id_parameter = t_driller_rules['id_parameter'];","                                if(typeof(id_parameter)!='object')id_parameter = JSON.parse(id_parameter);","                                if(Array.isArray(id_parameter)&&id_parameter.length>0){","                                    var parameters = querystring.parse(urlobj.query);","                                    var new_parameters = {};","                                    for(var x=0;x<id_parameter.length;x++){","                                        var param_name = id_parameter[x];","                                        if(x==0&&param_name=='#')break;","                                        if(parameters.hasOwnProperty(param_name))new_parameters[param_name] = parameters[param_name];","                                    }","                                    urlobj.search = querystring.stringify(new_parameters);","                                    final_link = urlUtil.format(urlobj);","                                }","                            }","                            return mcb(null,final_link);","                        },","                        ////get url info //////////////","                        function(final_link, mcb){","                            if(final_link!=link)logger.debug('Transform: ' + link + ' -> '+final_link);","                            var urlhash = crypto.createHash('md5').update(final_link+'').digest('hex');","                            redis_cli1.hgetall(urlhash,function(err, value){","                                mcb(err,final_link,urlhash,value);","                            });","                        },","                        //check url////////////////////////","                        function(final_link,urlhash,values,mcb){","                            var validate = true;","                            if(values&&!isEmpty(values)){","                                var status = values['status'];","                                var records = values['records']?JSON.parse(values['records']):[];","                                var last = parseInt(values['last']);","                                var t_version = parseInt(values['version']);","                                var type = values['type'];","","                                if(status!='crawled_failure'){","                                    var real_interval = t_driller_rules['schedule_interval']*1000;","                                    if(status=='crawling'||status=='schedule'){","                                        real_interval = 10*60*1000;//url request hang up or interrupted, give opportunity to crawl after 10 minutes.","                                    }","                                    if(status=='hit'){","                                        real_interval = 2*24*60*60*1000;//probably schedule lost, give opportunity to crawl after 2 days.","                                    }","                                    if(status=='crawled_finish'&&type=='branch'&&version>last){","                                        real_interval = 0;","                                        logger.debug(final_link +' got new version after last crawling');","                                    }","                                    if((new Date()).getTime()-last<real_interval){","                                        logger.debug(util.format('ignore %s, last event time:%s, status:%s',final_link,last,status));","                                        validate = false;","                                    }else{","                                        logger.debug(final_link+' should insert into urlqueue');","                                    }","                                }","                                //version update////////////////////////////////////////////////////////////////","                                logger.debug('url info exists, '+link+', just update the version');","                                var ctc = {};","                                if(validate)ctc['status'] = 'hit';","                                if(version>t_version||isNaN(t_version)){","                                    ctc['version'] = version;","                                    logger.debug('update url('+final_link+') version, '+t_version+' -> '+version);","                                }else {","                                    logger.debug(final_link+' keep the version: '+values['version']);","                                }","                                if(!isEmpty(ctc)){","                                    redis_cli1.hmset(urlhash,ctc,function(err, svalue){","                                        if(err){logger.error(err);}","                                        logger.debug('update url('+final_link+') version, '+t_version+' -> '+version);","                                        mcb(err,final_link,validate);","                                    });","                                }else mcb(null,final_link,validate);","                                //////////////////////////////////////////////////////////////////////////////","                            }else{","                                var vv = {","                                    'url':link,","                                    'version':version,","                                    'trace':alias,","                                    'referer':page_url,","                                    'create':(new Date()).getTime(),","                                    'records':JSON.stringify([]),","                                    'last':(new Date()).getTime(),","                                    'status':'hit'","                                }","                                if(spiderCore.settings['keep_link_relation']){","                                    vv['drill_relation'] = drill_relation?drill_relation:'*';","                                }","                                redis_cli1.hmset(urlhash,vv,function(err, value){","                                    if (err) throw(err);","                                    logger.debug(' save new url('+link+') to urlinfo.');","                                    mcb(null,final_link,true);","                                });","                            }","                        },","                        ////save link to urllib////////////","                        function(final_link,validate,mcb){","                            if(validate){","                                redis_cli0.rpush(alias,final_link,function(err, value){","                                    if(err)throw(err);","                                    logger.debug('push url: '+link+' to urllib: '+alias);","                                    mcb(err,value);","                                });","                            }else mcb(null,'done');","                        }","                    ], function (err, result) {","                        sindex++;","                        scb(err);","                    });","                    ////////////////////////////////////","                },","                function (err) {","                    index++;","                    cb(err);","                }","            );","            ///////////////////////////////////////////////////////////////////","        },","        function (err) {","            logger.info('save '+linkCount+' links from '+page_url+' to redis');","            if(callback)callback(null,true);","        }","    );","}","/**"," * save content to hbase(default), if pipeline defined in spider_extend, it will be covered."," * @param pageurl"," * @param content"," * @param referer"," * @param urllib"," */","pipeline.prototype.save_content = function(pageurl,content,extracted_data,js_result,referer,urllib,drill_relation,callback){","    if(this.hbase_via_http)return this.save_content_vhttp(pageurl,content,extracted_data,js_result,referer,urllib,drill_relation,callback);","","    var url_hash = crypto.createHash('md5').update(pageurl+'').digest('hex');","    var spider = os.hostname()+'-'+process.pid;","    var start_time = (new Date()).getTime();","    var self = this;","","    var put = new HBase.Put(url_hash);","    put.add('basic','spider',spider);","    put.add('basic','url',pageurl);","    put.add('basic','referer',referer);","    put.add('basic','urllib',urllib);","    put.add('basic','updated',(new Date()).getTime().toString());","","    if(content&&!isEmpty(content)){","        put.add('basic','content',content);","    }","","    if(drill_relation&&!isEmpty(drill_relation)){","        put.add('basic','drill_relation',drill_relation);","    }","","    if(extracted_data&&!isEmpty(extracted_data)){","        for(d in extracted_data){","            if(extracted_data.hasOwnProperty(d)&&extracted_data[d]!=undefined){","                put.add('data',d,typeof(extracted_data[d])=='object'?JSON.stringify(extracted_data[d]):extracted_data[d]);","            }","        }","    }","","    if(js_result&&!isEmpty(js_result)){","        put.add('data','jsresult',js_result);","    }","","    self.HBASE_POOL.acquire(function(err, db) {","        if(err){","            self.HBASE_POOL.release(db);","            logger.error(pageurl+', connect to hbase error: '+err);","            self.redis_cli2.zadd('stuck:'+urllib,(new Date()).getTime(),pageurl,function(err,result){","                if(err)throw err;","                logger.debug('append '+pageurl+' to stuck record');","                if(callback)callback(err);","            });","        } else {","            db.put(extracted_data['$category']||this.HBASE_TABLE,put, function (err,res) {","                self.HBASE_POOL.release(db);","                if(err){","                    logger.error(pageurl+', data insert to hbase error: '+err);","                    self.redis_cli2.zadd('stuck:'+urllib,(new Date()).getTime(),pageurl,function(err,result){","                        if(err)throw err;","                        logger.debug('append '+pageurl+' to stuck record');","                        if(callback)callback(err);","                    });","                }else{","                    logger.info(pageurl+', data insert to hbase cost '+((new Date()).getTime()-start_time)+' ms');","                    self.redis_cli2.zrem('stuck:'+urllib,pageurl,function(err,result){","                        if(err)throw err;","                        logger.debug('remove '+pageurl+' from stuck record');","                        if(callback)callback(err);","                    });","                }","            });","        }","    });","}","/**"," * save content via http"," * @param pageurl"," * @param content"," * @param extracted_data"," * @param js_result"," * @param referer"," * @param urllib"," * @param drill_relation"," * @param callback"," */","pipeline.prototype.save_content_vhttp = function(pageurl,content,extracted_data,js_result,referer,urllib,drill_relation,callback){","    var url_hash = crypto.createHash('md5').update(pageurl+'').digest('hex');","    var spider = os.hostname()+'-'+process.pid;","    var start_time = (new Date()).getTime();","    var self = this;","","//    var val_cells = [","//                { \"column\":\"basic:spider\",\"timestamp\":Date.now(),\"$\":spider},","//                { \"column\":\"basic:url\",\"timestamp\":Date.now(),\"$\":pageurl},","//                { \"column\":\"basic:content\",\"timestamp\":Date.now(),\"$\":content}","//                ];","    var keylist = ['basic:spider','basic:url','basic:updated'];","    var valuelist = [spider,pageurl,(new Date()).getTime().toString()];","","    if(referer&&!isEmpty(referer)){","        keylist.push('basic:referer');","        valuelist.push(referer);","    }","","    if(urllib&&!isEmpty(urllib)){","        keylist.push('basic:urllib');","        valuelist.push(urllib);","    }","","    if(drill_relation&&!isEmpty(drill_relation)){","        keylist.push('basic:drill_relation');","        valuelist.push(drill_relation);","    }","","    if(content&&!isEmpty(content)){","        keylist.push('basic:content');","        valuelist.push(content);","    }","","    if(extracted_data&&!isEmpty(extracted_data)){","        for(d in extracted_data){","            if(extracted_data.hasOwnProperty(d)&&extracted_data[d]!=undefined){","                keylist.push('data:'+d);","                valuelist.push(typeof(extracted_data[d])=='object'?JSON.stringify(extracted_data[d]):extracted_data[d]);","            }","        }","//            keylist.push('basic:data');","//            valuelist.push(JSON.stringify(extracted_data));","    }","    if(js_result&&!isEmpty(js_result)){","        keylist.push('data:jsresult');","        valuelist.push(js_result);","    }","    var row = this.HBASE_TABLE.getRow(url_hash);","    try{","        row.put(keylist,valuelist,function(err,success){","            logger.info('insert content extracted from '+pageurl+', cost: '+((new Date()).getTime() - start_time)+' ms');","            if(err){","                logger.error(pageurl+', data insert to hbase error: '+err);","                self.redis_cli2.zadd('stuck:'+urllib,(new Date()).getTime(),pageurl,function(err,result){","                    if(err)throw err;","                    logger.debug('append '+pageurl+' to stuck record');","                    if(callback)callback(err);","                });","            }else{","                logger.info(pageurl+', data insert to hbase cost '+((new Date()).getTime()-start_time)+' ms');","                self.redis_cli2.zrem('stuck:'+urllib,pageurl,function(err,result){","                    if(err)throw err;","                    logger.debug('remove '+pageurl+' from stuck record');","                    if(callback)callback(err);","                });","            }","        });","//        row.put(['basic:spider','basic:url','basic:content'],[spider,pageurl,content],function(err,success){","//            logger.debug('insert content extracted from '+pageurl);","//        });","    }catch(e){","        logger.error(pageurl+', data insert to hbase error: '+e);","        self.redis_cli2.zadd('stuck:'+urllib,(new Date()).getTime(),pageurl,function(err,result){","            if(err)throw err;","            logger.debug('append '+pageurl+' to stuck record');","            if(callback)callback(err);","        });","    }","}","","pipeline.prototype.save_binary = function(pageurl,content,referer,urllib,drill_relation,callback){","    if(this.hbase_via_http)return this.save_binary_vhttp(pageurl,content,referer,urllib,drill_relation,callback);","","    var url_hash = crypto.createHash('md5').update(pageurl+'').digest('hex');","    var spider = os.hostname()+'-'+process.pid;","    var start_time = (new Date()).getTime();","    var self = this;","","    var put = new HBase.Put(url_hash);","    put.add('basic','spider',spider);","    put.add('basic','url',pageurl);","    put.add('binary','file',content);","    put.add('basic','referer',referer);","    put.add('basic','urllib',urllib);","    put.add('basic','updated',(new Date()).getTime().toString());","","    self.HBASE_POOL.acquire(function(err, db) {","        if(err) {","            self.HBASE_POOL.release(db);","            logger.error(pageurl+', data connect to hbase error: '+err);","            self.redis_cli2.zadd('stuck:'+urllib,(new Date()).getTime(),pageurl,function(err,result){","                if(err)throw err;","                logger.debug('append '+pageurl+' to stuck record');","                if(callback)callback(err);","            });","        }else{","            db.put(this.HBASE_BIN_TABLE, put, function (err,res) {","                self.HBASE_POOL.release(db);","                if(err){","                    logger.error(pageurl+', data insert to hbase error: '+err);","                    self.redis_cli2.zadd('stuck:'+urllib,(new Date()).getTime(),pageurl,function(err,result){","                        if(err)throw err;","                        logger.debug('append '+pageurl+' to stuck record');","                        if(callback)callback(err);","                    });","                }else{","                    logger.info(pageurl+', data insert to hbase cost '+((new Date()).getTime()-start_time)+' ms');","                    self.redis_cli2.zrem('stuck:'+urllib,pageurl,function(err,result){","                        if(err)throw err;","                        logger.debug('remove '+pageurl+' from stuck record');","                        if(callback)callback(err);","                    });","                }","            });","        }","    });","}","","/**"," * save binary to hbase via http"," * @param pageurl"," * @param content"," * @param referer"," * @param urllib"," * @param drill_relation"," * @param callback"," */","pipeline.prototype.save_binary_vhttp = function(pageurl,content,referer,urllib,drill_relation,callback){","    var url_hash = crypto.createHash('md5').update(pageurl+'').digest('hex');","    var spider = os.hostname()+'-'+process.pid;","    var start_time = (new Date()).getTime();","    var self = this;","","    var keylist = [","        'basic:spider',","        'basic:url',","        'basic:updated'","    ];","    var valuelist = [","        spider,","        pageurl,","        (new Date()).getTime().toString()","    ];","","    if(referer){","        keylist.push('basic:referer');","        valuelist.push(referer);","    }","","    if(urllib){","        keylist.push('basic:urllib');","        valuelist.push(urllib);","    }","","    if(drill_relation){","        keylist.push('basic:drill_relation');","        valuelist.push(drill_relation);","    }","","    if(content){","        keylist.push('binary:file');","        valuelist.push(content);","    }","","    var row = this.HBASE_BIN_TABLE.getRow(url_hash);","    try{","        row.put(keylist,valuelist,function(err,success){","            logger.info('insert content extracted from '+pageurl+', cost: '+((new Date()).getTime() - start_time)+' ms');","            if(err){","                logger.error(pageurl+', data insert to hbase error: '+err);","                self.redis_cli2.zadd('stuck:'+urllib,(new Date()).getTime(),pageurl,function(err,result){","                    if(err)throw err;","                    logger.debug('append '+pageurl+' to stuck record');","                    if(callback)callback(err);","                });","            }else{","                logger.info(pageurl+', data insert to hbase cost '+((new Date()).getTime()-start_time)+' ms');","                self.redis_cli2.zrem('stuck:'+urllib,pageurl,function(err,result){","                    if(err)throw err;","                    logger.debug('remove '+pageurl+' from stuck record');","                    if(callback)callback(err);","                });","            }","        });","    }catch(e){","        logger.error(pageurl+', data insert to hbase error(2): '+e);","        self.redis_cli2.zadd('stuck:'+urllib,(new Date()).getTime(),pageurl,function(err,result){","            if(err)throw err;","            logger.debug('append '+pageurl+' to stuck record');","            if(callback)callback(err);","        });","    }","}","","/**"," * pipeline save entrance"," * @param extracted_info"," */","pipeline.prototype.save =function(extracted_info,callback){","    var pipeline = this;","    if(this.spiderCore.settings['test']){","        var fs = require('fs');","        var path = require('path');","        if(extracted_info['origin']['format']=='binary'){","            var dumpfile = path.join(__dirname,'..', 'instance',this.spiderCore.settings['instance'],'logs','dumpfile.jpg');","            fs.writeFile(dumpfile,extracted_info['content'],'utf8',function(err){","                if (err)throw err;","                logger.debug('Crawling file saved, '+dumpfile);","                if(callback)callback(true);","            });","        }else{","            var htmlfile = path.join(__dirname,'..', 'instance',this.spiderCore.settings['instance'],'logs','debug-page.html');","            var resultfile = path.join(__dirname,'..', 'instance',this.spiderCore.settings['instance'],'logs','debug-result.json');","            fs.writeFile(htmlfile,extracted_info['content'],'utf8', function (err) {","                if (err)throw err;","                logger.debug('Content saved, '+htmlfile);","                delete extracted_info['content'];","                fs.writeFile(resultfile,JSON.stringify(extracted_info),'utf8',function(err){","                    if (err)throw err;","                    logger.debug('Crawling result saved, '+resultfile);","                    if(callback)callback(true);","                    else process.exit(0);","                });","            });","        }","    }else{","        async.series([","                function(cb){","                    if(extracted_info['drill_link'])pipeline.save_links(extracted_info['url'],extracted_info['origin']['version'],extracted_info['drill_link'],extracted_info['drill_relation'],cb);","                    else cb(null);","                },","                function(cb){","                    if(pipeline.spiderCore.settings['save_content_to_hbase']===true&&extracted_info['origin']['type']=='node'){//type must be node","                        if(extracted_info['origin']['format']=='binary'){","                            pipeline.save_binary(extracted_info['url'],extracted_info['content'],extracted_info['origin']['referer'],extracted_info['origin']['urllib'],extracted_info['drill_relation'],cb);","                        }else{","                            var html_content = extracted_info['content'];","                            if(!extracted_info['origin']['save_page'])html_content = false;","                            pipeline.save_content(","                                extracted_info['url'],","                                html_content,","                                extracted_info['extracted_data'],","                                extracted_info['js_result'],","                                extracted_info['origin']['referer'],","                                extracted_info['origin']['urllib'],","                                extracted_info['drill_relation'],","                                function(s_err){","\t\t\t\t\t                if(!s_err && 'save_content_alert' in pipeline.spiderCore.spider_extend)pipeline.spiderCore.spider_extend.save_content_alert(extracted_info);//report","\t\t\t\t\t                cb(s_err);","\t\t\t\t            });","                        }","                    }else cb(null);","                },","                function(cb){","                    if('pipeline' in pipeline.spiderCore.spider_extend)pipeline.spiderCore.spider_extend.pipeline(extracted_info,cb);//spider extend","                    else cb(null);","                }","             ],","            function(err, results){","                logger.info(extracted_info['url']+', pipeline completed');","                callback(err);","            });","    }","}","","module.exports = pipeline;",""],"l":{"5":2,"6":2,"7":2,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"17":0,"18":0,"19":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"33":0,"34":0,"36":0,"39":0,"40":0,"43":0,"44":0,"51":0,"52":0,"56":0,"57":0,"58":0,"59":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"86":0,"87":0,"89":0,"90":0,"91":0,"93":0,"94":0,"96":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"112":0,"113":0,"116":0,"120":0,"121":0,"122":0,"123":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"136":0,"137":0,"138":0,"139":0,"141":0,"142":0,"144":0,"145":0,"146":0,"148":0,"149":0,"150":0,"152":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"163":0,"165":0,"166":0,"167":0,"168":0,"169":0,"171":0,"174":0,"184":0,"185":0,"187":0,"188":0,"189":0,"190":0,"196":0,"197":0,"198":0,"199":0,"200":0,"202":0,"205":0,"206":0,"211":0,"212":0,"218":0,"219":0,"230":0,"231":0,"233":0,"234":0,"235":0,"236":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"245":0,"246":0,"249":0,"250":0,"253":0,"254":0,"255":0,"256":0,"261":0,"262":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"285":0,"286":0,"287":0,"288":0,"289":0,"307":0,"308":0,"309":0,"310":0,"311":0,"318":0,"319":0,"321":0,"322":0,"323":0,"326":0,"327":0,"328":0,"331":0,"332":0,"333":0,"336":0,"337":0,"338":0,"341":0,"342":0,"343":0,"344":0,"345":0,"351":0,"352":0,"353":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"363":0,"364":0,"367":0,"368":0,"369":0,"370":0,"371":0,"379":0,"380":0,"381":0,"382":0,"383":0,"388":0,"389":0,"391":0,"392":0,"393":0,"394":0,"396":0,"397":0,"398":0,"399":0,"400":0,"401":0,"402":0,"404":0,"405":0,"406":0,"407":0,"408":0,"409":0,"410":0,"411":0,"414":0,"415":0,"416":0,"417":0,"418":0,"419":0,"420":0,"421":0,"424":0,"425":0,"426":0,"427":0,"428":0,"445":0,"446":0,"447":0,"448":0,"449":0,"451":0,"456":0,"462":0,"463":0,"464":0,"467":0,"468":0,"469":0,"472":0,"473":0,"474":0,"477":0,"478":0,"479":0,"482":0,"483":0,"484":0,"485":0,"486":0,"487":0,"488":0,"489":0,"490":0,"491":0,"494":0,"495":0,"496":0,"497":0,"498":0,"503":0,"504":0,"505":0,"506":0,"507":0,"516":0,"517":0,"518":0,"519":0,"520":0,"521":0,"522":0,"523":0,"524":0,"525":0,"526":0,"529":0,"530":0,"531":0,"532":0,"533":0,"534":0,"535":0,"536":0,"537":0,"538":0,"539":0,"544":0,"546":0,"547":0,"550":0,"551":0,"552":0,"554":0,"555":0,"556":0,"565":0,"566":0,"569":0,"572":0,"573":0,"577":0,"578":0,"583":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/node_hbase/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/node_hbase/index.js","s":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":2,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{},"f":{"1":2,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":1},"end":{"line":2,"column":12}}},"2":{"name":"(anonymous_2)","line":3,"loc":{"start":{"line":3,"column":19},"end":{"line":3,"column":37}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":23,"column":14}},"2":{"start":{"line":3,"column":2},"end":{"line":7,"column":4}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":15}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":37}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":31}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":44}},"7":{"start":{"line":11,"column":2},"end":{"line":11,"column":44}},"8":{"start":{"line":13,"column":2},"end":{"line":13,"column":50}},"9":{"start":{"line":15,"column":2},"end":{"line":15,"column":56}},"10":{"start":{"line":17,"column":2},"end":{"line":17,"column":51}},"11":{"start":{"line":19,"column":2},"end":{"line":19,"column":59}},"12":{"start":{"line":21,"column":2},"end":{"line":21,"column":48}}},"branchMap":{},"code":["// Generated by CoffeeScript 1.8.0","(function() {","  module.exports = function(options) {","    var Client;","    Client = require('./lib/client');","    return new Client(options);","  };","","  module.exports.Put = require('./lib/put');","","  module.exports.Get = require('./lib/get');","","  module.exports.Delete = require('./lib/delete');","","  module.exports.Increment = require('./lib/increment');","","  module.exports.Scan = require('./lib/scan').Scan;","","  module.exports.FilterList = require('./lib/filter-list');","","  module.exports.utils = require('./lib/utils');","","}).call(this);",""],"l":{"2":2,"3":2,"4":0,"5":0,"6":0,"9":2,"11":0,"13":0,"15":0,"17":0,"19":0,"21":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/node_hbase/lib/put.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/node_hbase/lib/put.js","s":{"1":2,"2":2,"3":0,"4":0,"5":2,"6":2,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":1},"end":{"line":2,"column":12}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":13},"end":{"line":4,"column":29}}},"3":{"name":"(anonymous_3)","line":4,"loc":{"start":{"line":4,"column":38},"end":{"line":4,"column":48}}},"4":{"name":"(anonymous_4)","line":16,"loc":{"start":{"line":16,"column":26},"end":{"line":16,"column":37}}},"5":{"name":"Put","line":17,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":26}}},"6":{"name":"(anonymous_6)","line":26,"loc":{"start":{"line":26,"column":24},"end":{"line":26,"column":66}}},"7":{"name":"(anonymous_7)","line":44,"loc":{"start":{"line":44,"column":30},"end":{"line":44,"column":41}}},"8":{"name":"(anonymous_8)","line":62,"loc":{"start":{"line":62,"column":27},"end":{"line":62,"column":38}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":70,"column":14}},"2":{"start":{"line":3,"column":2},"end":{"line":4,"column":87}},"3":{"start":{"line":4,"column":31},"end":{"line":4,"column":84}},"4":{"start":{"line":4,"column":50},"end":{"line":4,"column":81}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":35}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":61}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":43}},"8":{"start":{"line":12,"column":2},"end":{"line":12,"column":78}},"9":{"start":{"line":14,"column":2},"end":{"line":14,"column":26}},"10":{"start":{"line":16,"column":2},"end":{"line":68,"column":7}},"11":{"start":{"line":17,"column":4},"end":{"line":24,"column":5}},"12":{"start":{"line":18,"column":6},"end":{"line":18,"column":21}},"13":{"start":{"line":19,"column":6},"end":{"line":19,"column":19}},"14":{"start":{"line":20,"column":6},"end":{"line":20,"column":46}},"15":{"start":{"line":21,"column":6},"end":{"line":21,"column":52}},"16":{"start":{"line":22,"column":6},"end":{"line":22,"column":40}},"17":{"start":{"line":23,"column":6},"end":{"line":23,"column":26}},"18":{"start":{"line":26,"column":4},"end":{"line":42,"column":6}},"19":{"start":{"line":27,"column":6},"end":{"line":27,"column":16}},"20":{"start":{"line":28,"column":6},"end":{"line":30,"column":7}},"21":{"start":{"line":29,"column":8},"end":{"line":29,"column":28}},"22":{"start":{"line":31,"column":6},"end":{"line":33,"column":7}},"23":{"start":{"line":32,"column":8},"end":{"line":32,"column":46}},"24":{"start":{"line":34,"column":6},"end":{"line":36,"column":7}},"25":{"start":{"line":35,"column":8},"end":{"line":35,"column":23}},"26":{"start":{"line":37,"column":6},"end":{"line":41,"column":9}},"27":{"start":{"line":44,"column":4},"end":{"line":60,"column":6}},"28":{"start":{"line":45,"column":6},"end":{"line":45,"column":38}},"29":{"start":{"line":46,"column":6},"end":{"line":50,"column":8}},"30":{"start":{"line":51,"column":6},"end":{"line":51,"column":28}},"31":{"start":{"line":52,"column":6},"end":{"line":58,"column":7}},"32":{"start":{"line":53,"column":8},"end":{"line":53,"column":34}},"33":{"start":{"line":54,"column":8},"end":{"line":57,"column":11}},"34":{"start":{"line":59,"column":6},"end":{"line":59,"column":15}},"35":{"start":{"line":62,"column":4},"end":{"line":64,"column":6}},"36":{"start":{"line":63,"column":6},"end":{"line":63,"column":22}},"37":{"start":{"line":66,"column":4},"end":{"line":66,"column":15}}},"branchMap":{"1":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":6},"end":{"line":28,"column":6}},{"start":{"line":28,"column":6},"end":{"line":28,"column":6}}]},"2":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":6},"end":{"line":31,"column":6}},{"start":{"line":31,"column":6},"end":{"line":31,"column":6}}]},"3":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":6},"end":{"line":34,"column":6}},{"start":{"line":34,"column":6},"end":{"line":34,"column":6}}]}},"code":["// Generated by CoffeeScript 1.8.0","(function() {","  var ByteBuffer, ProtoBuf, Put, builder, proto,","    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };","","  ProtoBuf = require(\"protobufjs\");","","  ByteBuffer = require('protobufjs/node_modules/bytebuffer');","","  ProtoBuf.convertFieldsToCamelCase = true;","","  builder = ProtoBuf.loadProtoFile(\"\" + __dirname + \"/../proto/Client.proto\");","","  proto = builder.build();","","  module.exports = Put = (function() {","    function Put(row, ts) {","      this.row = row;","      this.ts = ts;","      this.getRow = __bind(this.getRow, this);","      this.getFields = __bind(this.getFields, this);","      this.add = __bind(this.add, this);","      this.familyMap = {};","    }","","    Put.prototype.add = function(cf, qualifier, value, timestamp) {","      var _base;","      if (timestamp == null) {","        timestamp = this.ts;","      }","      if (timestamp == null) {","        timestamp = ByteBuffer.Long.MAX_VALUE;","      }","      if ((_base = this.familyMap)[cf] == null) {","        _base[cf] = [];","      }","      return this.familyMap[cf].push({","        qualifier: qualifier,","        value: value,","        timestamp: timestamp","      });","    };","","    Put.prototype.getFields = function() {","      var cf, o, qualifierValue, _ref;","      o = {","        row: this.row,","        mutateType: \"PUT\",","        columnValue: []","      };","      _ref = this.familyMap;","      for (cf in _ref) {","        qualifierValue = _ref[cf];","        o.columnValue.push({","          family: cf,","          qualifierValue: qualifierValue","        });","      }","      return o;","    };","","    Put.prototype.getRow = function() {","      return this.row;","    };","","    return Put;","","  })();","","}).call(this);",""],"l":{"2":2,"3":2,"4":0,"6":2,"8":2,"10":0,"12":0,"14":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"26":0,"27":0,"28":0,"29":0,"31":0,"32":0,"34":0,"35":0,"37":0,"44":0,"45":0,"46":0,"51":0,"52":0,"53":0,"54":0,"59":0,"62":0,"63":0,"66":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/spider/spider.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/spider/spider.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":1,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":1,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":1,"153":0,"154":0,"155":0,"156":0,"157":1,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":1,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":1,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":1,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0,0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":13},"end":{"line":12,"column":33}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":28},"end":{"line":21,"column":46}}},"3":{"name":"(anonymous_3)","line":26,"loc":{"start":{"line":26,"column":8},"end":{"line":26,"column":20}}},"4":{"name":"(anonymous_4)","line":32,"loc":{"start":{"line":32,"column":16},"end":{"line":32,"column":33}}},"5":{"name":"(anonymous_5)","line":37,"loc":{"start":{"line":37,"column":8},"end":{"line":37,"column":20}}},"6":{"name":"(anonymous_6)","line":43,"loc":{"start":{"line":43,"column":16},"end":{"line":43,"column":33}}},"7":{"name":"(anonymous_7)","line":48,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":20}}},"8":{"name":"(anonymous_8)","line":54,"loc":{"start":{"line":54,"column":16},"end":{"line":54,"column":33}}},"9":{"name":"(anonymous_9)","line":59,"loc":{"start":{"line":59,"column":6},"end":{"line":59,"column":26}}},"10":{"name":"(anonymous_10)","line":67,"loc":{"start":{"line":67,"column":38},"end":{"line":67,"column":51}}},"11":{"name":"(anonymous_11)","line":87,"loc":{"start":{"line":87,"column":39},"end":{"line":87,"column":49}}},"12":{"name":"(anonymous_12)","line":90,"loc":{"start":{"line":90,"column":45},"end":{"line":90,"column":64}}},"13":{"name":"(anonymous_13)","line":94,"loc":{"start":{"line":94,"column":44},"end":{"line":94,"column":64}}},"14":{"name":"(anonymous_14)","line":105,"loc":{"start":{"line":105,"column":27},"end":{"line":105,"column":37}}},"15":{"name":"(anonymous_15)","line":110,"loc":{"start":{"line":110,"column":33},"end":{"line":110,"column":46}}},"16":{"name":"(anonymous_16)","line":113,"loc":{"start":{"line":113,"column":27},"end":{"line":113,"column":46}}},"17":{"name":"(anonymous_17)","line":126,"loc":{"start":{"line":126,"column":23},"end":{"line":126,"column":33}}},"18":{"name":"(anonymous_18)","line":136,"loc":{"start":{"line":136,"column":34},"end":{"line":136,"column":51}}},"19":{"name":"(anonymous_19)","line":152,"loc":{"start":{"line":152,"column":35},"end":{"line":152,"column":47}}},"20":{"name":"(anonymous_20)","line":165,"loc":{"start":{"line":165,"column":31},"end":{"line":165,"column":49}}},"21":{"name":"(anonymous_21)","line":185,"loc":{"start":{"line":185,"column":52},"end":{"line":185,"column":71}}},"22":{"name":"(anonymous_22)","line":193,"loc":{"start":{"line":193,"column":50},"end":{"line":193,"column":74}}},"23":{"name":"(anonymous_23)","line":211,"loc":{"start":{"line":211,"column":66},"end":{"line":211,"column":79}}},"24":{"name":"(anonymous_24)","line":257,"loc":{"start":{"line":257,"column":30},"end":{"line":257,"column":46}}},"25":{"name":"(anonymous_25)","line":260,"loc":{"start":{"line":260,"column":8},"end":{"line":260,"column":19}}},"26":{"name":"(anonymous_26)","line":264,"loc":{"start":{"line":264,"column":8},"end":{"line":264,"column":21}}},"27":{"name":"(anonymous_27)","line":265,"loc":{"start":{"line":265,"column":31},"end":{"line":265,"column":44}}},"28":{"name":"(anonymous_28)","line":271,"loc":{"start":{"line":271,"column":8},"end":{"line":271,"column":22}}},"29":{"name":"(anonymous_29)","line":282,"loc":{"start":{"line":282,"column":39},"end":{"line":282,"column":55}}},"30":{"name":"(anonymous_30)","line":292,"loc":{"start":{"line":292,"column":30},"end":{"line":292,"column":44}}},"31":{"name":"(anonymous_31)","line":317,"loc":{"start":{"line":317,"column":28},"end":{"line":317,"column":42}}},"32":{"name":"(anonymous_32)","line":350,"loc":{"start":{"line":350,"column":30},"end":{"line":350,"column":47}}},"33":{"name":"(anonymous_33)","line":367,"loc":{"start":{"line":367,"column":91},"end":{"line":367,"column":111}}},"34":{"name":"(anonymous_34)","line":380,"loc":{"start":{"line":380,"column":35},"end":{"line":380,"column":64}}},"35":{"name":"(anonymous_35)","line":383,"loc":{"start":{"line":383,"column":36},"end":{"line":383,"column":59}}},"36":{"name":"(anonymous_36)","line":401,"loc":{"start":{"line":401,"column":20},"end":{"line":401,"column":32}}},"37":{"name":"(anonymous_37)","line":402,"loc":{"start":{"line":402,"column":172},"end":{"line":402,"column":195}}},"38":{"name":"(anonymous_38)","line":408,"loc":{"start":{"line":408,"column":20},"end":{"line":408,"column":32}}},"39":{"name":"(anonymous_39)","line":410,"loc":{"start":{"line":410,"column":83},"end":{"line":410,"column":103}}},"40":{"name":"(anonymous_40)","line":417,"loc":{"start":{"line":417,"column":16},"end":{"line":417,"column":38}}},"41":{"name":"(anonymous_41)","line":435,"loc":{"start":{"line":435,"column":24},"end":{"line":435,"column":36}}},"42":{"name":"(anonymous_42)","line":436,"loc":{"start":{"line":436,"column":68},"end":{"line":436,"column":88}}},"43":{"name":"(anonymous_43)","line":442,"loc":{"start":{"line":442,"column":24},"end":{"line":442,"column":36}}},"44":{"name":"(anonymous_44)","line":444,"loc":{"start":{"line":444,"column":85},"end":{"line":444,"column":105}}},"45":{"name":"(anonymous_45)","line":451,"loc":{"start":{"line":451,"column":20},"end":{"line":451,"column":42}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":26}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":29}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":43}},"6":{"start":{"line":12,"column":0},"end":{"line":18,"column":1}},"7":{"start":{"line":13,"column":4},"end":{"line":13,"column":33}},"8":{"start":{"line":14,"column":4},"end":{"line":14,"column":26}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":35}},"10":{"start":{"line":16,"column":4},"end":{"line":16,"column":28}},"11":{"start":{"line":17,"column":4},"end":{"line":17,"column":40}},"12":{"start":{"line":21,"column":0},"end":{"line":62,"column":1}},"13":{"start":{"line":22,"column":4},"end":{"line":22,"column":20}},"14":{"start":{"line":23,"column":4},"end":{"line":23,"column":25}},"15":{"start":{"line":24,"column":4},"end":{"line":24,"column":60}},"16":{"start":{"line":24,"column":44},"end":{"line":24,"column":60}},"17":{"start":{"line":25,"column":4},"end":{"line":61,"column":7}},"18":{"start":{"line":27,"column":12},"end":{"line":35,"column":19}},"19":{"start":{"line":33,"column":20},"end":{"line":33,"column":42}},"20":{"start":{"line":34,"column":20},"end":{"line":34,"column":28}},"21":{"start":{"line":38,"column":12},"end":{"line":46,"column":19}},"22":{"start":{"line":44,"column":20},"end":{"line":44,"column":42}},"23":{"start":{"line":45,"column":20},"end":{"line":45,"column":28}},"24":{"start":{"line":49,"column":12},"end":{"line":57,"column":19}},"25":{"start":{"line":55,"column":20},"end":{"line":55,"column":42}},"26":{"start":{"line":56,"column":20},"end":{"line":56,"column":28}},"27":{"start":{"line":60,"column":8},"end":{"line":60,"column":42}},"28":{"start":{"line":60,"column":20},"end":{"line":60,"column":42}},"29":{"start":{"line":67,"column":0},"end":{"line":84,"column":1}},"30":{"start":{"line":68,"column":4},"end":{"line":68,"column":21}},"31":{"start":{"line":69,"column":4},"end":{"line":69,"column":50}},"32":{"start":{"line":70,"column":4},"end":{"line":82,"column":5}},"33":{"start":{"line":71,"column":8},"end":{"line":81,"column":9}},"34":{"start":{"line":72,"column":12},"end":{"line":80,"column":38}},"35":{"start":{"line":73,"column":16},"end":{"line":73,"column":48}},"36":{"start":{"line":74,"column":18},"end":{"line":80,"column":38}},"37":{"start":{"line":75,"column":16},"end":{"line":75,"column":46}},"38":{"start":{"line":76,"column":18},"end":{"line":80,"column":38}},"39":{"start":{"line":77,"column":16},"end":{"line":77,"column":34}},"40":{"start":{"line":78,"column":18},"end":{"line":80,"column":38}},"41":{"start":{"line":79,"column":16},"end":{"line":79,"column":35}},"42":{"start":{"line":80,"column":18},"end":{"line":80,"column":38}},"43":{"start":{"line":83,"column":4},"end":{"line":83,"column":19}},"44":{"start":{"line":87,"column":0},"end":{"line":108,"column":1}},"45":{"start":{"line":88,"column":4},"end":{"line":88,"column":20}},"46":{"start":{"line":89,"column":4},"end":{"line":89,"column":36}},"47":{"start":{"line":90,"column":8},"end":{"line":107,"column":10}},"48":{"start":{"line":91,"column":12},"end":{"line":91,"column":31}},"49":{"start":{"line":91,"column":20},"end":{"line":91,"column":31}},"50":{"start":{"line":92,"column":12},"end":{"line":106,"column":13}},"51":{"start":{"line":93,"column":16},"end":{"line":93,"column":56}},"52":{"start":{"line":94,"column":16},"end":{"line":101,"column":19}},"53":{"start":{"line":95,"column":20},"end":{"line":95,"column":39}},"54":{"start":{"line":95,"column":28},"end":{"line":95,"column":39}},"55":{"start":{"line":96,"column":20},"end":{"line":96,"column":48}},"56":{"start":{"line":97,"column":20},"end":{"line":97,"column":66}},"57":{"start":{"line":98,"column":20},"end":{"line":100,"column":21}},"58":{"start":{"line":99,"column":24},"end":{"line":99,"column":54}},"59":{"start":{"line":102,"column":16},"end":{"line":102,"column":59}},"60":{"start":{"line":104,"column":16},"end":{"line":104,"column":95}},"61":{"start":{"line":105,"column":16},"end":{"line":105,"column":130}},"62":{"start":{"line":105,"column":38},"end":{"line":105,"column":65}},"63":{"start":{"line":110,"column":0},"end":{"line":129,"column":1}},"64":{"start":{"line":111,"column":4},"end":{"line":111,"column":20}},"65":{"start":{"line":112,"column":4},"end":{"line":112,"column":36}},"66":{"start":{"line":113,"column":4},"end":{"line":128,"column":7}},"67":{"start":{"line":114,"column":8},"end":{"line":114,"column":73}},"68":{"start":{"line":114,"column":45},"end":{"line":114,"column":73}},"69":{"start":{"line":115,"column":8},"end":{"line":115,"column":123}},"70":{"start":{"line":116,"column":8},"end":{"line":120,"column":68}},"71":{"start":{"line":117,"column":12},"end":{"line":117,"column":43}},"72":{"start":{"line":118,"column":12},"end":{"line":118,"column":114}},"73":{"start":{"line":118,"column":69},"end":{"line":118,"column":114}},"74":{"start":{"line":119,"column":12},"end":{"line":119,"column":101}},"75":{"start":{"line":120,"column":14},"end":{"line":120,"column":68}},"76":{"start":{"line":121,"column":8},"end":{"line":121,"column":40}},"77":{"start":{"line":122,"column":8},"end":{"line":127,"column":9}},"78":{"start":{"line":123,"column":12},"end":{"line":123,"column":56}},"79":{"start":{"line":125,"column":12},"end":{"line":125,"column":76}},"80":{"start":{"line":126,"column":12},"end":{"line":126,"column":126}},"81":{"start":{"line":126,"column":34},"end":{"line":126,"column":61}},"82":{"start":{"line":136,"column":0},"end":{"line":146,"column":1}},"83":{"start":{"line":137,"column":4},"end":{"line":137,"column":35}},"84":{"start":{"line":138,"column":4},"end":{"line":138,"column":16}},"85":{"start":{"line":139,"column":4},"end":{"line":139,"column":40}},"86":{"start":{"line":139,"column":32},"end":{"line":139,"column":40}},"87":{"start":{"line":140,"column":4},"end":{"line":145,"column":5}},"88":{"start":{"line":141,"column":8},"end":{"line":141,"column":76}},"89":{"start":{"line":143,"column":8},"end":{"line":143,"column":98}},"90":{"start":{"line":144,"column":8},"end":{"line":144,"column":21}},"91":{"start":{"line":152,"column":0},"end":{"line":162,"column":1}},"92":{"start":{"line":153,"column":4},"end":{"line":153,"column":35}},"93":{"start":{"line":154,"column":4},"end":{"line":154,"column":16}},"94":{"start":{"line":155,"column":4},"end":{"line":155,"column":40}},"95":{"start":{"line":155,"column":32},"end":{"line":155,"column":40}},"96":{"start":{"line":156,"column":4},"end":{"line":161,"column":5}},"97":{"start":{"line":157,"column":8},"end":{"line":157,"column":70}},"98":{"start":{"line":159,"column":8},"end":{"line":159,"column":87}},"99":{"start":{"line":160,"column":8},"end":{"line":160,"column":20}},"100":{"start":{"line":165,"column":0},"end":{"line":252,"column":1}},"101":{"start":{"line":182,"column":4},"end":{"line":182,"column":22}},"102":{"start":{"line":183,"column":4},"end":{"line":183,"column":43}},"103":{"start":{"line":184,"column":4},"end":{"line":184,"column":43}},"104":{"start":{"line":185,"column":8},"end":{"line":251,"column":11}},"105":{"start":{"line":187,"column":12},"end":{"line":191,"column":13}},"106":{"start":{"line":188,"column":16},"end":{"line":188,"column":93}},"107":{"start":{"line":189,"column":16},"end":{"line":189,"column":120}},"108":{"start":{"line":189,"column":71},"end":{"line":189,"column":120}},"109":{"start":{"line":190,"column":16},"end":{"line":190,"column":53}},"110":{"start":{"line":190,"column":29},"end":{"line":190,"column":45}},"111":{"start":{"line":190,"column":45},"end":{"line":190,"column":52}},"112":{"start":{"line":192,"column":16},"end":{"line":192,"column":83}},"113":{"start":{"line":193,"column":16},"end":{"line":249,"column":19}},"114":{"start":{"line":195,"column":20},"end":{"line":195,"column":38}},"115":{"start":{"line":195,"column":27},"end":{"line":195,"column":38}},"116":{"start":{"line":196,"column":20},"end":{"line":247,"column":21}},"117":{"start":{"line":197,"column":24},"end":{"line":197,"column":95}},"118":{"start":{"line":198,"column":24},"end":{"line":198,"column":60}},"119":{"start":{"line":199,"column":24},"end":{"line":203,"column":25}},"120":{"start":{"line":199,"column":41},"end":{"line":199,"column":89}},"121":{"start":{"line":201,"column":28},"end":{"line":201,"column":93}},"122":{"start":{"line":202,"column":28},"end":{"line":202,"column":57}},"123":{"start":{"line":205,"column":24},"end":{"line":246,"column":25}},"124":{"start":{"line":206,"column":28},"end":{"line":206,"column":73}},"125":{"start":{"line":207,"column":28},"end":{"line":207,"column":57}},"126":{"start":{"line":209,"column":28},"end":{"line":209,"column":89}},"127":{"start":{"line":210,"column":32},"end":{"line":245,"column":33}},"128":{"start":{"line":211,"column":36},"end":{"line":219,"column":39}},"129":{"start":{"line":212,"column":40},"end":{"line":212,"column":95}},"130":{"start":{"line":213,"column":40},"end":{"line":213,"column":76}},"131":{"start":{"line":214,"column":40},"end":{"line":218,"column":41}},"132":{"start":{"line":214,"column":57},"end":{"line":214,"column":105}},"133":{"start":{"line":216,"column":44},"end":{"line":216,"column":158}},"134":{"start":{"line":217,"column":44},"end":{"line":217,"column":73}},"135":{"start":{"line":221,"column":36},"end":{"line":241,"column":37}},"136":{"start":{"line":242,"column":36},"end":{"line":242,"column":66}},"137":{"start":{"line":243,"column":36},"end":{"line":243,"column":84}},"138":{"start":{"line":244,"column":36},"end":{"line":244,"column":63}},"139":{"start":{"line":244,"column":48},"end":{"line":244,"column":63}},"140":{"start":{"line":257,"column":0},"end":{"line":275,"column":1}},"141":{"start":{"line":258,"column":4},"end":{"line":258,"column":24}},"142":{"start":{"line":259,"column":4},"end":{"line":274,"column":6}},"143":{"start":{"line":261,"column":12},"end":{"line":261,"column":70}},"144":{"start":{"line":262,"column":12},"end":{"line":262,"column":110}},"145":{"start":{"line":265,"column":12},"end":{"line":269,"column":15}},"146":{"start":{"line":266,"column":16},"end":{"line":267,"column":36}},"147":{"start":{"line":266,"column":30},"end":{"line":266,"column":52}},"148":{"start":{"line":267,"column":21},"end":{"line":267,"column":36}},"149":{"start":{"line":268,"column":16},"end":{"line":268,"column":21}},"150":{"start":{"line":272,"column":12},"end":{"line":272,"column":61}},"151":{"start":{"line":272,"column":19},"end":{"line":272,"column":61}},"152":{"start":{"line":282,"column":0},"end":{"line":286,"column":1}},"153":{"start":{"line":283,"column":4},"end":{"line":283,"column":32}},"154":{"start":{"line":284,"column":4},"end":{"line":285,"column":39}},"155":{"start":{"line":284,"column":21},"end":{"line":284,"column":35}},"156":{"start":{"line":285,"column":9},"end":{"line":285,"column":39}},"157":{"start":{"line":292,"column":0},"end":{"line":311,"column":1}},"158":{"start":{"line":293,"column":4},"end":{"line":293,"column":33}},"159":{"start":{"line":294,"column":4},"end":{"line":294,"column":20}},"160":{"start":{"line":295,"column":4},"end":{"line":295,"column":62}},"161":{"start":{"line":296,"column":4},"end":{"line":309,"column":5}},"162":{"start":{"line":297,"column":8},"end":{"line":297,"column":47}},"163":{"start":{"line":298,"column":8},"end":{"line":308,"column":9}},"164":{"start":{"line":299,"column":12},"end":{"line":307,"column":13}},"165":{"start":{"line":301,"column":16},"end":{"line":301,"column":59}},"166":{"start":{"line":302,"column":16},"end":{"line":302,"column":51}},"167":{"start":{"line":303,"column":16},"end":{"line":306,"column":17}},"168":{"start":{"line":304,"column":20},"end":{"line":304,"column":53}},"169":{"start":{"line":305,"column":20},"end":{"line":305,"column":26}},"170":{"start":{"line":310,"column":4},"end":{"line":310,"column":18}},"171":{"start":{"line":317,"column":0},"end":{"line":345,"column":1}},"172":{"start":{"line":318,"column":4},"end":{"line":318,"column":24}},"173":{"start":{"line":319,"column":4},"end":{"line":319,"column":40}},"174":{"start":{"line":320,"column":4},"end":{"line":343,"column":5}},"175":{"start":{"line":321,"column":8},"end":{"line":321,"column":45}},"176":{"start":{"line":322,"column":8},"end":{"line":322,"column":77}},"177":{"start":{"line":323,"column":8},"end":{"line":342,"column":9}},"178":{"start":{"line":344,"column":4},"end":{"line":344,"column":20}},"179":{"start":{"line":350,"column":0},"end":{"line":372,"column":1}},"180":{"start":{"line":351,"column":4},"end":{"line":351,"column":22}},"181":{"start":{"line":352,"column":4},"end":{"line":352,"column":23}},"182":{"start":{"line":353,"column":4},"end":{"line":355,"column":5}},"183":{"start":{"line":354,"column":8},"end":{"line":354,"column":66}},"184":{"start":{"line":356,"column":4},"end":{"line":356,"column":22}},"185":{"start":{"line":357,"column":4},"end":{"line":357,"column":53}},"186":{"start":{"line":357,"column":24},"end":{"line":357,"column":53}},"187":{"start":{"line":359,"column":4},"end":{"line":371,"column":5}},"188":{"start":{"line":360,"column":8},"end":{"line":360,"column":39}},"189":{"start":{"line":361,"column":8},"end":{"line":361,"column":90}},"190":{"start":{"line":362,"column":8},"end":{"line":362,"column":56}},"191":{"start":{"line":363,"column":8},"end":{"line":363,"column":125}},"192":{"start":{"line":363,"column":66},"end":{"line":363,"column":125}},"193":{"start":{"line":365,"column":8},"end":{"line":365,"column":65}},"194":{"start":{"line":366,"column":8},"end":{"line":366,"column":103}},"195":{"start":{"line":367,"column":8},"end":{"line":369,"column":11}},"196":{"start":{"line":368,"column":12},"end":{"line":368,"column":50}},"197":{"start":{"line":370,"column":8},"end":{"line":370,"column":123}},"198":{"start":{"line":370,"column":65},"end":{"line":370,"column":123}},"199":{"start":{"line":380,"column":0},"end":{"line":460,"column":1}},"200":{"start":{"line":381,"column":4},"end":{"line":381,"column":22}},"201":{"start":{"line":382,"column":4},"end":{"line":382,"column":73}},"202":{"start":{"line":383,"column":4},"end":{"line":459,"column":7}},"203":{"start":{"line":384,"column":8},"end":{"line":388,"column":9}},"204":{"start":{"line":385,"column":12},"end":{"line":385,"column":67}},"205":{"start":{"line":386,"column":12},"end":{"line":386,"column":38}},"206":{"start":{"line":386,"column":24},"end":{"line":386,"column":38}},"207":{"start":{"line":387,"column":12},"end":{"line":387,"column":19}},"208":{"start":{"line":389,"column":8},"end":{"line":458,"column":9}},"209":{"start":{"line":390,"column":12},"end":{"line":390,"column":48}},"210":{"start":{"line":391,"column":12},"end":{"line":391,"column":29}},"211":{"start":{"line":392,"column":12},"end":{"line":398,"column":13}},"212":{"start":{"line":393,"column":16},"end":{"line":397,"column":17}},"213":{"start":{"line":394,"column":20},"end":{"line":394,"column":51}},"214":{"start":{"line":396,"column":20},"end":{"line":396,"column":67}},"215":{"start":{"line":399,"column":12},"end":{"line":399,"column":32}},"216":{"start":{"line":400,"column":12},"end":{"line":419,"column":19}},"217":{"start":{"line":402,"column":24},"end":{"line":406,"column":27}},"218":{"start":{"line":403,"column":28},"end":{"line":404,"column":96}},"219":{"start":{"line":403,"column":35},"end":{"line":403,"column":93}},"220":{"start":{"line":404,"column":33},"end":{"line":404,"column":96}},"221":{"start":{"line":405,"column":28},"end":{"line":405,"column":36}},"222":{"start":{"line":409,"column":24},"end":{"line":414,"column":39}},"223":{"start":{"line":410,"column":28},"end":{"line":413,"column":31}},"224":{"start":{"line":411,"column":32},"end":{"line":411,"column":94}},"225":{"start":{"line":412,"column":32},"end":{"line":412,"column":40}},"226":{"start":{"line":414,"column":30},"end":{"line":414,"column":39}},"227":{"start":{"line":418,"column":20},"end":{"line":418,"column":46}},"228":{"start":{"line":418,"column":32},"end":{"line":418,"column":46}},"229":{"start":{"line":421,"column":12},"end":{"line":421,"column":48}},"230":{"start":{"line":422,"column":12},"end":{"line":457,"column":13}},"231":{"start":{"line":423,"column":16},"end":{"line":423,"column":42}},"232":{"start":{"line":424,"column":16},"end":{"line":432,"column":17}},"233":{"start":{"line":434,"column":16},"end":{"line":453,"column":23}},"234":{"start":{"line":436,"column":28},"end":{"line":440,"column":31}},"235":{"start":{"line":437,"column":32},"end":{"line":437,"column":52}},"236":{"start":{"line":437,"column":41},"end":{"line":437,"column":52}},"237":{"start":{"line":438,"column":32},"end":{"line":438,"column":73}},"238":{"start":{"line":439,"column":32},"end":{"line":439,"column":40}},"239":{"start":{"line":443,"column":28},"end":{"line":448,"column":43}},"240":{"start":{"line":444,"column":32},"end":{"line":447,"column":35}},"241":{"start":{"line":445,"column":36},"end":{"line":445,"column":96}},"242":{"start":{"line":446,"column":36},"end":{"line":446,"column":44}},"243":{"start":{"line":448,"column":34},"end":{"line":448,"column":43}},"244":{"start":{"line":452,"column":24},"end":{"line":452,"column":50}},"245":{"start":{"line":452,"column":36},"end":{"line":452,"column":50}},"246":{"start":{"line":455,"column":16},"end":{"line":455,"column":80}},"247":{"start":{"line":456,"column":16},"end":{"line":456,"column":42}},"248":{"start":{"line":456,"column":28},"end":{"line":456,"column":42}},"249":{"start":{"line":462,"column":0},"end":{"line":462,"column":24}}},"branchMap":{"1":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":4}},{"start":{"line":24,"column":4},"end":{"line":24,"column":4}}]},"2":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":8},"end":{"line":60,"column":8}},{"start":{"line":60,"column":8},"end":{"line":60,"column":8}}]},"3":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":8},"end":{"line":71,"column":8}},{"start":{"line":71,"column":8},"end":{"line":71,"column":8}}]},"4":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":12},"end":{"line":72,"column":12}},{"start":{"line":72,"column":12},"end":{"line":72,"column":12}}]},"5":{"line":72,"type":"binary-expr","locations":[{"start":{"line":72,"column":15},"end":{"line":72,"column":40}},{"start":{"line":72,"column":43},"end":{"line":72,"column":65}},{"start":{"line":72,"column":67},"end":{"line":72,"column":89}}]},"6":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":18},"end":{"line":74,"column":18}},{"start":{"line":74,"column":18},"end":{"line":74,"column":18}}]},"7":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":18},"end":{"line":76,"column":18}},{"start":{"line":76,"column":18},"end":{"line":76,"column":18}}]},"8":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":18},"end":{"line":78,"column":18}},{"start":{"line":78,"column":18},"end":{"line":78,"column":18}}]},"9":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":12},"end":{"line":91,"column":12}},{"start":{"line":91,"column":12},"end":{"line":91,"column":12}}]},"10":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":12},"end":{"line":92,"column":12}},{"start":{"line":92,"column":12},"end":{"line":92,"column":12}}]},"11":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":20},"end":{"line":95,"column":20}},{"start":{"line":95,"column":20},"end":{"line":95,"column":20}}]},"12":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":8}},{"start":{"line":114,"column":8},"end":{"line":114,"column":8}}]},"13":{"line":115,"type":"cond-expr","locations":[{"start":{"line":115,"column":112},"end":{"line":115,"column":116}},{"start":{"line":115,"column":117},"end":{"line":115,"column":122}}]},"14":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":23},"end":{"line":115,"column":46}},{"start":{"line":115,"column":48},"end":{"line":115,"column":69}},{"start":{"line":115,"column":71},"end":{"line":115,"column":91}},{"start":{"line":115,"column":93},"end":{"line":115,"column":111}}]},"15":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":8},"end":{"line":116,"column":8}},{"start":{"line":116,"column":8},"end":{"line":116,"column":8}}]},"16":{"line":116,"type":"binary-expr","locations":[{"start":{"line":116,"column":11},"end":{"line":116,"column":19}},{"start":{"line":116,"column":21},"end":{"line":116,"column":53}}]},"17":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":12},"end":{"line":118,"column":12}},{"start":{"line":118,"column":12},"end":{"line":118,"column":12}}]},"18":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":8},"end":{"line":122,"column":8}},{"start":{"line":122,"column":8},"end":{"line":122,"column":8}}]},"19":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":4},"end":{"line":139,"column":4}},{"start":{"line":139,"column":4},"end":{"line":139,"column":4}}]},"20":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":4},"end":{"line":140,"column":4}},{"start":{"line":140,"column":4},"end":{"line":140,"column":4}}]},"21":{"line":140,"type":"binary-expr","locations":[{"start":{"line":140,"column":7},"end":{"line":140,"column":61}},{"start":{"line":140,"column":63},"end":{"line":140,"column":138}}]},"22":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":4},"end":{"line":155,"column":4}},{"start":{"line":155,"column":4},"end":{"line":155,"column":4}}]},"23":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":4},"end":{"line":156,"column":4}},{"start":{"line":156,"column":4},"end":{"line":156,"column":4}}]},"24":{"line":156,"type":"binary-expr","locations":[{"start":{"line":156,"column":7},"end":{"line":156,"column":42}},{"start":{"line":156,"column":46},"end":{"line":156,"column":100}}]},"25":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":12},"end":{"line":187,"column":12}},{"start":{"line":187,"column":12},"end":{"line":187,"column":12}}]},"26":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":16},"end":{"line":189,"column":16}},{"start":{"line":189,"column":16},"end":{"line":189,"column":16}}]},"27":{"line":190,"type":"if","locations":[{"start":{"line":190,"column":16},"end":{"line":190,"column":16}},{"start":{"line":190,"column":16},"end":{"line":190,"column":16}}]},"28":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":20},"end":{"line":195,"column":20}},{"start":{"line":195,"column":20},"end":{"line":195,"column":20}}]},"29":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":20},"end":{"line":196,"column":20}},{"start":{"line":196,"column":20},"end":{"line":196,"column":20}}]},"30":{"line":196,"type":"binary-expr","locations":[{"start":{"line":196,"column":23},"end":{"line":196,"column":33}},{"start":{"line":196,"column":35},"end":{"line":196,"column":53}}]},"31":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":24},"end":{"line":199,"column":24}},{"start":{"line":199,"column":24},"end":{"line":199,"column":24}}]},"32":{"line":205,"type":"if","locations":[{"start":{"line":205,"column":24},"end":{"line":205,"column":24}},{"start":{"line":205,"column":24},"end":{"line":205,"column":24}}]},"33":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":32},"end":{"line":210,"column":32}},{"start":{"line":210,"column":32},"end":{"line":210,"column":32}}]},"34":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":40},"end":{"line":214,"column":40}},{"start":{"line":214,"column":40},"end":{"line":214,"column":40}}]},"35":{"line":236,"type":"cond-expr","locations":[{"start":{"line":236,"column":146},"end":{"line":236,"column":180}},{"start":{"line":236,"column":181},"end":{"line":236,"column":183}}]},"36":{"line":236,"type":"binary-expr","locations":[{"start":{"line":236,"column":62},"end":{"line":236,"column":96}},{"start":{"line":236,"column":98},"end":{"line":236,"column":145}}]},"37":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":36},"end":{"line":244,"column":36}},{"start":{"line":244,"column":36},"end":{"line":244,"column":36}}]},"38":{"line":262,"type":"binary-expr","locations":[{"start":{"line":262,"column":19},"end":{"line":262,"column":89}},{"start":{"line":262,"column":93},"end":{"line":262,"column":109}}]},"39":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":16},"end":{"line":266,"column":16}},{"start":{"line":266,"column":16},"end":{"line":266,"column":16}}]},"40":{"line":272,"type":"if","locations":[{"start":{"line":272,"column":12},"end":{"line":272,"column":12}},{"start":{"line":272,"column":12},"end":{"line":272,"column":12}}]},"41":{"line":284,"type":"if","locations":[{"start":{"line":284,"column":4},"end":{"line":284,"column":4}},{"start":{"line":284,"column":4},"end":{"line":284,"column":4}}]},"42":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":4},"end":{"line":296,"column":4}},{"start":{"line":296,"column":4},"end":{"line":296,"column":4}}]},"43":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":12},"end":{"line":299,"column":12}},{"start":{"line":299,"column":12},"end":{"line":299,"column":12}}]},"44":{"line":303,"type":"if","locations":[{"start":{"line":303,"column":16},"end":{"line":303,"column":16}},{"start":{"line":303,"column":16},"end":{"line":303,"column":16}}]},"45":{"line":320,"type":"if","locations":[{"start":{"line":320,"column":4},"end":{"line":320,"column":4}},{"start":{"line":320,"column":4},"end":{"line":320,"column":4}}]},"46":{"line":338,"type":"cond-expr","locations":[{"start":{"line":338,"column":118},"end":{"line":338,"column":152}},{"start":{"line":338,"column":153},"end":{"line":338,"column":155}}]},"47":{"line":338,"type":"binary-expr","locations":[{"start":{"line":338,"column":34},"end":{"line":338,"column":68}},{"start":{"line":338,"column":70},"end":{"line":338,"column":117}}]},"48":{"line":353,"type":"if","locations":[{"start":{"line":353,"column":4},"end":{"line":353,"column":4}},{"start":{"line":353,"column":4},"end":{"line":353,"column":4}}]},"49":{"line":353,"type":"binary-expr","locations":[{"start":{"line":353,"column":7},"end":{"line":353,"column":51}},{"start":{"line":353,"column":53},"end":{"line":353,"column":108}}]},"50":{"line":357,"type":"if","locations":[{"start":{"line":357,"column":4},"end":{"line":357,"column":4}},{"start":{"line":357,"column":4},"end":{"line":357,"column":4}}]},"51":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":4},"end":{"line":359,"column":4}},{"start":{"line":359,"column":4},"end":{"line":359,"column":4}}]},"52":{"line":363,"type":"if","locations":[{"start":{"line":363,"column":8},"end":{"line":363,"column":8}},{"start":{"line":363,"column":8},"end":{"line":363,"column":8}}]},"53":{"line":370,"type":"if","locations":[{"start":{"line":370,"column":8},"end":{"line":370,"column":8}},{"start":{"line":370,"column":8},"end":{"line":370,"column":8}}]},"54":{"line":384,"type":"if","locations":[{"start":{"line":384,"column":8},"end":{"line":384,"column":8}},{"start":{"line":384,"column":8},"end":{"line":384,"column":8}}]},"55":{"line":386,"type":"if","locations":[{"start":{"line":386,"column":12},"end":{"line":386,"column":12}},{"start":{"line":386,"column":12},"end":{"line":386,"column":12}}]},"56":{"line":389,"type":"if","locations":[{"start":{"line":389,"column":8},"end":{"line":389,"column":8}},{"start":{"line":389,"column":8},"end":{"line":389,"column":8}}]},"57":{"line":389,"type":"binary-expr","locations":[{"start":{"line":389,"column":11},"end":{"line":389,"column":20}},{"start":{"line":389,"column":22},"end":{"line":389,"column":41}}]},"58":{"line":392,"type":"if","locations":[{"start":{"line":392,"column":12},"end":{"line":392,"column":12}},{"start":{"line":392,"column":12},"end":{"line":392,"column":12}}]},"59":{"line":392,"type":"binary-expr","locations":[{"start":{"line":392,"column":15},"end":{"line":392,"column":27}},{"start":{"line":392,"column":29},"end":{"line":392,"column":43}}]},"60":{"line":402,"type":"cond-expr","locations":[{"start":{"line":402,"column":99},"end":{"line":402,"column":116}},{"start":{"line":402,"column":117},"end":{"line":402,"column":124}}]},"61":{"line":403,"type":"if","locations":[{"start":{"line":403,"column":28},"end":{"line":403,"column":28}},{"start":{"line":403,"column":28},"end":{"line":403,"column":28}}]},"62":{"line":409,"type":"if","locations":[{"start":{"line":409,"column":24},"end":{"line":409,"column":24}},{"start":{"line":409,"column":24},"end":{"line":409,"column":24}}]},"63":{"line":418,"type":"if","locations":[{"start":{"line":418,"column":20},"end":{"line":418,"column":20}},{"start":{"line":418,"column":20},"end":{"line":418,"column":20}}]},"64":{"line":422,"type":"if","locations":[{"start":{"line":422,"column":12},"end":{"line":422,"column":12}},{"start":{"line":422,"column":12},"end":{"line":422,"column":12}}]},"65":{"line":437,"type":"if","locations":[{"start":{"line":437,"column":32},"end":{"line":437,"column":32}},{"start":{"line":437,"column":32},"end":{"line":437,"column":32}}]},"66":{"line":443,"type":"if","locations":[{"start":{"line":443,"column":28},"end":{"line":443,"column":28}},{"start":{"line":443,"column":28},"end":{"line":443,"column":28}}]},"67":{"line":452,"type":"if","locations":[{"start":{"line":452,"column":24},"end":{"line":452,"column":24}},{"start":{"line":452,"column":24},"end":{"line":452,"column":24}}]},"68":{"line":456,"type":"if","locations":[{"start":{"line":456,"column":16},"end":{"line":456,"column":16}},{"start":{"line":456,"column":16},"end":{"line":456,"column":16}}]}},"code":["/**"," * Created by james on 13-12-5."," * spider middleware"," */","","var crypto = require('crypto');","var url =  require(\"url\");","var util = require('util');","var async = require('async');","var myredis = require('../lib/myredis.js');","","var spider = function(spiderCore){","    this.spiderCore = spiderCore;","    this.queue_length = 0;","    this.driller_rules_updated = 0;","    this.driller_rules = {};","    logger = spiderCore.settings.logger;","}","","////report to spidercore standby////////////////////////","spider.prototype.assembly = function(callback){","    var self = this;","    var dbtype = 'redis';","    if(this.spiderCore.settings['use_ssdb'])dbtype = 'ssdb';","    async.series([","        function(cb){","            myredis.createClient(","                self.spiderCore.settings['driller_info_redis_db'][0],","                self.spiderCore.settings['driller_info_redis_db'][1],","                self.spiderCore.settings['driller_info_redis_db'][2],","                dbtype,","                function(err,cli){","                    self.redis_cli0 = cli;","                    cb(err);","                });","        },","        function(cb){","            myredis.createClient(","                self.spiderCore.settings['url_info_redis_db'][0],","                self.spiderCore.settings['url_info_redis_db'][1],","                self.spiderCore.settings['url_info_redis_db'][2],","                dbtype,","                function(err,cli){","                    self.redis_cli1 = cli;","                    cb(err);","                });","        },","        function(cb){","            myredis.createClient(","                self.spiderCore.settings['url_report_redis_db'][0],","                self.spiderCore.settings['url_report_redis_db'][1],","                self.spiderCore.settings['url_report_redis_db'][2],","                dbtype,","                function(err,cli){","                    self.redis_cli2 = cli;","                    cb(err);","                });","        }","    ],function(err,result){","        if(callback)callback(null,'done');","    });","}","/**"," * smart parse string to json object deeply(level2)"," * @param source"," */","spider.prototype.jsonSmartDeepParse = function(obj){","    var dataobj = {};","    var numberPattern = new RegExp(\"^\\-?[0-9]+$\");","    for(i in obj){","        if(obj.hasOwnProperty(i)){","            if(typeof(obj[i])==='string'&&(obj[i].charAt(0)==='{'||obj[i].charAt(0)==='[')){","                dataobj[i] = JSON.parse(obj[i]);","            }else if(numberPattern.test(obj[i])){","                dataobj[i] = parseInt(obj[i]);","            }else if(obj[i]==='true'){","                dataobj[i] = true;","            }else if(obj[i]==='false'){","                dataobj[i] = false;","            }else dataobj[i] = obj[i];","        }","    }","    return dataobj;","}","","//refresh the driller rules//////////////////////////////","spider.prototype.refreshDrillerRules = function(){","    var self = this;","    var redis_cli = this.redis_cli0;","        redis_cli.get('updated:driller:rule',function(err,value){","            if (err)throw(err);","            if(self.driller_rules_updated!==parseInt(value)){//driller is changed","                logger.info('driller rules is changed');","                redis_cli.hlist('driller:*',function(err,values){","                    if (err)throw(err);","                    self.tmp_driller_rules = {};","                    self.tmp_driller_rules_length = values.length;","                    for(var i=0;i<values.length;i++){","                        self.wrapper_rules(values[i]);","                    }","                });","                self.driller_rules_updated=parseInt(value);","            }else{","                logger.debug('driller rules is not changed, queue length: '+self.queue_length);","                setTimeout(function(){self.refreshDrillerRules();},self.spiderCore.settings['check_driller_rules_interval']*1000);","            }","        })","}","//wrapper each rule","spider.prototype.wrapper_rules = function(key){","    var self = this;","    var redis_cli = this.redis_cli0;","    redis_cli.hgetall(key, function(err,value){//for synchronized using object variable","        if(self.tmp_driller_rules==undefined)self.tmp_driller_rules = {};","        var isActive = value['active']=='true'||value['active']==true||value['active']=='1'||value['active']==1?true:false;","        if(isActive||self.spiderCore.settings['test']) {","            logger.info('Load rule: '+key);","            if (self.tmp_driller_rules[value['domain']] == undefined)self.tmp_driller_rules[value['domain']] = {};","            self.tmp_driller_rules[value['domain']][value['alias']] = self.jsonSmartDeepParse(value);","        }else logger.debug('Ignore rule: '+key+', status inactive');","        self.tmp_driller_rules_length--;","        if(self.tmp_driller_rules_length<=0){","            self.driller_rules = self.tmp_driller_rules;","            //self.driller_rules_updated = (new Date()).getTime();","            self.spiderCore.emit('driller_rules_loaded',self.driller_rules);","            setTimeout(function(){self.refreshDrillerRules();},self.spiderCore.settings['check_driller_rules_interval']*1000);","        }","    });","}","","/**"," * query drillerrule"," * @param id"," * @param name"," */","spider.prototype.getDrillerRule = function(id,name){","    var splited_id = id.split(':');","    var pos = 1;","    if(splited_id[0]==='urllib')pos = 2;","    if(this.driller_rules[splited_id[pos]][splited_id[pos+1]]&&this.driller_rules[splited_id[pos]][splited_id[pos+1]].hasOwnProperty(name)){","        return this.driller_rules[splited_id[pos]][splited_id[pos+1]][name];","    }else{","        logger.warn(util.format('%s in %s %s, not found',name,splited_id[pos],splited_id[pos+1]));","        return false;","    }","}","/**"," * get driller rules dictionary"," * @param id"," * @returns dict{}"," */","spider.prototype.getDrillerRules = function(id){","    var splited_id = id.split(':');","    var pos = 1;","    if(splited_id[0]==='urllib')pos = 2;","    if(this.driller_rules[splited_id[pos]] && this.driller_rules[splited_id[pos]][splited_id[pos+1]]){","        return this.driller_rules[splited_id[pos]][splited_id[pos+1]];","    }else{","        logger.warn(util.format('%s%s, not exists',splited_id[pos],splited_id[pos+1]));","        return null;","    }","}","","////get url////////////////////////////////////////////","spider.prototype.getUrlQueue = function(callback){","    /*","     var urlinfo = {","     \"url\":\"http://list.taobao.com/itemlist/sport2011a.htm?spm=1.6659421.a21471u.6.RQYJRM&&md=5221&cat=50071853&sd=0&as=0&viewIndex=1&atype=b&style=grid&same_info=1&tid=0&olu=yes&isnew=2&smc=1&navid=city&_input_charset=utf-8\",","     \"type\":\"branch\",","     \"referer\":\"http://www.taobao.com\",","     \"cookie\":[],//require('./taobao-cookie-simple.json'),","     \"jshandle\":true,","     \"inject_jquery\":false,","     \"drill_rules\":[\".vm-page-next\",\".general a\",\"a\"],","     \"script\":[\"jsexec_result = document.getElementById('pageJumpto').value;\",\"jsexec_result=document.querySelector('.user-nick').text\"],//[\"jsexec_result = $.map($('.category li a span'),function(n,i) {return $(n).text();});\"],//[\"jsexec_result=document.querySelector('.user-nick').text;\"]","     \"navigate_rule\":[\".vm-page-next\"],","     \"stoppage\":3,","     \"url_lib_id\":\"urllib:driller:taobao.com:list\"","     }","     */","","    var spider = this;","    var redis_driller_db = this.redis_cli0;","    var redis_urlinfo_db = this.redis_cli1;","        redis_driller_db.lpop('queue:scheduled:all',function(err, link){","            //2----------------------------------------------------------------------------------------","            if(!link){","                logger.info('No candidate queue, '+spider.queue_length+' urls in crawling.');","                if('no_queue_alert' in spider.spiderCore.spider_extend)spider.spiderCore.spider_extend.no_queue_alert();","                if(callback){callback(false);return;}","            };//no queue","                var linkhash = crypto.createHash('md5').update(link).digest('hex');","                redis_urlinfo_db.hgetall(linkhash,function(err, link_info){","                    //4---------------------------------------------------------------------------------","                    if(err)throw(err);","                    if(!link_info||isEmpty(link_info)){","                        logger.warn(link+' has no url info, '+linkhash+', we try to match it');","                        var urlinfo = spider.wrapLink(link);","                        if(urlinfo!=null)spider.spiderCore.emit('new_url_queue',urlinfo);","                        else{","                            logger.error(link+' can not match any driller rule, ignore it.');","                            spider.getUrlQueue(callback);","                        }","                    }else{","                        if(!link_info['trace']){","                            logger.warn(link+', url info is incomplete');","                            spider.getUrlQueue(callback);","                        }else{","                            var drillerinfo = spider.getDrillerRules(link_info['trace']);","                                if(drillerinfo==null){","                                    redis_urlinfo_db.del(linkhash,function(err){","                                        logger.warn(link+', has dirty driller info! clean it');","                                        var urlinfo = spider.wrapLink(link);","                                        if(urlinfo!=null)spider.spiderCore.emit('new_url_queue',urlinfo);","                                        else{","                                            logger.error('Cleaned dirty driller info for '+link+', but can not match any driller rule right now, ignore it.');","                                            spider.getUrlQueue(callback);","                                        }","                                    });","                                }else{","                                    var urlinfo = {","                                        \"url\":link,","                                        \"version\":parseInt(link_info['version']),","                                        \"type\":drillerinfo['type'],","                                        \"format\":drillerinfo['format'],","                                        \"encoding\":drillerinfo['encoding'],","                                        \"referer\":link_info['referer'],","                                        \"url_pattern\":drillerinfo['url_pattern'],","                                        \"urllib\":link_info['trace'],","                                        \"save_page\":drillerinfo['save_page'],","                                        \"cookie\":drillerinfo['cookie'],","                                        \"jshandle\":drillerinfo['jshandle'],","                                        \"inject_jquery\":drillerinfo['inject_jquery'],","                                        \"drill_rules\":drillerinfo['drill_rules'],","                                        \"drill_relation\":link_info['drill_relation'],","                                        \"validation_keywords\":drillerinfo['validation_keywords']&&drillerinfo['validation_keywords']!='undefined'?drillerinfo['validation_keywords']:'',","                                        \"script\":drillerinfo['script'],","                                        \"navigate_rule\":drillerinfo['navigate_rule'],","                                        \"stoppage\":drillerinfo['stoppage'],","                                        \"start_time\":(new Date()).getTime()","                                    }","                                    logger.info('new url: '+link);","                                    spider.spiderCore.emit('new_url_queue',urlinfo);","                                    if(callback)callback(true);","                                }","                        }","                    }","                    //4-----------------------------------------------------------------------------------","                });","                //3---------------------------------------------------------------------------------------","        });","}","/**"," * Check how many urls can be append to queue"," * @param spider"," */","spider.prototype.checkQueue = function(spider){","    var breakTt = false;","    async.whilst(","        function() {","            logger.debug('Check queue, length: '+spider.queue_length);","            return spider.queue_length < spider.spiderCore.settings['spider_concurrency'] && breakTt !== true;","        },","        function(cb) {","            spider.getUrlQueue(function(bol){","                if(bol===true)spider.queue_length++;","                else breakTt = true;","                cb();","            });","        },","        function(err) {","            if(err)logger.error('Exception in check queue.');","        }","    );","}","/**"," * TOP Domain,e.g: www.baidu.com  -> baidu.com"," * @param domain"," * @returns {*}"," * @private"," */","spider.prototype.__getTopLevelDomain = function(domain){","    var arr = domain.split('.');","    if(arr.length<=2)return domain;","    else return arr.slice(1).join('.');","}","/**"," * detect link which driller rule matched"," * @param link"," * @returns {string}"," */","spider.prototype.detectLink = function(link){","    var urlobj = url.parse(link);","    var result = '';","    var domain = this.__getTopLevelDomain(urlobj['hostname']);","    if(this.driller_rules[domain]!=undefined){","        var alias = this.driller_rules[domain];","        for(a in alias){","            if(alias.hasOwnProperty(a)){","                //var url_pattern  = decodeURIComponent(alias[a]['url_pattern']);","                var url_pattern  = alias[a]['url_pattern'];","                var patt = new RegExp(url_pattern);","                if(patt.test(link)){","                    result = 'driller:'+domain+':'+a;","                    break;","                }","            }","        }","    }","    return result;","}","/**"," * construct a url info"," * @param link"," * @returns {*}"," */","spider.prototype.wrapLink = function(link){","    var linkinfo = null;","    var driller = this.detectLink(link);","    if(driller!=''){","        var driller_arr = driller.split(':');","        var drillerinfo = this.driller_rules[driller_arr[1]][driller_arr[2]];","        linkinfo = {","            \"url\":link,","            \"version\":(new Date()).getTime(),","            \"type\":drillerinfo['type'],","            \"format\":drillerinfo['format'],","            \"encoding\":drillerinfo['encoding'],","            \"referer\":\"\",","            \"url_pattern\":drillerinfo['url_pattern'],","            \"urllib\":'urllib:'+driller,","            \"save_page\":drillerinfo['save_page'],","            \"cookie\":drillerinfo['cookie'],","            \"jshandle\":drillerinfo['jshandle'],","            \"inject_jquery\":drillerinfo['inject_jquery'],","            \"drill_rules\":drillerinfo['drill_rules'],","            \"drill_relation\":'*',","            \"validation_keywords\":drillerinfo['validation_keywords']&&drillerinfo['validation_keywords']!='undefined'?drillerinfo['validation_keywords']:'',","            \"script\":drillerinfo['script'],","            \"navigate_rule\":drillerinfo['navigate_rule'],","            \"stoppage\":drillerinfo['stoppage']","        }","    }","    return linkinfo;","}","/**"," * check retry"," * @param urlinfo"," */","spider.prototype.retryCrawl = function(urlinfo){","    var spider = this;","    var retryLimit = 3;","    if(spider.spiderCore.settings['download_retry']&&spider.spiderCore.settings['download_retry']!=undefined){","        retryLimit = spider.spiderCore.settings['download_retry'];","    }","    var act_retry = 0;","    if(urlinfo['retry'])act_retry = urlinfo['retry'];","","    if(act_retry<retryLimit){","        urlinfo['retry'] = act_retry+1;","        logger.info(util.format('Retry url: %s, time: ',urlinfo['url'],urlinfo['retry']));","        spider.spiderCore.emit('new_url_queue',urlinfo);","        if('crawl_retry_alert' in spider.spiderCore.spider_extend)spider.spiderCore.spider_extend.crawl_retry_alert(urlinfo);//report","    }else{","        spider.updateLinkState(urlinfo['url'],'crawled_failure');","        logger.error(util.format('after %s reties, give up crawl %s',urlinfo['retry'],urlinfo['url']));","        spider.redis_cli2.zadd('fail:'+urlinfo['urllib'],urlinfo['version'],urlinfo['url'],function(err,result){","            spider.spiderCore.emit('slide_queue');","        });","        if('crawl_fail_alert' in spider.spiderCore.spider_extend)spider.spiderCore.spider_extend.crawl_fail_alert(urlinfo);//report","    }","}","","","/**"," * update link state to redis db"," * @param link"," * @param state"," */","spider.prototype.updateLinkState = function(link,state,callback){","    var spider = this;","    var urlhash = crypto.createHash('md5').update(link+'').digest('hex');","    this.redis_cli1.hgetall(urlhash,function(err,link_info){","        if(err){","            logger.error('get state of link('+link+') fail: '+err);","            if(callback)callback(err);","            return;","        }","        if(link_info&&!isEmpty(link_info)){","            var t_record = link_info['records'];","            var records = [];","            if(t_record!=''&&t_record!='[]'){","                try{","                    records = JSON.parse(t_record);","                }catch(e){","                    logger.error(t_record+' JSON parse error: '+e);","                }","            }","            records.push(state);","            async.parallel([","                    function(cb){","                        spider.redis_cli1.hmset(urlhash,{'records':JSON.stringify(records.length>3?records.slice(-3):records),'last':(new Date()).getTime(),'status':state},function(err,link_info){","                            if(err)logger.error('update state of link('+link+') fail: '+err);","                            else logger.debug('update state of link('+link+') success: '+state);","                            cb(err);","                        });","                    },","                    function(cb){","                        if(state=='crawled_finish'){","                            spider.redis_cli2.zrem('fail:'+link_info['trace'],link,function(err,result){","                                logger.debug('remove '+link+' from fail:'+link_info['trace']);","                                cb(err);","                            });","                        }else cb(null);","                    }","                ],","                function(err, results){","                    if(callback)callback(err);","                });","        }else{","            var trace = spider.detectLink(link);","            if(trace!=''){","                trace = 'urllib:' + trace;","                var urlinfo = {","                    'url':link,","                    'trace':trace,","                    'referer':'',","                    'create':(new Date()).getTime(),","                    'records':JSON.stringify([]),","                    'last':(new Date()).getTime(),","                    'status':state","                }","","                async.parallel([","                        function(cb){","                            spider.redis_cli1.hmset(urlhash,urlinfo,function(err, value){","                                if (err) throw(err);","                                logger.debug('save new url info: '+link);","                                cb(err);","                            });","                        },","                        function(cb){","                            if(state==='crawled_finish'){","                                spider.redis_cli2.zrem('fail:'+urlinfo['trace'],link,function(err,result){","                                    logger.debug('remove '+link+' from fail:'+urlinfo['trace']);","                                    cb(err);","                                });","                            }else cb(null);","                        }","                    ],","                    function(err, results){","                        if(callback)callback(err);","                    });","            }else {","                logger.error(link+' can not match any rules, ignore updating.');","                if(callback)callback(err);","            }","        }","    });","}","","module.exports = spider;",""],"l":{"6":1,"7":1,"8":1,"9":1,"10":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"21":1,"22":0,"23":0,"24":0,"25":0,"27":0,"33":0,"34":0,"38":0,"44":0,"45":0,"49":0,"55":0,"56":0,"60":0,"67":1,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"83":0,"87":1,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"102":0,"104":0,"105":0,"110":1,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"125":0,"126":0,"136":1,"137":0,"138":0,"139":0,"140":0,"141":0,"143":0,"144":0,"152":1,"153":0,"154":0,"155":0,"156":0,"157":0,"159":0,"160":0,"165":1,"182":0,"183":0,"184":0,"185":0,"187":0,"188":0,"189":0,"190":0,"192":0,"193":0,"195":0,"196":0,"197":0,"198":0,"199":0,"201":0,"202":0,"205":0,"206":0,"207":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"216":0,"217":0,"221":0,"242":0,"243":0,"244":0,"257":1,"258":0,"259":0,"261":0,"262":0,"265":0,"266":0,"267":0,"268":0,"272":0,"282":1,"283":0,"284":0,"285":0,"292":1,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"301":0,"302":0,"303":0,"304":0,"305":0,"310":0,"317":1,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"344":0,"350":1,"351":0,"352":0,"353":0,"354":0,"356":0,"357":0,"359":0,"360":0,"361":0,"362":0,"363":0,"365":0,"366":0,"367":0,"368":0,"370":0,"380":1,"381":0,"382":0,"383":0,"384":0,"385":0,"386":0,"387":0,"389":0,"390":0,"391":0,"392":0,"393":0,"394":0,"396":0,"399":0,"400":0,"402":0,"403":0,"404":0,"405":0,"409":0,"410":0,"411":0,"412":0,"414":0,"418":0,"421":0,"422":0,"423":0,"424":0,"434":0,"436":0,"437":0,"438":0,"439":0,"443":0,"444":0,"445":0,"446":0,"448":0,"452":0,"455":0,"456":0,"462":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/tools/http-echo-server.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/tools/http-echo-server.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":38}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":19},"end":{"line":9,"column":36}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"2":{"start":{"line":5,"column":0},"end":{"line":19,"column":25}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":61}},"4":{"start":{"line":7,"column":4},"end":{"line":18,"column":8}},"5":{"start":{"line":10,"column":12},"end":{"line":10,"column":33}},"6":{"start":{"line":11,"column":12},"end":{"line":15,"column":13}},"7":{"start":{"line":12,"column":16},"end":{"line":14,"column":17}},"8":{"start":{"line":13,"column":20},"end":{"line":13,"column":62}},"9":{"start":{"line":16,"column":12},"end":{"line":16,"column":31}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":64}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":16},"end":{"line":12,"column":16}},{"start":{"line":12,"column":16},"end":{"line":12,"column":16}}]}},"code":["/**"," * Created by cherokee on 14-6-16."," */","var http = require('http');","http.createServer(function (req, res) {","    res.writeHead(200, {'Content-Type': 'application/json'});","    res.end(JSON.stringify({","        'IP':req.socket.remoteAddress,","        'HEADERS':(function(headers){","            var new_headers = {};","            for(var x in headers){","                if(headers.hasOwnProperty(x)){","                    new_headers[x.toUpperCase()] = headers[x];","                }","            }","            return new_headers;","        })(req.headers)","    }));","}).listen(80, \"0.0.0.0\");","console.log('Http Echo Server running at http://127.0.0.1:80/');"],"l":{"4":1,"5":1,"6":0,"7":0,"10":0,"11":0,"12":0,"13":0,"16":0,"20":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/tools/queue-helper.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/tools/queue-helper.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":1,"10":1,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":1,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":1,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":1},"b":{"1":[0,1],"2":[0,1],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0,0,1]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},"fnMap":{"1":{"name":"(anonymous_1)","line":33,"loc":{"start":{"line":33,"column":30},"end":{"line":33,"column":40}}},"2":{"name":"(anonymous_2)","line":39,"loc":{"start":{"line":39,"column":8},"end":{"line":39,"column":34}}},"3":{"name":"(anonymous_3)","line":45,"loc":{"start":{"line":45,"column":16},"end":{"line":45,"column":39}}},"4":{"name":"(anonymous_4)","line":46,"loc":{"start":{"line":46,"column":45},"end":{"line":46,"column":64}}},"5":{"name":"(anonymous_5)","line":50,"loc":{"start":{"line":50,"column":28},"end":{"line":50,"column":38}}},"6":{"name":"(anonymous_6)","line":53,"loc":{"start":{"line":53,"column":28},"end":{"line":53,"column":46}}},"7":{"name":"(anonymous_7)","line":58,"loc":{"start":{"line":58,"column":83},"end":{"line":58,"column":104}}},"8":{"name":"(anonymous_8)","line":61,"loc":{"start":{"line":61,"column":44},"end":{"line":61,"column":54}}},"9":{"name":"(anonymous_9)","line":64,"loc":{"start":{"line":64,"column":44},"end":{"line":64,"column":56}}},"10":{"name":"(anonymous_10)","line":67,"loc":{"start":{"line":67,"column":87},"end":{"line":67,"column":100}}},"11":{"name":"(anonymous_11)","line":77,"loc":{"start":{"line":77,"column":44},"end":{"line":77,"column":57}}},"12":{"name":"(anonymous_12)","line":88,"loc":{"start":{"line":88,"column":28},"end":{"line":88,"column":41}}},"13":{"name":"(anonymous_13)","line":99,"loc":{"start":{"line":99,"column":31},"end":{"line":99,"column":41}}},"14":{"name":"(anonymous_14)","line":105,"loc":{"start":{"line":105,"column":8},"end":{"line":105,"column":34}}},"15":{"name":"(anonymous_15)","line":111,"loc":{"start":{"line":111,"column":16},"end":{"line":111,"column":39}}},"16":{"name":"(anonymous_16)","line":112,"loc":{"start":{"line":112,"column":46},"end":{"line":112,"column":65}}},"17":{"name":"(anonymous_17)","line":116,"loc":{"start":{"line":116,"column":28},"end":{"line":116,"column":38}}},"18":{"name":"(anonymous_18)","line":119,"loc":{"start":{"line":119,"column":28},"end":{"line":119,"column":46}}},"19":{"name":"(anonymous_19)","line":124,"loc":{"start":{"line":124,"column":83},"end":{"line":124,"column":104}}},"20":{"name":"(anonymous_20)","line":127,"loc":{"start":{"line":127,"column":44},"end":{"line":127,"column":54}}},"21":{"name":"(anonymous_21)","line":130,"loc":{"start":{"line":130,"column":44},"end":{"line":130,"column":56}}},"22":{"name":"(anonymous_22)","line":133,"loc":{"start":{"line":133,"column":87},"end":{"line":133,"column":100}}},"23":{"name":"(anonymous_23)","line":143,"loc":{"start":{"line":143,"column":44},"end":{"line":143,"column":57}}},"24":{"name":"(anonymous_24)","line":154,"loc":{"start":{"line":154,"column":28},"end":{"line":154,"column":41}}},"25":{"name":"(anonymous_25)","line":164,"loc":{"start":{"line":164,"column":30},"end":{"line":164,"column":40}}},"26":{"name":"(anonymous_26)","line":170,"loc":{"start":{"line":170,"column":8},"end":{"line":170,"column":31}}},"27":{"name":"(anonymous_27)","line":172,"loc":{"start":{"line":172,"column":39},"end":{"line":172,"column":58}}},"28":{"name":"(anonymous_28)","line":176,"loc":{"start":{"line":176,"column":20},"end":{"line":176,"column":30}}},"29":{"name":"(anonymous_29)","line":179,"loc":{"start":{"line":179,"column":20},"end":{"line":179,"column":38}}},"30":{"name":"(anonymous_30)","line":184,"loc":{"start":{"line":184,"column":48},"end":{"line":184,"column":67}}},"31":{"name":"(anonymous_31)","line":195,"loc":{"start":{"line":195,"column":40},"end":{"line":195,"column":52}}},"32":{"name":"(anonymous_32)","line":196,"loc":{"start":{"line":196,"column":64},"end":{"line":196,"column":81}}},"33":{"name":"(anonymous_33)","line":208,"loc":{"start":{"line":208,"column":85},"end":{"line":208,"column":98}}},"34":{"name":"(anonymous_34)","line":217,"loc":{"start":{"line":217,"column":40},"end":{"line":217,"column":50}}},"35":{"name":"(anonymous_35)","line":218,"loc":{"start":{"line":218,"column":40},"end":{"line":218,"column":53}}},"36":{"name":"(anonymous_36)","line":230,"loc":{"start":{"line":230,"column":20},"end":{"line":230,"column":33}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":43}},"3":{"start":{"line":8,"column":0},"end":{"line":25,"column":7}},"4":{"start":{"line":27,"column":0},"end":{"line":27,"column":28}},"5":{"start":{"line":28,"column":0},"end":{"line":28,"column":53}},"6":{"start":{"line":28,"column":17},"end":{"line":28,"column":37}},"7":{"start":{"line":28,"column":37},"end":{"line":28,"column":52}},"8":{"start":{"line":29,"column":0},"end":{"line":29,"column":72}},"9":{"start":{"line":30,"column":0},"end":{"line":30,"column":21}},"10":{"start":{"line":31,"column":0},"end":{"line":31,"column":40}},"11":{"start":{"line":31,"column":24},"end":{"line":31,"column":40}},"12":{"start":{"line":33,"column":0},"end":{"line":97,"column":1}},"13":{"start":{"line":34,"column":4},"end":{"line":96,"column":6}},"14":{"start":{"line":40,"column":12},"end":{"line":94,"column":19}},"15":{"start":{"line":46,"column":20},"end":{"line":93,"column":23}},"16":{"start":{"line":47,"column":24},"end":{"line":47,"column":41}},"17":{"start":{"line":47,"column":31},"end":{"line":47,"column":41}},"18":{"start":{"line":48,"column":24},"end":{"line":48,"column":38}},"19":{"start":{"line":49,"column":24},"end":{"line":92,"column":26}},"20":{"start":{"line":51,"column":32},"end":{"line":51,"column":60}},"21":{"start":{"line":54,"column":32},"end":{"line":54,"column":58}},"22":{"start":{"line":55,"column":32},"end":{"line":86,"column":33}},"23":{"start":{"line":56,"column":36},"end":{"line":56,"column":78}},"24":{"start":{"line":57,"column":36},"end":{"line":57,"column":64}},"25":{"start":{"line":58,"column":36},"end":{"line":82,"column":39}},"26":{"start":{"line":59,"column":40},"end":{"line":59,"column":58}},"27":{"start":{"line":60,"column":40},"end":{"line":81,"column":42}},"28":{"start":{"line":62,"column":48},"end":{"line":62,"column":82}},"29":{"start":{"line":65,"column":48},"end":{"line":65,"column":80}},"30":{"start":{"line":66,"column":48},"end":{"line":75,"column":49}},"31":{"start":{"line":67,"column":52},"end":{"line":71,"column":55}},"32":{"start":{"line":68,"column":56},"end":{"line":69,"column":106}},"33":{"start":{"line":68,"column":63},"end":{"line":68,"column":111}},"34":{"start":{"line":69,"column":61},"end":{"line":69,"column":106}},"35":{"start":{"line":70,"column":56},"end":{"line":70,"column":65}},"36":{"start":{"line":73,"column":52},"end":{"line":73,"column":84}},"37":{"start":{"line":74,"column":52},"end":{"line":74,"column":61}},"38":{"start":{"line":78,"column":48},"end":{"line":78,"column":65}},"39":{"start":{"line":78,"column":55},"end":{"line":78,"column":65}},"40":{"start":{"line":79,"column":48},"end":{"line":79,"column":62}},"41":{"start":{"line":84,"column":36},"end":{"line":84,"column":69}},"42":{"start":{"line":85,"column":36},"end":{"line":85,"column":51}},"43":{"start":{"line":89,"column":32},"end":{"line":89,"column":50}},"44":{"start":{"line":90,"column":32},"end":{"line":90,"column":53}},"45":{"start":{"line":99,"column":0},"end":{"line":162,"column":1}},"46":{"start":{"line":100,"column":4},"end":{"line":161,"column":11}},"47":{"start":{"line":106,"column":12},"end":{"line":160,"column":19}},"48":{"start":{"line":112,"column":20},"end":{"line":159,"column":23}},"49":{"start":{"line":113,"column":24},"end":{"line":113,"column":41}},"50":{"start":{"line":113,"column":31},"end":{"line":113,"column":41}},"51":{"start":{"line":114,"column":24},"end":{"line":114,"column":38}},"52":{"start":{"line":115,"column":24},"end":{"line":158,"column":26}},"53":{"start":{"line":117,"column":32},"end":{"line":117,"column":60}},"54":{"start":{"line":120,"column":32},"end":{"line":120,"column":58}},"55":{"start":{"line":121,"column":32},"end":{"line":152,"column":33}},"56":{"start":{"line":122,"column":36},"end":{"line":122,"column":79}},"57":{"start":{"line":123,"column":36},"end":{"line":123,"column":64}},"58":{"start":{"line":124,"column":36},"end":{"line":148,"column":39}},"59":{"start":{"line":125,"column":40},"end":{"line":125,"column":58}},"60":{"start":{"line":126,"column":40},"end":{"line":147,"column":42}},"61":{"start":{"line":128,"column":48},"end":{"line":128,"column":82}},"62":{"start":{"line":131,"column":48},"end":{"line":131,"column":80}},"63":{"start":{"line":132,"column":48},"end":{"line":141,"column":49}},"64":{"start":{"line":133,"column":52},"end":{"line":137,"column":55}},"65":{"start":{"line":134,"column":56},"end":{"line":135,"column":106}},"66":{"start":{"line":134,"column":63},"end":{"line":134,"column":111}},"67":{"start":{"line":135,"column":61},"end":{"line":135,"column":106}},"68":{"start":{"line":136,"column":56},"end":{"line":136,"column":65}},"69":{"start":{"line":139,"column":52},"end":{"line":139,"column":84}},"70":{"start":{"line":140,"column":52},"end":{"line":140,"column":61}},"71":{"start":{"line":144,"column":48},"end":{"line":144,"column":65}},"72":{"start":{"line":144,"column":55},"end":{"line":144,"column":65}},"73":{"start":{"line":145,"column":48},"end":{"line":145,"column":62}},"74":{"start":{"line":150,"column":36},"end":{"line":150,"column":69}},"75":{"start":{"line":151,"column":36},"end":{"line":151,"column":51}},"76":{"start":{"line":155,"column":32},"end":{"line":155,"column":50}},"77":{"start":{"line":156,"column":32},"end":{"line":156,"column":53}},"78":{"start":{"line":164,"column":0},"end":{"line":236,"column":1}},"79":{"start":{"line":165,"column":4},"end":{"line":235,"column":11}},"80":{"start":{"line":171,"column":12},"end":{"line":171,"column":29}},"81":{"start":{"line":171,"column":19},"end":{"line":171,"column":29}},"82":{"start":{"line":172,"column":12},"end":{"line":234,"column":15}},"83":{"start":{"line":173,"column":16},"end":{"line":173,"column":33}},"84":{"start":{"line":173,"column":23},"end":{"line":173,"column":33}},"85":{"start":{"line":174,"column":16},"end":{"line":174,"column":30}},"86":{"start":{"line":175,"column":16},"end":{"line":233,"column":18}},"87":{"start":{"line":177,"column":24},"end":{"line":177,"column":52}},"88":{"start":{"line":180,"column":24},"end":{"line":180,"column":50}},"89":{"start":{"line":181,"column":24},"end":{"line":181,"column":43}},"90":{"start":{"line":182,"column":24},"end":{"line":182,"column":54}},"91":{"start":{"line":183,"column":24},"end":{"line":228,"column":25}},"92":{"start":{"line":184,"column":28},"end":{"line":224,"column":31}},"93":{"start":{"line":185,"column":32},"end":{"line":223,"column":33}},"94":{"start":{"line":185,"column":40},"end":{"line":185,"column":59}},"95":{"start":{"line":185,"column":59},"end":{"line":185,"column":70}},"96":{"start":{"line":186,"column":37},"end":{"line":223,"column":33}},"97":{"start":{"line":187,"column":36},"end":{"line":187,"column":66}},"98":{"start":{"line":188,"column":36},"end":{"line":188,"column":47}},"99":{"start":{"line":191,"column":36},"end":{"line":191,"column":63}},"100":{"start":{"line":192,"column":36},"end":{"line":192,"column":52}},"101":{"start":{"line":193,"column":36},"end":{"line":193,"column":52}},"102":{"start":{"line":194,"column":36},"end":{"line":221,"column":38}},"103":{"start":{"line":196,"column":44},"end":{"line":215,"column":47}},"104":{"start":{"line":197,"column":48},"end":{"line":197,"column":69}},"105":{"start":{"line":198,"column":48},"end":{"line":198,"column":58}},"106":{"start":{"line":199,"column":48},"end":{"line":214,"column":49}},"107":{"start":{"line":199,"column":56},"end":{"line":199,"column":75}},"108":{"start":{"line":199,"column":75},"end":{"line":199,"column":80}},"109":{"start":{"line":201,"column":52},"end":{"line":213,"column":63}},"110":{"start":{"line":202,"column":56},"end":{"line":212,"column":57}},"111":{"start":{"line":203,"column":60},"end":{"line":203,"column":133}},"112":{"start":{"line":204,"column":60},"end":{"line":204,"column":65}},"113":{"start":{"line":206,"column":60},"end":{"line":206,"column":127}},"114":{"start":{"line":207,"column":60},"end":{"line":207,"column":82}},"115":{"start":{"line":208,"column":60},"end":{"line":211,"column":63}},"116":{"start":{"line":209,"column":64},"end":{"line":209,"column":90}},"117":{"start":{"line":209,"column":71},"end":{"line":209,"column":90}},"118":{"start":{"line":210,"column":64},"end":{"line":210,"column":69}},"119":{"start":{"line":213,"column":58},"end":{"line":213,"column":63}},"120":{"start":{"line":217,"column":51},"end":{"line":217,"column":88}},"121":{"start":{"line":219,"column":44},"end":{"line":219,"column":59}},"122":{"start":{"line":226,"column":28},"end":{"line":226,"column":61}},"123":{"start":{"line":227,"column":28},"end":{"line":227,"column":43}},"124":{"start":{"line":231,"column":24},"end":{"line":231,"column":42}},"125":{"start":{"line":239,"column":0},"end":{"line":251,"column":1}},"126":{"start":{"line":241,"column":8},"end":{"line":241,"column":34}},"127":{"start":{"line":242,"column":8},"end":{"line":242,"column":14}},"128":{"start":{"line":244,"column":8},"end":{"line":244,"column":35}},"129":{"start":{"line":245,"column":8},"end":{"line":245,"column":14}},"130":{"start":{"line":247,"column":8},"end":{"line":247,"column":34}},"131":{"start":{"line":248,"column":8},"end":{"line":248,"column":14}},"132":{"start":{"line":250,"column":8},"end":{"line":250,"column":28}}},"branchMap":{"1":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":0},"end":{"line":28,"column":0}},{"start":{"line":28,"column":0},"end":{"line":28,"column":0}}]},"2":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":0},"end":{"line":31,"column":0}},{"start":{"line":31,"column":0},"end":{"line":31,"column":0}}]},"3":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":24},"end":{"line":47,"column":24}},{"start":{"line":47,"column":24},"end":{"line":47,"column":24}}]},"4":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":32},"end":{"line":55,"column":32}},{"start":{"line":55,"column":32},"end":{"line":55,"column":32}}]},"5":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":48},"end":{"line":66,"column":48}},{"start":{"line":66,"column":48},"end":{"line":66,"column":48}}]},"6":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":56},"end":{"line":68,"column":56}},{"start":{"line":68,"column":56},"end":{"line":68,"column":56}}]},"7":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":48},"end":{"line":78,"column":48}},{"start":{"line":78,"column":48},"end":{"line":78,"column":48}}]},"8":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":24},"end":{"line":113,"column":24}},{"start":{"line":113,"column":24},"end":{"line":113,"column":24}}]},"9":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":32},"end":{"line":121,"column":32}},{"start":{"line":121,"column":32},"end":{"line":121,"column":32}}]},"10":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":48},"end":{"line":132,"column":48}},{"start":{"line":132,"column":48},"end":{"line":132,"column":48}}]},"11":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":56},"end":{"line":134,"column":56}},{"start":{"line":134,"column":56},"end":{"line":134,"column":56}}]},"12":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":48},"end":{"line":144,"column":48}},{"start":{"line":144,"column":48},"end":{"line":144,"column":48}}]},"13":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":12},"end":{"line":171,"column":12}},{"start":{"line":171,"column":12},"end":{"line":171,"column":12}}]},"14":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":16},"end":{"line":173,"column":16}},{"start":{"line":173,"column":16},"end":{"line":173,"column":16}}]},"15":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":24},"end":{"line":183,"column":24}},{"start":{"line":183,"column":24},"end":{"line":183,"column":24}}]},"16":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":32},"end":{"line":185,"column":32}},{"start":{"line":185,"column":32},"end":{"line":185,"column":32}}]},"17":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":37},"end":{"line":186,"column":37}},{"start":{"line":186,"column":37},"end":{"line":186,"column":37}}]},"18":{"line":186,"type":"binary-expr","locations":[{"start":{"line":186,"column":40},"end":{"line":186,"column":46}},{"start":{"line":186,"column":48},"end":{"line":186,"column":55}}]},"19":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":48},"end":{"line":199,"column":48}},{"start":{"line":199,"column":48},"end":{"line":199,"column":48}}]},"20":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":52},"end":{"line":201,"column":52}},{"start":{"line":201,"column":52},"end":{"line":201,"column":52}}]},"21":{"line":202,"type":"if","locations":[{"start":{"line":202,"column":56},"end":{"line":202,"column":56}},{"start":{"line":202,"column":56},"end":{"line":202,"column":56}}]},"22":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":64},"end":{"line":209,"column":64}},{"start":{"line":209,"column":64},"end":{"line":209,"column":64}}]},"23":{"line":217,"type":"binary-expr","locations":[{"start":{"line":217,"column":58},"end":{"line":217,"column":71}},{"start":{"line":217,"column":73},"end":{"line":217,"column":87}}]},"24":{"line":239,"type":"switch","locations":[{"start":{"line":240,"column":4},"end":{"line":242,"column":14}},{"start":{"line":243,"column":4},"end":{"line":245,"column":14}},{"start":{"line":246,"column":4},"end":{"line":248,"column":14}},{"start":{"line":249,"column":4},"end":{"line":250,"column":28}}]}},"code":["/**"," * Created by cherokee on 14-6-5."," */","var async = require('async');","var myredis = require('../lib/myredis.js');","","////arguments parse///////////////////////////////////////////////////////////////","var userArgv = require('optimist')","    .usage('Usage: $0 -i [instance name] -a [pfq|psq] -h')","    .options('i', {","        'alias' : 'instance',","        'default' : 'example',","        'describe' : 'Specify a instance',","        'demand' : true","    })","    .options('a', {","        'alias' : 'action',","        'default' : 'crawl',","        'describe' : 'Specify a action,\\n pfq(put fail url into url queue), \\n psq(put stuck url into url queue), \\n fdq(filter duplicated queue)',","        'demand' : true","    })","    .options('h', {","        'alias' : 'help',","        'describe' : 'Help infomation'","    });","","var options = userArgv.argv;","if(options['h']){userArgv.showHelp();process.exit();}","var settings = require('../instance/'+options['i']+'/'+'settings.json');","var dbtype = 'redis';","if(settings['use_ssdb'])dbtype = 'ssdb';","////executable function/////////////////////////////////////////////////////////////////","var put_fail_url_into_queue = function(){","    myredis.createClient(","        settings['driller_info_redis_db'][0],","        settings['driller_info_redis_db'][1],","        settings['driller_info_redis_db'][2],","        dbtype,","        function(err,di_redis_cli){","            myredis.createClient(","                settings['url_report_redis_db'][0],","                settings['url_report_redis_db'][1],","                settings['url_report_redis_db'][2],","                dbtype,","                function(err,redis_cli){","                    redis_cli.zlist('fail:*',function(err,zkeys){","                        if(err)throw err;","                        var count = 0;","                        async.whilst(","                            function(){","                                return count < zkeys.length;","                            },","                            function(callback){","                                var zkey = zkeys[count++];","                                if(zkey){","                                    var urllib_key = zkey.replace('fail:','');","                                    console.log('moving ',zkey);","                                    redis_cli.zrange(zkey,0,(new Date()).getTime(),function(err,keylist){","                                        var sub_count = 0;","                                        async.whilst(","                                            function(){","                                                return sub_count < keylist.length;","                                            },","                                            function(cb){","                                                var link = keylist[sub_count++];","                                                if(link){","                                                    di_redis_cli.rpush(urllib_key,link,function(err){","                                                        if(err)console.error('Put ',urllib_key,' Error: ',err);","                                                        else console.log('put ',link,' into ',urllib_key);","                                                        cb(null);","                                                    });","                                                }else {","                                                    console.error('Invalidate url');","                                                    cb(null);","                                                }","                                            },","                                            function(err){","                                                if(err)throw err;","                                                callback(err);","                                            }","                                        );","                                    });","                                }else {","                                    console.error('Invalidate zkey');","                                    callback(null);","                                }","                            },","                            function(err){","                                redis_cli.close();","                                di_redis_cli.close();","                            }","                        );","                    });","                });","        }","    );","}","","var put_stuck_url_into_queue = function(){","    myredis.createClient(","        settings['driller_info_redis_db'][0],","        settings['driller_info_redis_db'][1],","        settings['driller_info_redis_db'][2],","        dbtype,","        function(err,di_redis_cli){","            myredis.createClient(","                settings['url_report_redis_db'][0],","                settings['url_report_redis_db'][1],","                settings['url_report_redis_db'][2],","                dbtype,","                function(err,redis_cli){","                    redis_cli.zlist('stuck:*',function(err,zkeys){","                        if(err)throw err;","                        var count = 0;","                        async.whilst(","                            function(){","                                return count < zkeys.length;","                            },","                            function(callback){","                                var zkey = zkeys[count++];","                                if(zkey){","                                    var urllib_key = zkey.replace('stuck:','');","                                    console.log('moving ',zkey);","                                    redis_cli.zrange(zkey,0,(new Date()).getTime(),function(err,keylist){","                                        var sub_count = 0;","                                        async.whilst(","                                            function(){","                                                return sub_count < keylist.length;","                                            },","                                            function(cb){","                                                var link = keylist[sub_count++];","                                                if(link){","                                                    di_redis_cli.rpush(urllib_key,link,function(err){","                                                        if(err)console.error('Put ',urllib_key,' Error: ',err);","                                                        else console.log('put ',link,' into ',urllib_key);","                                                        cb(null);","                                                    });","                                                }else {","                                                    console.error('Invalidate url');","                                                    cb(null);","                                                }","                                            },","                                            function(err){","                                                if(err)throw err;","                                                callback(err);","                                            }","                                        );","                                    });","                                }else {","                                    console.error('Invalidate zkey');","                                    callback(null);","                                }","                            },","                            function(err){","                                redis_cli.close();","                                di_redis_cli.close();","                            }","                        );","                    });","                });","        });","}","","var filter_duplicated_queue = function(){","    myredis.createClient(","        settings['driller_info_redis_db'][0],","        settings['driller_info_redis_db'][1],","        settings['driller_info_redis_db'][2],","        dbtype,","        function(err,redis_cli){","            if(err)throw err;","            redis_cli.qlist('urllib:*',function(err,zkeys){","                if(err)throw err;","                var count = 0;","                async.whilst(","                    function(){","                        return count < zkeys.length;","                    },","                    function(callback){","                        var zkey = zkeys[count++];","                        var uniq_dict = {};","                        console.log('checking ',zkey);","                        if(zkey){","                            redis_cli.llen(zkey,function(err,qsize){","                                if(err){console.error(err);callback();}","                                else if(!qsize||qsize<1){","                                    console.log(zkey,' is empty');","                                    callback();","                                }else{","                                    //////////////////////////////////////","                                    var last_queue_key = false;","                                    var t_count = 0;","                                    var f_count = 0;","                                    async.doWhilst(","                                        function(cb){","                                            redis_cli.lpop(zkey,function(err,val){","                                                last_queue_key = val;","                                                t_count++;","                                                if(err){console.error(err);cb();}","                                                else{","                                                    if(val){","                                                        if(uniq_dict[val]){","                                                            console.log(zkey,' filter ',val,' ,counter: ',(++f_count),' / ',t_count);","                                                            cb();","                                                        }else{","                                                            console.log(zkey,' keep ',val,' ,counter: ',f_count,' / ',t_count);","                                                            uniq_dict[val] = true;","                                                            redis_cli.rpush(zkey,val,function(err){","                                                                if(err)console.error(err);","                                                                cb();","                                                            });","                                                        }","                                                    }else cb();","                                                }","                                            });","                                        },","                                        function(){return t_count<qsize&&last_queue_key;},","                                        function(err){","                                            callback(null);","                                        }","                                    );","                                    ////////////////////////////////////////////////////","                                }","                            });","                        }else {","                            console.error('Invalidate zkey');","                            callback(null);","                        }","                    },","                    function(err){","                        redis_cli.close();","                    }","                );","            });","        });","}","","////action route/////////////////////////////////////////////////////////////////////","switch(options['a']){","    case 'pfq':","        put_fail_url_into_queue();","        break;","    case 'psq':","        put_stuck_url_into_queue();","        break;","    case 'fdq':","        filter_duplicated_queue();","        break;","    default:","        userArgv.showHelp();","}"],"l":{"4":1,"5":1,"8":1,"27":1,"28":1,"29":1,"30":1,"31":1,"33":1,"34":0,"40":0,"46":0,"47":0,"48":0,"49":0,"51":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"62":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"73":0,"74":0,"78":0,"79":0,"84":0,"85":0,"89":0,"90":0,"99":1,"100":0,"106":0,"112":0,"113":0,"114":0,"115":0,"117":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"128":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"139":0,"140":0,"144":0,"145":0,"150":0,"151":0,"155":0,"156":0,"164":1,"165":0,"171":0,"172":0,"173":0,"174":0,"175":0,"177":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"191":0,"192":0,"193":0,"194":0,"196":0,"197":0,"198":0,"199":0,"201":0,"202":0,"203":0,"204":0,"206":0,"207":0,"208":0,"209":0,"210":0,"213":0,"217":0,"219":0,"226":0,"227":0,"231":0,"239":1,"241":0,"242":0,"244":0,"245":0,"247":0,"248":0,"250":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/tools/rule-dump.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/tools/rule-dump.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1},"b":{"1":[0,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":52,"loc":{"start":{"line":52,"column":13},"end":{"line":52,"column":25}}},"2":{"name":"(anonymous_2)","line":53,"loc":{"start":{"line":53,"column":65},"end":{"line":54,"column":8}}},"3":{"name":"(anonymous_3)","line":55,"loc":{"start":{"line":55,"column":45},"end":{"line":55,"column":66}}},"4":{"name":"(anonymous_4)","line":60,"loc":{"start":{"line":60,"column":24},"end":{"line":60,"column":36}}},"5":{"name":"(anonymous_5)","line":61,"loc":{"start":{"line":61,"column":24},"end":{"line":61,"column":44}}},"6":{"name":"(anonymous_6)","line":64,"loc":{"start":{"line":64,"column":50},"end":{"line":64,"column":69}}},"7":{"name":"(anonymous_7)","line":67,"loc":{"start":{"line":67,"column":116},"end":{"line":67,"column":129}}},"8":{"name":"(anonymous_8)","line":73,"loc":{"start":{"line":73,"column":24},"end":{"line":73,"column":38}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":43,"column":7}},"2":{"start":{"line":45,"column":0},"end":{"line":45,"column":28}},"3":{"start":{"line":46,"column":0},"end":{"line":46,"column":53}},"4":{"start":{"line":46,"column":17},"end":{"line":46,"column":37}},"5":{"start":{"line":46,"column":37},"end":{"line":46,"column":52}},"6":{"start":{"line":48,"column":0},"end":{"line":48,"column":41}},"7":{"start":{"line":49,"column":0},"end":{"line":49,"column":23}},"8":{"start":{"line":50,"column":0},"end":{"line":50,"column":29}},"9":{"start":{"line":52,"column":0},"end":{"line":85,"column":1}},"10":{"start":{"line":53,"column":4},"end":{"line":84,"column":6}},"11":{"start":{"line":55,"column":16},"end":{"line":82,"column":19}},"12":{"start":{"line":56,"column":20},"end":{"line":56,"column":55}},"13":{"start":{"line":57,"column":20},"end":{"line":57,"column":34}},"14":{"start":{"line":58,"column":20},"end":{"line":58,"column":79}},"15":{"start":{"line":58,"column":51},"end":{"line":58,"column":79}},"16":{"start":{"line":59,"column":20},"end":{"line":81,"column":22}},"17":{"start":{"line":60,"column":38},"end":{"line":60,"column":68}},"18":{"start":{"line":62,"column":28},"end":{"line":62,"column":53}},"19":{"start":{"line":63,"column":28},"end":{"line":63,"column":62}},"20":{"start":{"line":64,"column":28},"end":{"line":71,"column":31}},"21":{"start":{"line":65,"column":32},"end":{"line":65,"column":72}},"22":{"start":{"line":65,"column":40},"end":{"line":65,"column":57}},"23":{"start":{"line":65,"column":57},"end":{"line":65,"column":71}},"24":{"start":{"line":66,"column":32},"end":{"line":66,"column":40}},"25":{"start":{"line":67,"column":32},"end":{"line":70,"column":35}},"26":{"start":{"line":68,"column":36},"end":{"line":69,"column":52}},"27":{"start":{"line":68,"column":45},"end":{"line":68,"column":55}},"28":{"start":{"line":69,"column":41},"end":{"line":69,"column":52}},"29":{"start":{"line":74,"column":28},"end":{"line":78,"column":29}},"30":{"start":{"line":75,"column":32},"end":{"line":75,"column":74}},"31":{"start":{"line":77,"column":32},"end":{"line":77,"column":112}},"32":{"start":{"line":79,"column":28},"end":{"line":79,"column":45}},"33":{"start":{"line":86,"column":0},"end":{"line":86,"column":31}}},"branchMap":{"1":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":0},"end":{"line":46,"column":0}},{"start":{"line":46,"column":0},"end":{"line":46,"column":0}}]},"2":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":20},"end":{"line":58,"column":20}},{"start":{"line":58,"column":20},"end":{"line":58,"column":20}}]},"3":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":32},"end":{"line":65,"column":32}},{"start":{"line":65,"column":32},"end":{"line":65,"column":32}}]},"4":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":36},"end":{"line":68,"column":36}},{"start":{"line":68,"column":36},"end":{"line":68,"column":36}}]},"5":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":28},"end":{"line":74,"column":28}},{"start":{"line":74,"column":28},"end":{"line":74,"column":28}}]}},"code":["/**"," * Created by James on 14-2-27."," * redis helper: dump to file, and restore from file"," */","","var userArgv = require('optimist')","    .usage('Usage: $0 -h [host name] -p [port]  -f [file prefix] -h')","    .options('h', {","        'alias' : 'host',","        'default' : 'localhost',","        'describe' : 'Specify redis hostname, e.g: localhost',","        'demand' : true","    })","    .options('p', {","        'alias' : 'port',","        'default' : 6379,","        'describe' : 'Specify redis port, e.g: 6379',","        'demand' : true","    })","    .options('f', {","        'alias' : 'file',","        'default' : 'dump',","        'describe' : 'Specify a file name'","    })","    .options('t', {","        'alias' : 'type',","        'default' : 'redis',","        'describe' : 'Specify a DBtype: redis/ssdb'","    })","    .options('d', {","        'alias' : 'db',","        'default' : '0',","        'describe' : 'Specify a db'","    })","    .options('q', {","        'alias' : 'query',","        'default' : 'driller:*',","        'describe' : 'Specify a query string, e.g:driller:*'","    })","    .options('H', {","        'alias' : 'help',","        'describe' : 'Help infomation'","    });","","var options = userArgv.argv;","if(options['H']){userArgv.showHelp();process.exit();}","","var redis = require(\"../lib/myredis.js\");","var fs = require(\"fs\");","var async = require('async');","","var dumpdb = function(db){","    redis.createClient(options['h'],options['p'],db,options['t'],function(err,redis_cli)","        {","                redis_cli.hlist(options['q'],function(err,keyList){","                    for(var i=0;i<keyList.length;i++){}","                    var count = 0;","                    if(fs.existsSync(options['f']))fs.unlinkSync(options['f']);","                    async.whilst(","                        function () { return count < keyList.length; },","                        function (callback) {","                            var key = keyList[count];","                            console.log('dump db'+db+' '+key);","                            redis_cli.hgetall(key,function(err,value){","                                if(err){console.log(err);callback(err);}","                                count++;","                                fs.appendFile(options['f'], key+'\\n'+JSON.stringify(value)+'\\n',{'encoding':'utf8'},function(err){","                                    if (err) throw err;","                                    else callback();","                                });","                            });","                        },","                        function(err) {","                            if(err){","                                console.log('dump db'+db+' failure.'+err);","                            }else{","                                console.log('dump '+options['h']+':'+options['p']+' db'+db+' to '+options['f']);","                            }","                            redis_cli.quit();","                        }","                    );","                });","        }","    );","}","dumpdb(parseInt(options['d']));"],"l":{"6":1,"45":1,"46":1,"48":1,"49":1,"50":1,"52":1,"53":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"74":0,"75":0,"77":0,"79":0,"86":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/tools/rule-restore.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/tools/rule-restore.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1},"b":{"1":[0,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":47,"loc":{"start":{"line":47,"column":16},"end":{"line":47,"column":28}}},"2":{"name":"(anonymous_2)","line":48,"loc":{"start":{"line":48,"column":65},"end":{"line":49,"column":4}}},"3":{"name":"(anonymous_3)","line":53,"loc":{"start":{"line":53,"column":42},"end":{"line":53,"column":66}}},"4":{"name":"(anonymous_4)","line":62,"loc":{"start":{"line":62,"column":42},"end":{"line":62,"column":62}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":38,"column":7}},"2":{"start":{"line":40,"column":0},"end":{"line":40,"column":28}},"3":{"start":{"line":41,"column":0},"end":{"line":41,"column":53}},"4":{"start":{"line":41,"column":17},"end":{"line":41,"column":37}},"5":{"start":{"line":41,"column":37},"end":{"line":41,"column":52}},"6":{"start":{"line":43,"column":0},"end":{"line":43,"column":41}},"7":{"start":{"line":44,"column":0},"end":{"line":44,"column":23}},"8":{"start":{"line":45,"column":0},"end":{"line":45,"column":50}},"9":{"start":{"line":47,"column":0},"end":{"line":73,"column":1}},"10":{"start":{"line":48,"column":4},"end":{"line":72,"column":7}},"11":{"start":{"line":50,"column":8},"end":{"line":50,"column":25}},"12":{"start":{"line":50,"column":15},"end":{"line":50,"column":25}},"13":{"start":{"line":51,"column":8},"end":{"line":51,"column":22}},"14":{"start":{"line":52,"column":8},"end":{"line":52,"column":22}},"15":{"start":{"line":53,"column":8},"end":{"line":71,"column":11}},"16":{"start":{"line":54,"column":12},"end":{"line":70,"column":13}},"17":{"start":{"line":55,"column":16},"end":{"line":55,"column":27}},"18":{"start":{"line":56,"column":16},"end":{"line":59,"column":27}},"19":{"start":{"line":57,"column":20},"end":{"line":57,"column":37}},"20":{"start":{"line":58,"column":20},"end":{"line":58,"column":30}},"21":{"start":{"line":59,"column":22},"end":{"line":59,"column":27}},"22":{"start":{"line":61,"column":16},"end":{"line":61,"column":41}},"23":{"start":{"line":62,"column":16},"end":{"line":69,"column":19}},"24":{"start":{"line":63,"column":20},"end":{"line":64,"column":80}},"25":{"start":{"line":63,"column":27},"end":{"line":63,"column":44}},"26":{"start":{"line":64,"column":25},"end":{"line":64,"column":80}},"27":{"start":{"line":65,"column":20},"end":{"line":68,"column":31}},"28":{"start":{"line":66,"column":24},"end":{"line":66,"column":41}},"29":{"start":{"line":67,"column":24},"end":{"line":67,"column":34}},"30":{"start":{"line":68,"column":26},"end":{"line":68,"column":31}},"31":{"start":{"line":74,"column":0},"end":{"line":74,"column":34}}},"branchMap":{"1":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":0},"end":{"line":41,"column":0}},{"start":{"line":41,"column":0},"end":{"line":41,"column":0}}]},"2":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":50,"column":8}},{"start":{"line":50,"column":8},"end":{"line":50,"column":8}}]},"3":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":12},"end":{"line":54,"column":12}},{"start":{"line":54,"column":12},"end":{"line":54,"column":12}}]},"4":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":16},"end":{"line":56,"column":16}},{"start":{"line":56,"column":16},"end":{"line":56,"column":16}}]},"5":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":20},"end":{"line":63,"column":20}},{"start":{"line":63,"column":20},"end":{"line":63,"column":20}}]},"6":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":20},"end":{"line":65,"column":20}},{"start":{"line":65,"column":20},"end":{"line":65,"column":20}}]}},"code":["/**"," * Created by James on 14-2-27."," * redis helper: dump to file, and restore from file"," */","","var userArgv = require('optimist')","    .usage('Usage: $0 -h [host name] -p [port]  -f [file prefix] -h')","    .options('h', {","        'alias' : 'host',","        'default' : 'localhost',","        'describe' : 'Specify redis hostname, e.g: localhost',","        'demand' : true","    })","    .options('p', {","        'alias' : 'port',","        'default' : 6379,","        'describe' : 'Specify redis port, e.g: 6379',","        'demand' : true","    })","    .options('f', {","        'alias' : 'file',","        'default' : 'dump',","        'describe' : 'Specify a file name , do not include suffix'","    })","    .options('t', {","        'alias' : 'type',","        'default' : 'redis',","        'describe' : 'Specify a DBtype: redis/ssdb'","    })","    .options('d', {","        'alias' : 'db',","        'default' : '0',","        'describe' : 'Specify a db'","    })","    .options('H', {","        'alias' : 'help',","        'describe' : 'Help infomation'","    });","","var options = userArgv.argv;","if(options['H']){userArgv.showHelp();process.exit();}","","var redis = require(\"../lib/myredis.js\");","var fs = require(\"fs\");","var lineReader = require('../lib/line_reader.js');","","var restoredb = function(db){","    redis.createClient(options['h'],options['p'],db,options['t'],function(err,redis_cli)","    {","        if(err)throw err;","        var count = 0;","        var key,value;","        lineReader.eachLine(options['f'], function(line, last,cb) {","            if(count++%2==0){","                key = line;","                if(last){","                    redis_cli.quit();","                    cb(false);","                }else cb();","            }else {","                value = JSON.parse(line);","                redis_cli.hmset(key,value,function(err,status){","                    if(err)console.log(err);","                    else console.log('restore db'+db+' '+key+' status:'+status);","                    if(last){","                        redis_cli.quit();","                        cb(false);","                    }else cb();","                });","            }","        });","    });","}","restoredb(parseInt(options['d']));"],"l":{"6":1,"40":1,"41":1,"43":1,"44":1,"45":1,"47":1,"48":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"74":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/routecontroller.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/routecontroller.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":19},"end":{"line":2,"column":33}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":48,"column":2}},"2":{"start":{"line":5,"column":1},"end":{"line":5,"column":23}},"3":{"start":{"line":6,"column":1},"end":{"line":6,"column":25}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":32}},"5":{"start":{"line":9,"column":1},"end":{"line":9,"column":60}},"6":{"start":{"line":10,"column":1},"end":{"line":10,"column":62}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":69}},"8":{"start":{"line":14,"column":1},"end":{"line":14,"column":43}},"9":{"start":{"line":17,"column":1},"end":{"line":17,"column":57}},"10":{"start":{"line":19,"column":1},"end":{"line":19,"column":50}},"11":{"start":{"line":21,"column":1},"end":{"line":21,"column":51}},"12":{"start":{"line":23,"column":1},"end":{"line":23,"column":57}},"13":{"start":{"line":25,"column":1},"end":{"line":25,"column":56}},"14":{"start":{"line":27,"column":1},"end":{"line":27,"column":57}},"15":{"start":{"line":29,"column":1},"end":{"line":29,"column":54}},"16":{"start":{"line":33,"column":1},"end":{"line":33,"column":45}},"17":{"start":{"line":35,"column":1},"end":{"line":35,"column":56}},"18":{"start":{"line":37,"column":1},"end":{"line":37,"column":52}},"19":{"start":{"line":39,"column":1},"end":{"line":39,"column":59}},"20":{"start":{"line":41,"column":1},"end":{"line":41,"column":63}},"21":{"start":{"line":45,"column":4},"end":{"line":45,"column":63}},"22":{"start":{"line":46,"column":4},"end":{"line":46,"column":65}},"23":{"start":{"line":47,"column":4},"end":{"line":47,"column":63}}},"branchMap":{},"code":["// map request with request handler","exports.mapRoute = function(app) {","\t//prefix = '/' + prefix;","","\tprefix_rule = '/rule';","\tprefix_proxy = '/proxy';","    prefix_monitor = '/monitor';","","\tvar prefixRuleObj = require('./controllers' + prefix_rule);","\tvar prefixProxyObj = require('./controllers' + prefix_proxy);","    var prefixMonitorObj = require('./controllers' + prefix_monitor);","","\t// index","\tapp.get(prefix_rule, prefixRuleObj.index);","\t","\t// search","\tapp.post(prefix_rule + '/search', prefixRuleObj.search);\t","\t// add","\tapp.get(prefix_rule + '/new', prefixRuleObj.new);","\t// show","\tapp.get(prefix_rule + '/:id', prefixRuleObj.show);","\t// create","\tapp.post(prefix_rule + '/create', prefixRuleObj.create);","\t// edit","\tapp.get(prefix_rule + '/:id/edit', prefixRuleObj.edit);","\t// update","\tapp.post(prefix_rule + '/upsert', prefixRuleObj.update);","\t// destroy","\tapp.del(prefix_rule + '/:id', prefixRuleObj.destroy);","\t","/////////////////////////////////////////////////////////////////////","\t// Proxy index ","\tapp.get(prefix_proxy, prefixProxyObj.index);","\t// Proxy index ","\tapp.get(prefix_proxy + '/index', prefixProxyObj.index);\t","\t// Proxy edit ","\tapp.get(prefix_proxy + \"/new\", prefixProxyObj.new);","\t// Proxy create ","\tapp.post(prefix_proxy + \"/create\", prefixProxyObj.create);","\t// Proxy destroy ","\tapp.get(prefix_proxy + \"/:host/:key\", prefixProxyObj.destroy);","","/////////////////////////////////////////////////////////////////////////","","    app.get(prefix_monitor + \"/daily\", prefixMonitorObj.daily);","    app.get(prefix_monitor + \"/linkdb\", prefixMonitorObj.linkdb);","    app.get(prefix_monitor + \"/chart\", prefixMonitorObj.chart);","};"],"l":{"2":1,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"14":0,"17":0,"19":0,"21":0,"23":0,"25":0,"27":0,"29":0,"33":0,"35":0,"37":0,"39":0,"41":0,"45":0,"46":0,"47":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/webconfig.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/webconfig.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":15,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":39}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":24},"end":{"line":22,"column":39}}},"3":{"name":"(anonymous_3)","line":39,"loc":{"start":{"line":39,"column":24},"end":{"line":39,"column":43}}},"4":{"name":"(anonymous_4)","line":43,"loc":{"start":{"line":43,"column":29},"end":{"line":43,"column":47}}},"5":{"name":"(anonymous_5)","line":50,"loc":{"start":{"line":50,"column":15},"end":{"line":50,"column":25}}},"6":{"name":"(anonymous_6)","line":70,"loc":{"start":{"line":70,"column":11},"end":{"line":70,"column":35}}},"7":{"name":"(anonymous_7)","line":73,"loc":{"start":{"line":73,"column":11},"end":{"line":73,"column":41}}},"8":{"name":"(anonymous_8)","line":86,"loc":{"start":{"line":86,"column":35},"end":{"line":86,"column":64}}},"9":{"name":"(anonymous_9)","line":97,"loc":{"start":{"line":97,"column":48},"end":{"line":97,"column":58}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":32}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":27}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":31}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":30}},"9":{"start":{"line":15,"column":0},"end":{"line":19,"column":1}},"10":{"start":{"line":16,"column":1},"end":{"line":16,"column":32}},"11":{"start":{"line":17,"column":1},"end":{"line":17,"column":36}},"12":{"start":{"line":18,"column":1},"end":{"line":18,"column":40}},"13":{"start":{"line":22,"column":0},"end":{"line":36,"column":1}},"14":{"start":{"line":23,"column":4},"end":{"line":31,"column":6}},"15":{"start":{"line":32,"column":4},"end":{"line":32,"column":111}},"16":{"start":{"line":32,"column":26},"end":{"line":32,"column":111}},"17":{"start":{"line":33,"column":4},"end":{"line":34,"column":157}},"18":{"start":{"line":34,"column":8},"end":{"line":34,"column":157}},"19":{"start":{"line":34,"column":49},"end":{"line":34,"column":157}},"20":{"start":{"line":35,"column":4},"end":{"line":35,"column":15}},"21":{"start":{"line":39,"column":0},"end":{"line":41,"column":2}},"22":{"start":{"line":40,"column":4},"end":{"line":40,"column":28}},"23":{"start":{"line":43,"column":0},"end":{"line":100,"column":1}},"24":{"start":{"line":45,"column":1},"end":{"line":45,"column":21}},"25":{"start":{"line":47,"column":1},"end":{"line":47,"column":35}},"26":{"start":{"line":50,"column":1},"end":{"line":77,"column":4}},"27":{"start":{"line":51,"column":3},"end":{"line":51,"column":42}},"28":{"start":{"line":52,"column":3},"end":{"line":52,"column":33}},"29":{"start":{"line":53,"column":3},"end":{"line":53,"column":30}},"30":{"start":{"line":56,"column":6},"end":{"line":56,"column":38}},"31":{"start":{"line":57,"column":3},"end":{"line":57,"column":58}},"32":{"start":{"line":59,"column":3},"end":{"line":59,"column":33}},"33":{"start":{"line":60,"column":3},"end":{"line":60,"column":67}},"34":{"start":{"line":61,"column":3},"end":{"line":64,"column":6}},"35":{"start":{"line":65,"column":3},"end":{"line":65,"column":50}},"36":{"start":{"line":66,"column":3},"end":{"line":66,"column":33}},"37":{"start":{"line":67,"column":3},"end":{"line":67,"column":37}},"38":{"start":{"line":68,"column":3},"end":{"line":68,"column":23}},"39":{"start":{"line":69,"column":3},"end":{"line":69,"column":53}},"40":{"start":{"line":70,"column":3},"end":{"line":72,"column":6}},"41":{"start":{"line":71,"column":5},"end":{"line":71,"column":45}},"42":{"start":{"line":73,"column":3},"end":{"line":76,"column":6}},"43":{"start":{"line":74,"column":5},"end":{"line":74,"column":31}},"44":{"start":{"line":74,"column":12},"end":{"line":74,"column":31}},"45":{"start":{"line":75,"column":5},"end":{"line":75,"column":27}},"46":{"start":{"line":79,"column":1},"end":{"line":81,"column":2}},"47":{"start":{"line":80,"column":2},"end":{"line":80,"column":34}},"48":{"start":{"line":85,"column":1},"end":{"line":91,"column":2}},"49":{"start":{"line":86,"column":1},"end":{"line":88,"column":37}},"50":{"start":{"line":87,"column":4},"end":{"line":87,"column":102}},"51":{"start":{"line":90,"column":1},"end":{"line":90,"column":25}},"52":{"start":{"line":93,"column":8},"end":{"line":93,"column":35}},"53":{"start":{"line":94,"column":1},"end":{"line":94,"column":26}},"54":{"start":{"line":96,"column":1},"end":{"line":96,"column":31}},"55":{"start":{"line":97,"column":1},"end":{"line":99,"column":4}},"56":{"start":{"line":98,"column":2},"end":{"line":98,"column":71}},"57":{"start":{"line":102,"column":0},"end":{"line":102,"column":27}}},"branchMap":{"1":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":32,"column":4}},{"start":{"line":32,"column":4},"end":{"line":32,"column":4}}]},"2":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":34,"column":8}},{"start":{"line":34,"column":8},"end":{"line":34,"column":8}}]},"3":{"line":34,"type":"cond-expr","locations":[{"start":{"line":34,"column":105},"end":{"line":34,"column":109}},{"start":{"line":34,"column":114},"end":{"line":34,"column":154}}]},"4":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":5},"end":{"line":74,"column":5}},{"start":{"line":74,"column":5},"end":{"line":74,"column":5}}]},"5":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},{"start":{"line":79,"column":1},"end":{"line":79,"column":1}}]},"6":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},{"start":{"line":85,"column":1},"end":{"line":85,"column":1}}]},"7":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":12},"end":{"line":87,"column":54}},{"start":{"line":87,"column":58},"end":{"line":87,"column":100}}]}},"code":["/**"," * Module dependencies."," */","","var express = require('express');","var controller = require('./routecontroller.js');","var routes = require('./routes')","var http = require('http');","var path = require('path');","var ejs = require('ejs');","var events = require('events');","var stylus = require('stylus')","","// constructor","var webconfig = function(webconfigCore){","\tevents.EventEmitter.call(this);","\tthis.webconfigCore = webconfigCore;","\tlogger = webconfigCore.settings.logger;","}","","//////////////////////////////////","Date.prototype.Format = function (fmt) {","    var o = {","        \"M+\": this.getMonth() + 1,","        \"d+\": this.getDate(),","        \"h+\": this.getHours(),","        \"m+\": this.getMinutes(),","        \"s+\": this.getSeconds(),","        \"q+\": Math.floor((this.getMonth() + 3) / 3),","        \"S\": this.getMilliseconds()","    };","    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));","    for (var k in o)","        if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));","    return fmt;","}","//////////////////////////////////","","ejs.filters.localDate = function(date,fmt) {","    return date.Format(fmt);","};","","webconfig.prototype.launch = function(settings){","","\tvar app = express();","\t// all environments","\tapp.set('port', settings['port']);","","","\tapp.configure(function(){","\t  app.set('views', __dirname + '/views');","\t  app.set('view engine', 'ejs');","\t  app.use(express.favicon());","//\t  app.use(express.logger('dev'));","\t  //","      app.use(express.cookieParser());","\t  app.use(express.session({secret: '1234567890QWERTY'}));"," \t  //","\t  app.use(express.urlencoded());","\t  app.use(express.staticCache({maxObjects: 100, maxLength: 512}));","\t  app.use(stylus.middleware({","\t\tsrc: __dirname + '/views'","\t\t, dest: __dirname + '/public'","\t\t}));","\t  app.use(express.static(__dirname + '/public'));","\t  app.use(express.bodyParser());","\t  app.use(express.methodOverride());","\t  app.use(app.router);","\t  app.use(express.directory(__dirname + '/public'));","\t  app.use(function(req, res, next){","\t    throw new Error(req.url + ' not found');","\t  });","\t  app.use(function(err, req, res, next) {","\t    if(err)console.error(err);","\t    res.send(err.message);","\t  });","\t});","\t// development only","\tif ('development' == app.get('env')) {","\t\tapp.use(express.errorHandler());","\t}","\t","        // Authenticator","        //app.use(express.basicAuth('config','config123'));//for 2.x","\tif(settings['config_web_auth']){","\tvar basicAuth = express.basicAuth(function(username, password) {","  \t\treturn (username == settings['config_web_auth'][0] && password == settings['config_web_auth'][1]);","\t},'Restrict area, please identify');\t","\t","\tapp.all(\"*\", basicAuth);","\t}","","        app.get('/', routes.index);","\tcontroller.mapRoute(app);","","\tconsole.log('create server.');","\thttp.createServer(app).listen(app.get('port'), function(){","\t\tconsole.log('webconfig server listening on port ' + app.get('port'));","\t});","}","////////////////////////////////////////","module.exports = webconfig;",""],"l":{"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"15":1,"16":0,"17":0,"18":0,"22":1,"23":0,"32":0,"33":0,"34":0,"35":0,"39":1,"40":0,"43":1,"45":0,"47":0,"50":0,"51":0,"52":0,"53":0,"56":0,"57":0,"59":0,"60":0,"61":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"73":0,"74":0,"75":0,"79":0,"80":0,"85":0,"86":0,"87":0,"90":0,"93":0,"94":0,"96":0,"97":0,"98":0,"102":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/routes/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/routes/index.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":16},"end":{"line":6,"column":34}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":48},"end":{"line":7,"column":69}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":13,"column":2}},"2":{"start":{"line":7,"column":2},"end":{"line":12,"column":5}},"3":{"start":{"line":8,"column":5},"end":{"line":11,"column":6}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":25}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":18}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":5},"end":{"line":8,"column":5}},{"start":{"line":8,"column":5},"end":{"line":8,"column":5}}]}},"code":["","/*"," * GET home page."," */","","exports.index = function(req, res){","  res.render('index', { title: 'Config Home' }, function(err, stuff) {","     if (!err) {","        res.write(stuff);","        res.end();","     }","  });","};",""],"l":{"6":1,"7":0,"8":0,"9":0,"10":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/instance/8zi/spider_extend.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/instance/8zi/spider_extend.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":20},"end":{"line":8,"column":40}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"3":{"start":{"line":8,"column":0},"end":{"line":11,"column":1}},"4":{"start":{"line":9,"column":4},"end":{"line":9,"column":33}},"5":{"start":{"line":10,"column":4},"end":{"line":10,"column":40}},"6":{"start":{"line":200,"column":0},"end":{"line":200,"column":31}}},"branchMap":{},"code":["/**"," * Created by james on 13-12-17."," * spider extend: diy spider"," */","require('../../lib/jsextend.js');","var util = require('util');","","var spider_extend = function(spiderCore){","    this.spiderCore = spiderCore;","    logger = spiderCore.settings.logger;","}","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","/**"," * synchronized assembly spider extender"," * @param callback"," */","//spider_extend.prototype.assembly = function(callback){","//    //do something initiation","//      var self = this;","//      self.reportdb = self.spiderCore.spider.redis_cli2;","//      callback();","//}","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","/**"," * customize downloading"," * urlinfo<object>:{\"url\":string,\"version\":long,\"type\":\"branch|node\",\"format\":\"html|json|binary\",\"encoding\":\"auto|utf-8|gbk\",\"referer\":string,string,\"urllib\":string,\"save_page\":true|false,\"cookie\":array[object],\"jshandle\":true|false,\"inject_jquery\":true|false,\"drill_rules\":object,\"drill_relation\":object,\"validation_keywords\":array,\"script\":array,\"navigate_rule\":array,\"stoppage\":int,\"start_time\":long}"," * callback:"," * parameter 1: error"," * parameter 2: <object>:{","            \"remote_proxy\":string,","            \"drill_count\":int,","            \"cookie\":array or string,","            \"url\":string,","            \"statusCode\":int,","            \"origin\":object==urlinfo,","            \"cost\":long,","            \"content\":html string","        }"," * if all parameter return null, means give up customize downloading, use built-in download middleware"," */","//spider_extend.prototype.download = function(urlinfo,callback){","//    callback(null,null);","//}","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","/**"," * DIY extract, it happens after spider framework extracted data."," * @param extracted_info"," * {","        \"signal\":CMD_SIGNAL_CRAWL_SUCCESS,","        \"content\":'...',","        \"remote_proxy\":'...',","        \"cost\":122,","        \"extracted_data\":{\"field\":\"value\"...}","        \"inject_jquery\":true,","        \"js_result\":[],","        \"drill_link\":{\"urllib_alias\":[]},","        \"drill_count\":0,","        \"cookie\":[],","        \"url\":'',","        \"status\":200,","        \"origin\":{","            \"url\":link,","            \"type\":'branch/node',","            \"referer\":'',","            \"url_pattern\":'...',","            \"save_page\":true,","            \"cookie\":[],","            \"jshandle\":true,","            \"inject_jquery\":true,","            \"drill_rules\":[],","            \"script\":[],","            \"navigate_rule\":[],","            \"stoppage\":-1,","            \"start_time\":1234","        }","    };"," */","//spider_extend.prototype.extract = function(extracted_info,callback){","//    callback(extracted_info);","//}","","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","/**"," * customizing pipeline"," * if it do nothing , comment it"," * @param extracted_info (same to extract)"," */","//spider_extend.prototype.pipeline = function(extracted_info,callback){","//    logger.debug('spider extender receive extracted info from '+extracted_info['url']);","//    callback();","//}","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","/**"," * it happens crawl started"," * @param urlinfo"," */","//spider_extend.prototype.crawl_start_alert = function(urlinfo){","//    this.reportdb.hincrby('count:'+__getDateStr(),'crawl:'+__getTopLevelDomain(urlinfo['url']),1);","//}","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","/**"," * report retry crawl"," * @param urlinfo:{","            \"url\":link,","            \"type\":'branch/node',","            \"referer\":'',","            \"url_pattern\":'...',","            \"save_page\":true,","            \"cookie\":[],","            \"jshandle\":true,","            \"inject_jquery\":true,","            \"drill_rules\":[],","            \"script\":[],","            \"navigate_rule\":[],","            \"stoppage\":-1,","            \"start_time\":1234","        }"," *"," */","//spider_extend.prototype.crawl_retry_alert = function(urlinfo){","//    this.reportdb.hincrby('count:'+__getDateStr(),'retry:'+__getTopLevelDomain(urlinfo['url']),1);","//}","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","/**"," * report failed crawl"," * @param urlinfo:{","            \"url\":link,","            \"type\":'branch/node',","            \"referer\":'',","            \"url_pattern\":'...',","            \"save_page\":true,","            \"cookie\":[],","            \"jshandle\":true,","            \"inject_jquery\":true,","            \"drill_rules\":[],","            \"script\":[],","            \"navigate_rule\":[],","            \"stoppage\":-1,","            \"start_time\":1234","        }"," *"," */","//spider_extend.prototype.crawl_fail_alert = function(urlinfo){","//    this.reportdb.hincrby('count:'+__getDateStr(),'fail:'+__getTopLevelDomain(urlinfo['url']),1);","//}","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","/**"," * report extracted data lacks of some fields"," */","//spider_extend.prototype.data_lack_alert = function(url,fields){","//    this.reportdb.hincrby('count:'+__getDateStr(),'lack:'+__getTopLevelDomain(url),1);","//}","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","/**"," * report a url crawling finish"," * @param crawled_info"," */","//spider_extend.prototype.crawl_finish_alert = function(crawled_info){","//    this.reportdb.hincrby('count:'+__getDateStr(),'finish:'+__getTopLevelDomain(crawled_info['url']),1);","//}","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","/**"," * report saving content"," * if it do nothing , comment it"," * @param extracted_info (same to extract)"," */","//spider_extend.prototype.save_content_alert  = function(extracted_info){","//    this.reportdb.hincrby('count:'+__getDateStr(),'save:'+__getTopLevelDomain(extracted_info['url']),1);","//}","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","/**"," * report no queue"," */","//spider_extend.prototype.no_queue_alert = function(){","//}","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","/**"," * TOP Domain,e.g: http://www.baidu.com/sdfdsfdsf  -> baidu.com"," * @param domain"," * @returns {*}"," * @private"," */","//var __getTopLevelDomain = function(link){","//    var urlobj = url.parse(link);","//    var domain = urlobj['hostname'];","//    var arr = domain.split('.');","//    if(arr.length<=2)return domain;","//    else return arr.slice(1).join('.');","//}","/**"," * get date string"," * @returns {string} 20140928"," * @private"," */","//var __getDateStr = function(){","//    var d = new Date();","//    return ''+ d.getFullYear() + (d.getMonth()>9?d.getMonth()+1:'0'+(d.getMonth()+1)) + (d.getDate()>9?d.getDate():'0'+d.getDate());","//}","////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////","module.exports = spider_extend;"],"l":{"5":1,"6":1,"8":1,"9":0,"10":0,"200":1}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/phantomjs/phantomjs-bridge.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/phantomjs/phantomjs-bridge.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"fnMap":{"1":{"name":"(anonymous_1)","line":18,"loc":{"start":{"line":18,"column":19},"end":{"line":18,"column":32}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":17},"end":{"line":22,"column":30}}},"3":{"name":"(anonymous_3)","line":49,"loc":{"start":{"line":49,"column":27},"end":{"line":49,"column":42}}},"4":{"name":"(anonymous_4)","line":53,"loc":{"start":{"line":53,"column":26},"end":{"line":53,"column":41}}},"5":{"name":"(anonymous_5)","line":72,"loc":{"start":{"line":72,"column":21},"end":{"line":72,"column":32}}},"6":{"name":"(anonymous_6)","line":76,"loc":{"start":{"line":76,"column":20},"end":{"line":76,"column":40}}},"7":{"name":"(anonymous_7)","line":80,"loc":{"start":{"line":80,"column":23},"end":{"line":80,"column":47}}},"8":{"name":"(anonymous_8)","line":92,"loc":{"start":{"line":92,"column":22},"end":{"line":92,"column":39}}},"9":{"name":"(anonymous_9)","line":98,"loc":{"start":{"line":98,"column":22},"end":{"line":98,"column":39}}},"10":{"name":"(anonymous_10)","line":108,"loc":{"start":{"line":108,"column":29},"end":{"line":108,"column":69}}},"11":{"name":"(anonymous_11)","line":115,"loc":{"start":{"line":115,"column":26},"end":{"line":115,"column":61}}},"12":{"name":"(anonymous_12)","line":135,"loc":{"start":{"line":135,"column":39},"end":{"line":135,"column":54}}},"13":{"name":"(anonymous_13)","line":151,"loc":{"start":{"line":151,"column":32},"end":{"line":151,"column":42}}},"14":{"name":"(anonymous_14)","line":175,"loc":{"start":{"line":175,"column":35},"end":{"line":175,"column":59}}},"15":{"name":"(anonymous_15)","line":181,"loc":{"start":{"line":181,"column":36},"end":{"line":181,"column":46}}},"16":{"name":"(anonymous_16)","line":204,"loc":{"start":{"line":204,"column":23},"end":{"line":204,"column":33}}},"17":{"name":"(anonymous_17)","line":213,"loc":{"start":{"line":213,"column":18},"end":{"line":213,"column":44}}},"18":{"name":"(anonymous_18)","line":217,"loc":{"start":{"line":217,"column":23},"end":{"line":217,"column":33}}},"19":{"name":"(anonymous_19)","line":225,"loc":{"start":{"line":225,"column":12},"end":{"line":225,"column":28}}},"20":{"name":"(anonymous_20)","line":226,"loc":{"start":{"line":226,"column":27},"end":{"line":226,"column":43}}},"21":{"name":"(anonymous_21)","line":236,"loc":{"start":{"line":236,"column":33},"end":{"line":236,"column":51}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":39}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":33}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":30}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":38}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":22}},"7":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}},"8":{"start":{"line":18,"column":0},"end":{"line":20,"column":1}},"9":{"start":{"line":19,"column":4},"end":{"line":19,"column":57}},"10":{"start":{"line":22,"column":0},"end":{"line":26,"column":1}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":28}},"12":{"start":{"line":24,"column":4},"end":{"line":24,"column":40}},"13":{"start":{"line":25,"column":4},"end":{"line":25,"column":91}},"14":{"start":{"line":28,"column":0},"end":{"line":28,"column":137}},"15":{"start":{"line":29,"column":0},"end":{"line":29,"column":50}},"16":{"start":{"line":31,"column":0},"end":{"line":31,"column":20}},"17":{"start":{"line":32,"column":0},"end":{"line":32,"column":39}},"18":{"start":{"line":32,"column":24},"end":{"line":32,"column":39}},"19":{"start":{"line":33,"column":0},"end":{"line":37,"column":1}},"20":{"start":{"line":34,"column":0},"end":{"line":34,"column":48}},"21":{"start":{"line":36,"column":4},"end":{"line":36,"column":122}},"22":{"start":{"line":40,"column":0},"end":{"line":46,"column":1}},"23":{"start":{"line":41,"column":4},"end":{"line":45,"column":5}},"24":{"start":{"line":42,"column":8},"end":{"line":42,"column":55}},"25":{"start":{"line":49,"column":0},"end":{"line":51,"column":2}},"26":{"start":{"line":53,"column":0},"end":{"line":70,"column":2}},"27":{"start":{"line":54,"column":4},"end":{"line":69,"column":5}},"28":{"start":{"line":56,"column":9},"end":{"line":69,"column":5}},"29":{"start":{"line":57,"column":8},"end":{"line":65,"column":9}},"30":{"start":{"line":58,"column":12},"end":{"line":58,"column":37}},"31":{"start":{"line":59,"column":12},"end":{"line":64,"column":13}},"32":{"start":{"line":60,"column":16},"end":{"line":63,"column":17}},"33":{"start":{"line":61,"column":20},"end":{"line":61,"column":63}},"34":{"start":{"line":62,"column":20},"end":{"line":62,"column":26}},"35":{"start":{"line":66,"column":8},"end":{"line":68,"column":9}},"36":{"start":{"line":67,"column":12},"end":{"line":67,"column":37}},"37":{"start":{"line":72,"column":0},"end":{"line":74,"column":2}},"38":{"start":{"line":76,"column":0},"end":{"line":78,"column":2}},"39":{"start":{"line":80,"column":0},"end":{"line":90,"column":2}},"40":{"start":{"line":81,"column":4},"end":{"line":89,"column":5}},"41":{"start":{"line":82,"column":8},"end":{"line":88,"column":11}},"42":{"start":{"line":92,"column":0},"end":{"line":96,"column":2}},"43":{"start":{"line":93,"column":4},"end":{"line":93,"column":32}},"44":{"start":{"line":94,"column":4},"end":{"line":94,"column":23}},"45":{"start":{"line":95,"column":4},"end":{"line":95,"column":43}},"46":{"start":{"line":95,"column":18},"end":{"line":95,"column":43}},"47":{"start":{"line":98,"column":0},"end":{"line":106,"column":2}},"48":{"start":{"line":99,"column":4},"end":{"line":104,"column":5}},"49":{"start":{"line":100,"column":8},"end":{"line":100,"column":99}},"50":{"start":{"line":102,"column":8},"end":{"line":102,"column":34}},"51":{"start":{"line":103,"column":8},"end":{"line":103,"column":33}},"52":{"start":{"line":108,"column":0},"end":{"line":113,"column":1}},"53":{"start":{"line":109,"column":4},"end":{"line":112,"column":6}},"54":{"start":{"line":115,"column":0},"end":{"line":202,"column":1}},"55":{"start":{"line":116,"column":4},"end":{"line":116,"column":25}},"56":{"start":{"line":117,"column":4},"end":{"line":119,"column":5}},"57":{"start":{"line":118,"column":8},"end":{"line":118,"column":57}},"58":{"start":{"line":127,"column":4},"end":{"line":127,"column":23}},"59":{"start":{"line":128,"column":4},"end":{"line":131,"column":5}},"60":{"start":{"line":129,"column":8},"end":{"line":129,"column":163}},"61":{"start":{"line":130,"column":8},"end":{"line":130,"column":45}},"62":{"start":{"line":130,"column":18},"end":{"line":130,"column":45}},"63":{"start":{"line":133,"column":4},"end":{"line":133,"column":24}},"64":{"start":{"line":134,"column":4},"end":{"line":147,"column":5}},"65":{"start":{"line":135,"column":8},"end":{"line":145,"column":41}},"66":{"start":{"line":136,"column":12},"end":{"line":136,"column":35}},"67":{"start":{"line":137,"column":12},"end":{"line":143,"column":13}},"68":{"start":{"line":138,"column":16},"end":{"line":138,"column":63}},"69":{"start":{"line":139,"column":16},"end":{"line":142,"column":17}},"70":{"start":{"line":140,"column":20},"end":{"line":141,"column":104}},"71":{"start":{"line":140,"column":52},"end":{"line":140,"column":101}},"72":{"start":{"line":141,"column":25},"end":{"line":141,"column":104}},"73":{"start":{"line":141,"column":56},"end":{"line":141,"column":104}},"74":{"start":{"line":144,"column":12},"end":{"line":144,"column":33}},"75":{"start":{"line":146,"column":8},"end":{"line":146,"column":47}},"76":{"start":{"line":146,"column":33},"end":{"line":146,"column":47}},"77":{"start":{"line":150,"column":4},"end":{"line":155,"column":5}},"78":{"start":{"line":151,"column":8},"end":{"line":151,"column":99}},"79":{"start":{"line":151,"column":43},"end":{"line":151,"column":92}},"80":{"start":{"line":152,"column":8},"end":{"line":152,"column":15}},"81":{"start":{"line":154,"column":8},"end":{"line":154,"column":47}},"82":{"start":{"line":154,"column":22},"end":{"line":154,"column":47}},"83":{"start":{"line":157,"column":4},"end":{"line":170,"column":6}},"84":{"start":{"line":172,"column":4},"end":{"line":201,"column":5}},"85":{"start":{"line":173,"column":8},"end":{"line":173,"column":198}},"86":{"start":{"line":175,"column":8},"end":{"line":178,"column":25}},"87":{"start":{"line":176,"column":12},"end":{"line":176,"column":60}},"88":{"start":{"line":177,"column":12},"end":{"line":177,"column":23}},"89":{"start":{"line":180,"column":8},"end":{"line":193,"column":9}},"90":{"start":{"line":181,"column":12},"end":{"line":181,"column":103}},"91":{"start":{"line":181,"column":47},"end":{"line":181,"column":96}},"92":{"start":{"line":182,"column":12},"end":{"line":182,"column":19}},"93":{"start":{"line":184,"column":12},"end":{"line":184,"column":51}},"94":{"start":{"line":184,"column":26},"end":{"line":184,"column":51}},"95":{"start":{"line":185,"column":12},"end":{"line":185,"column":33}},"96":{"start":{"line":187,"column":12},"end":{"line":187,"column":31}},"97":{"start":{"line":189,"column":12},"end":{"line":189,"column":26}},"98":{"start":{"line":195,"column":8},"end":{"line":195,"column":115}},"99":{"start":{"line":195,"column":19},"end":{"line":195,"column":115}},"100":{"start":{"line":196,"column":8},"end":{"line":196,"column":67}},"101":{"start":{"line":198,"column":8},"end":{"line":198,"column":27}},"102":{"start":{"line":199,"column":8},"end":{"line":199,"column":29}},"103":{"start":{"line":200,"column":8},"end":{"line":200,"column":23}},"104":{"start":{"line":204,"column":0},"end":{"line":211,"column":1}},"105":{"start":{"line":205,"column":4},"end":{"line":210,"column":5}},"106":{"start":{"line":206,"column":8},"end":{"line":206,"column":31}},"107":{"start":{"line":207,"column":8},"end":{"line":207,"column":44}},"108":{"start":{"line":208,"column":8},"end":{"line":208,"column":60}},"109":{"start":{"line":209,"column":8},"end":{"line":209,"column":83}},"110":{"start":{"line":213,"column":0},"end":{"line":223,"column":1}},"111":{"start":{"line":214,"column":4},"end":{"line":214,"column":32}},"112":{"start":{"line":215,"column":4},"end":{"line":222,"column":5}},"113":{"start":{"line":216,"column":8},"end":{"line":218,"column":9}},"114":{"start":{"line":217,"column":12},"end":{"line":217,"column":75}},"115":{"start":{"line":217,"column":34},"end":{"line":217,"column":65}},"116":{"start":{"line":220,"column":8},"end":{"line":220,"column":47}},"117":{"start":{"line":220,"column":22},"end":{"line":220,"column":47}},"118":{"start":{"line":221,"column":8},"end":{"line":221,"column":104}},"119":{"start":{"line":225,"column":0},"end":{"line":233,"column":1}},"120":{"start":{"line":226,"column":4},"end":{"line":231,"column":14}},"121":{"start":{"line":227,"column":8},"end":{"line":227,"column":31}},"122":{"start":{"line":228,"column":8},"end":{"line":228,"column":45}},"123":{"start":{"line":229,"column":8},"end":{"line":229,"column":21}},"124":{"start":{"line":230,"column":8},"end":{"line":230,"column":29}},"125":{"start":{"line":232,"column":4},"end":{"line":232,"column":14}},"126":{"start":{"line":236,"column":0},"end":{"line":236,"column":55}}},"branchMap":{"1":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":0},"end":{"line":32,"column":0}},{"start":{"line":32,"column":0},"end":{"line":32,"column":0}}]},"2":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":54,"column":4}},{"start":{"line":54,"column":4},"end":{"line":54,"column":4}}]},"3":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":9},"end":{"line":56,"column":9}},{"start":{"line":56,"column":9},"end":{"line":56,"column":9}}]},"4":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":8}},{"start":{"line":57,"column":8},"end":{"line":57,"column":8}}]},"5":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":16},"end":{"line":60,"column":16}},{"start":{"line":60,"column":16},"end":{"line":60,"column":16}}]},"6":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":8}},{"start":{"line":66,"column":8},"end":{"line":66,"column":8}}]},"7":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":4}},{"start":{"line":81,"column":4},"end":{"line":81,"column":4}}]},"8":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":4}},{"start":{"line":95,"column":4},"end":{"line":95,"column":4}}]},"9":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":4}},{"start":{"line":99,"column":4},"end":{"line":99,"column":4}}]},"10":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":4}},{"start":{"line":117,"column":4},"end":{"line":117,"column":4}}]},"11":{"line":117,"type":"binary-expr","locations":[{"start":{"line":117,"column":7},"end":{"line":117,"column":38}},{"start":{"line":117,"column":40},"end":{"line":117,"column":70}}]},"12":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":4},"end":{"line":128,"column":4}},{"start":{"line":128,"column":4},"end":{"line":128,"column":4}}]},"13":{"line":129,"type":"cond-expr","locations":[{"start":{"line":129,"column":65},"end":{"line":129,"column":102}},{"start":{"line":129,"column":103},"end":{"line":129,"column":162}}]},"14":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":8},"end":{"line":130,"column":8}},{"start":{"line":130,"column":8},"end":{"line":130,"column":8}}]},"15":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":4},"end":{"line":134,"column":4}},{"start":{"line":134,"column":4},"end":{"line":134,"column":4}}]},"16":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":20},"end":{"line":140,"column":20}},{"start":{"line":140,"column":20},"end":{"line":140,"column":20}}]},"17":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":25},"end":{"line":141,"column":25}},{"start":{"line":141,"column":25},"end":{"line":141,"column":25}}]},"18":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":8},"end":{"line":146,"column":8}},{"start":{"line":146,"column":8},"end":{"line":146,"column":8}}]},"19":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":4},"end":{"line":150,"column":4}},{"start":{"line":150,"column":4},"end":{"line":150,"column":4}}]},"20":{"line":150,"type":"binary-expr","locations":[{"start":{"line":150,"column":7},"end":{"line":150,"column":26}},{"start":{"line":150,"column":28},"end":{"line":150,"column":42}}]},"21":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":8},"end":{"line":154,"column":8}},{"start":{"line":154,"column":8},"end":{"line":154,"column":8}}]},"22":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":4},"end":{"line":172,"column":4}},{"start":{"line":172,"column":4},"end":{"line":172,"column":4}}]},"23":{"line":172,"type":"binary-expr","locations":[{"start":{"line":172,"column":7},"end":{"line":172,"column":47}},{"start":{"line":172,"column":49},"end":{"line":172,"column":89}},{"start":{"line":172,"column":91},"end":{"line":172,"column":129}}]},"24":{"line":173,"type":"cond-expr","locations":[{"start":{"line":173,"column":79},"end":{"line":173,"column":123}},{"start":{"line":173,"column":124},"end":{"line":173,"column":197}}]},"25":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":8},"end":{"line":180,"column":8}},{"start":{"line":180,"column":8},"end":{"line":180,"column":8}}]},"26":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":11},"end":{"line":180,"column":39}},{"start":{"line":180,"column":41},"end":{"line":180,"column":57}}]},"27":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":12},"end":{"line":184,"column":12}},{"start":{"line":184,"column":12},"end":{"line":184,"column":12}}]},"28":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":8},"end":{"line":195,"column":8}},{"start":{"line":195,"column":8},"end":{"line":195,"column":8}}]},"29":{"line":205,"type":"if","locations":[{"start":{"line":205,"column":4},"end":{"line":205,"column":4}},{"start":{"line":205,"column":4},"end":{"line":205,"column":4}}]},"30":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":4},"end":{"line":215,"column":4}},{"start":{"line":215,"column":4},"end":{"line":215,"column":4}}]},"31":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":8},"end":{"line":216,"column":8}},{"start":{"line":216,"column":8},"end":{"line":216,"column":8}}]},"32":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":8},"end":{"line":220,"column":8}},{"start":{"line":220,"column":8},"end":{"line":220,"column":8}}]}},"code":["/**"," * Created by james on 13-11-22."," * phantom js bridge"," */","","var system = require('system');","var page = require('webpage').create();","","//command signal defined","var CMD_SIGNAL_CRAWL_SUCCESS = 1;","var CMD_SIGNAL_CRAWL_FAIL = 3;","var CMD_SIGNAL_NAVIGATE_EXCEPTION = 2;","var retryTimer = null;","","////phantomjs client identify","var pid = system.pid;","////caller interactive////////////////////////////////////////////////////////////////////////","var sendToCaller = function(msg){","    system.stdout.writeLine(JSON.stringify(msg)+'#^_^#');","}","////debugtofile//////////////////////////////////////////////////////////////////////////////","var debug2file = function(msg){","    var fs  = require(\"fs\");","    var ipath = origin_urlinfo['ipath'];","    fs.write(ipath+'/phantomjs-debug.log',(new Date())+'==>'+JSON.stringify(msg)+'\\n','a');","}","////user agent////////////////////////////////////////////////////////////////////////////////","page.settings.userAgent = 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.57 Safari/537.36';","page.viewportSize = { width: 1280, height: 5000 };","////argv//////////////////////////////////////////////////////////////////////////////////////////","var drill_count = 0;","if(system.args.length<2)phantom.exit();","try{","var origin_urlinfo = JSON.parse(system.args[1]);","}catch(e){","    sendToCaller({'signal':CMD_SIGNAL_NAVIGATE_EXCEPTION,'message':'js parse fail',\"message\":e,'jsonstr':system.args[1]});","}","","////set cookie///////////////////////////////////////////////////////////////////////////////////","for(var i=0;i<origin_urlinfo['cookie'].length;i++){","    try{","        phantom.addCookie(origin_urlinfo['cookie'][i]);","    }catch(e){","        //pass","    }","}","","////page event////////////////////////////////////////////////////////////////////////////////////","page.onResourceRequested = function (req) {","    //you can ignore css here","};","","page.onResourceReceived = function (res) {","    if (res.stage === 'start') {","    }","    else if (res.stage === 'end') {","        if(res.url===page.url){","            page.status = res.status;","            for(var s=0;s<res.headers.length;s++){","                if(res.headers[s]['name']==='remoteproxy'){","                    page.remoteProxy = res.headers[s]['value'];","                    break;","                }","            }","        }","        if(page.url===\"about:blank\"){","            page.status = res.status;","        }","    }","};","","page.onInitialized = function() {","    //nothing","};","","page.onUrlChanged = function(targetUrl) {","    //pass","};","","page.onResourceError = function(resourceError) {","    if(resourceError.url===page.url){","        sendToCaller({","            'signal':CMD_SIGNAL_CRAWL_FAIL,","            'message':'Unable to load resource',","            \"url\":resourceError.url,","            \"errorCode\":resourceError.errorCode,","            \"description\":resourceError.errorString","        });","    }","};","","page.onLoadStarted  = function(status) {","    page.startTime = new Date();","    page.status = null;","    if(retryTimer)clearTimeout(retryTimer);","};","","page.onLoadFinished = function(status) {","    if (status !== 'success') {","        sendToCaller({'signal':CMD_SIGNAL_CRAWL_FAIL,'message':'Open page failed',\"url\":page.url});","    } else {","        page.endTime = new Date();","        workAfterLoadFinish(0,0);","    }","","};","","page.onNavigationRequested = function(url, type, willNavigate, main) {","    page.customHeaders = {","        \"client_pid\": pid,","        \"page\": url","    };","}","","var workAfterLoadFinish = function(drill_retry,navigateretry){","    var injected = false;","    if(origin_urlinfo['inject_jquery']&&(drill_retry+navigateretry)==0){","        injected = page.injectJs(\"jquery-1.10.2.min.js\");","    }","/*","    var point = page.evaluate(function(rules){","        var bt = document.querySelector('ul.tb-tabbar li:nth-child(2) a.tb-tab-anchor');","        $('ul.tb-tabbar li:nth-child(2) a.tb-tab-anchor').click();","        return true;","    },origin_urlinfo['drill_rules']);","*/","    var js_result = [];","    if(origin_urlinfo['script'].length>0){","        var script = drill_count<origin_urlinfo['script'].length?origin_urlinfo['script'][drill_count]:origin_urlinfo['script'][origin_urlinfo['script'].length-1];","        if(script)js_result = jsExec(script);","    }","","    var drill_link = [];","    if(origin_urlinfo['drill_rules'].length>0){","        var drill_link = page.evaluate(function(rules){","            var jsexec_result = [];","            for(var i=0;i<rules.length;i++){","                var doms = document.querySelectorAll(rules[i]);","                for(var x=0;x<doms.length;x++){","                    if(doms[x].hasAttribute('href'))jsexec_result.push(doms[x].getAttribute('href'));","                    else if(doms[x].hasAttribute('src'))jsexec_result.push(doms[x].getAttribute('src'));","                }","            }","            return jsexec_result;","        },origin_urlinfo['drill_rules']);","        if(drill_link==undefined)drill_link=[];","    }","","","    if(drill_link.length<1&&drill_retry<30){","        retryTimer = setTimeout(function(){workAfterLoadFinish(++drill_retry,navigateretry);},200);","        return;","    }else{","        if(retryTimer)clearTimeout(retryTimer);","    }","","    var result = {","        \"signal\":CMD_SIGNAL_CRAWL_SUCCESS,","        \"content\":page.content,//origin_urlinfo['type']===\"node\"?page.content:'',","        \"remote_proxy\":page.remoteProxy,","        \"cost\":page.endTime-page.startTime,","        \"inject_jquery\":injected,","        \"js_result\":js_result,","        \"drill_link\":drill_link,","        \"drill_count\":drill_count,","        \"cookie\":page.cookies,","        \"url\":page.url,","        \"statusCode\":page.status,","        \"origin\":origin_urlinfo","    };","","    if(drill_count<origin_urlinfo['stoppage']-1&&origin_urlinfo['navigate_rule'].length>0&&origin_urlinfo['navigate_rule'][0]!=''){","        var navigate_rule = drill_count<origin_urlinfo['navigate_rule'].length?origin_urlinfo['navigate_rule'][drill_count]:origin_urlinfo['navigate_rule'][origin_urlinfo['navigate_rule'].length-1];","        //page.injectJs(\"webpatch.js\");","        var button = page.evaluate(function(navigate_rule) {","            var tbt = document.querySelector(navigate_rule);","            return tbt;","        },navigate_rule);","","        if(button.offsetLeft==undefined&&navigateretry<30){","            retryTimer = setTimeout(function(){workAfterLoadFinish(drill_retry,++navigateretry);},200);","            return;","        }else{","            if(retryTimer)clearTimeout(retryTimer);","            sendToCaller(result);","","            page_test_action();","","            drill_count++;","//            var fs = require('fs');","//            var ipath = origin_urlinfo['ipath'];","//            fs.write(ipath+'/debug-info'+drill_count+'.txt',JSON.stringify(button),'w');","        }","","        if(!button)sendToCaller({'signal':CMD_SIGNAL_NAVIGATE_EXCEPTION,'message':'navigate fail',\"url\":page.url});","        clickbutton(button.offsetLeft+1, button.offsetTop+1,500,0);","    }else{","        page_test_action();","        sendToCaller(result);","        phantom.exit();","    }","}","","var page_test_action = function(){","    if(origin_urlinfo['test']!=undefined){","        var fs = require('fs');","        var ipath = origin_urlinfo['ipath'];","        page.render(ipath+'/debug-page'+drill_count+'.png');","        fs.write(ipath+'/debug-browser-page'+drill_count+'.html',page.content,'w');","    }","}","","var clickbutton = function(x,y,repeat,retry){","    page.sendEvent('click',x,y);","    if(retry<10){","        if(repeat>0){","            setTimeout(function(){clickbutton(x,y,repeat,++retry)},repeat);","        }","    }else{","        if(retryTimer)clearTimeout(retryTimer);","        sendToCaller({'signal':CMD_SIGNAL_NAVIGATE_EXCEPTION,'message':'navigate fail',\"url\":page.url});","    }","}","","var jsExec= function(commad){","    var xr = page.evaluate(function(commad){","        var jsexec_result = [];","        commad = 'try{'+commad+'}catch(e){}';","        eval(commad);","        return jsexec_result;","    },commad);","    return xr;","}","","////act//////////////////////////////////////////////////////////////////////////////////////","page.open(origin_urlinfo['url'], function (status) {});","/*","var url = 'http://ju.taobao.com/?spm=1.6659421.754904973.2.ALtBmk';","var script = \"jsexec_result = $.makeArray($('.category li a span').text())\";","var urlinfo = {\"url\":url,\"type\":\"branch\",\"referer\":\"http://www.taobao.com\",\"jshandle\":true,\"inject_jquery\":true,\"script\":script,\"navigate_rules\":[]}","openUrl(urlinfo);","*/",""],"l":{"6":2,"7":0,"10":0,"11":0,"12":0,"13":0,"16":0,"18":0,"19":0,"22":0,"23":0,"24":0,"25":0,"28":0,"29":0,"31":0,"32":0,"33":0,"34":0,"36":0,"40":0,"41":0,"42":0,"49":0,"53":0,"54":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"66":0,"67":0,"72":0,"76":0,"80":0,"81":0,"82":0,"92":0,"93":0,"94":0,"95":0,"98":0,"99":0,"100":0,"102":0,"103":0,"108":0,"109":0,"115":0,"116":0,"117":0,"118":0,"127":0,"128":0,"129":0,"130":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"144":0,"146":0,"150":0,"151":0,"152":0,"154":0,"157":0,"172":0,"173":0,"175":0,"176":0,"177":0,"180":0,"181":0,"182":0,"184":0,"185":0,"187":0,"189":0,"195":0,"196":0,"198":0,"199":0,"200":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"213":0,"214":0,"215":0,"216":0,"217":0,"220":0,"221":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"232":0,"236":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/phantomjs/webpatch.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/lib/phantomjs/webpatch.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":11,"loc":{"start":{"line":11,"column":38},"end":{"line":11,"column":49}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":24,"column":1}},"2":{"start":{"line":10,"column":4},"end":{"line":23,"column":5}},"3":{"start":{"line":11,"column":8},"end":{"line":22,"column":10}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":56}},"5":{"start":{"line":13,"column":12},"end":{"line":20,"column":14}},"6":{"start":{"line":21,"column":12},"end":{"line":21,"column":35}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":0},"end":{"line":5,"column":0}},{"start":{"line":5,"column":0},"end":{"line":5,"column":0}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":4}},{"start":{"line":10,"column":4},"end":{"line":10,"column":4}}]}},"code":["/**"," * Created by james on 13-11-27."," * web patch"," */","if (window._phantom) {","    // Patch since PhantomJS does not implement click() on HTMLElement. In some","    // cases we need to execute the native click on an element. However, jQuery's","    // $.fn.click() does not dispatch to the native function on <a> elements, so we","    // can't use it in our implementations: $el[0].click() to correctly dispatch.","    if (!HTMLElement.prototype.click) {","        HTMLElement.prototype.click = function() {","            var ev = document.createEvent('MouseEvent');","            ev.initMouseEvent(","                'click',","                /*bubble*/true, /*cancelable*/true,","                window, null,","                0, 0, 0, 0, /*coordinates*/","                false, false, false, false, /*modifier keys*/","                0/*button=left*/, null","            );","            this.dispatchEvent(ev);","        };","    }","}"],"l":{"5":2,"10":0,"11":0,"12":0,"13":0,"21":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/controllers/monitor.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/controllers/monitor.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"fnMap":{"1":{"name":"(anonymous_1)","line":19,"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":21}}},"2":{"name":"(anonymous_2)","line":29,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":21}}},"3":{"name":"(anonymous_3)","line":39,"loc":{"start":{"line":39,"column":4},"end":{"line":39,"column":21}}},"4":{"name":"(anonymous_4)","line":48,"loc":{"start":{"line":48,"column":19},"end":{"line":48,"column":29}}},"5":{"name":"(anonymous_5)","line":53,"loc":{"start":{"line":53,"column":16},"end":{"line":53,"column":35}}},"6":{"name":"(anonymous_6)","line":59,"loc":{"start":{"line":59,"column":35},"end":{"line":59,"column":55}}},"7":{"name":"(anonymous_7)","line":75,"loc":{"start":{"line":75,"column":17},"end":{"line":75,"column":36}}},"8":{"name":"(anonymous_8)","line":83,"loc":{"start":{"line":83,"column":8},"end":{"line":83,"column":26}}},"9":{"name":"(anonymous_9)","line":84,"loc":{"start":{"line":84,"column":43},"end":{"line":84,"column":61}}},"10":{"name":"(anonymous_10)","line":87,"loc":{"start":{"line":87,"column":33},"end":{"line":87,"column":43}}},"11":{"name":"(anonymous_11)","line":89,"loc":{"start":{"line":89,"column":22},"end":{"line":89,"column":34}}},"12":{"name":"(anonymous_12)","line":91,"loc":{"start":{"line":91,"column":40},"end":{"line":91,"column":58}}},"13":{"name":"(anonymous_13)","line":98,"loc":{"start":{"line":98,"column":22},"end":{"line":98,"column":35}}},"14":{"name":"(anonymous_14)","line":104,"loc":{"start":{"line":104,"column":8},"end":{"line":104,"column":26}}},"15":{"name":"(anonymous_15)","line":105,"loc":{"start":{"line":105,"column":46},"end":{"line":105,"column":64}}},"16":{"name":"(anonymous_16)","line":110,"loc":{"start":{"line":110,"column":8},"end":{"line":110,"column":26}}},"17":{"name":"(anonymous_17)","line":111,"loc":{"start":{"line":111,"column":46},"end":{"line":111,"column":63}}},"18":{"name":"(anonymous_18)","line":116,"loc":{"start":{"line":116,"column":8},"end":{"line":116,"column":26}}},"19":{"name":"(anonymous_19)","line":117,"loc":{"start":{"line":117,"column":26},"end":{"line":117,"column":44}}},"20":{"name":"(anonymous_20)","line":122,"loc":{"start":{"line":122,"column":6},"end":{"line":122,"column":19}}},"21":{"name":"(anonymous_21)","line":127,"loc":{"start":{"line":127,"column":16},"end":{"line":127,"column":35}}},"22":{"name":"(anonymous_22)","line":144,"loc":{"start":{"line":144,"column":8},"end":{"line":144,"column":18}}},"23":{"name":"(anonymous_23)","line":147,"loc":{"start":{"line":147,"column":8},"end":{"line":147,"column":26}}},"24":{"name":"(anonymous_24)","line":157,"loc":{"start":{"line":157,"column":43},"end":{"line":157,"column":63}}},"25":{"name":"(anonymous_25)","line":167,"loc":{"start":{"line":167,"column":8},"end":{"line":167,"column":21}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":18}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":18}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":20}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":21}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":47}},"8":{"start":{"line":12,"column":31},"end":{"line":12,"column":47}},"9":{"start":{"line":14,"column":0},"end":{"line":21,"column":7}},"10":{"start":{"line":20,"column":8},"end":{"line":20,"column":21}},"11":{"start":{"line":24,"column":0},"end":{"line":31,"column":7}},"12":{"start":{"line":30,"column":8},"end":{"line":30,"column":21}},"13":{"start":{"line":34,"column":0},"end":{"line":41,"column":7}},"14":{"start":{"line":40,"column":8},"end":{"line":40,"column":23}},"15":{"start":{"line":48,"column":0},"end":{"line":51,"column":1}},"16":{"start":{"line":49,"column":4},"end":{"line":49,"column":23}},"17":{"start":{"line":50,"column":4},"end":{"line":50,"column":132}},"18":{"start":{"line":53,"column":0},"end":{"line":73,"column":2}},"19":{"start":{"line":54,"column":4},"end":{"line":54,"column":35}},"20":{"start":{"line":55,"column":4},"end":{"line":55,"column":35}},"21":{"start":{"line":55,"column":13},"end":{"line":55,"column":35}},"22":{"start":{"line":56,"column":4},"end":{"line":56,"column":20}},"23":{"start":{"line":57,"column":4},"end":{"line":57,"column":19}},"24":{"start":{"line":59,"column":4},"end":{"line":72,"column":7}},"25":{"start":{"line":60,"column":8},"end":{"line":70,"column":9}},"26":{"start":{"line":61,"column":12},"end":{"line":69,"column":13}},"27":{"start":{"line":62,"column":16},"end":{"line":62,"column":44}},"28":{"start":{"line":63,"column":16},"end":{"line":63,"column":42}},"29":{"start":{"line":64,"column":16},"end":{"line":64,"column":41}},"30":{"start":{"line":65,"column":16},"end":{"line":65,"column":55}},"31":{"start":{"line":65,"column":35},"end":{"line":65,"column":55}},"32":{"start":{"line":66,"column":16},"end":{"line":66,"column":52}},"33":{"start":{"line":67,"column":16},"end":{"line":68,"column":59}},"34":{"start":{"line":67,"column":35},"end":{"line":67,"column":72}},"35":{"start":{"line":68,"column":21},"end":{"line":68,"column":59}},"36":{"start":{"line":71,"column":8},"end":{"line":71,"column":81}},"37":{"start":{"line":75,"column":0},"end":{"line":125,"column":2}},"38":{"start":{"line":76,"column":4},"end":{"line":76,"column":28}},"39":{"start":{"line":77,"column":4},"end":{"line":77,"column":23}},"40":{"start":{"line":78,"column":4},"end":{"line":78,"column":27}},"41":{"start":{"line":79,"column":4},"end":{"line":79,"column":28}},"42":{"start":{"line":80,"column":4},"end":{"line":80,"column":27}},"43":{"start":{"line":82,"column":4},"end":{"line":124,"column":6}},"44":{"start":{"line":84,"column":12},"end":{"line":102,"column":15}},"45":{"start":{"line":85,"column":16},"end":{"line":101,"column":32}},"46":{"start":{"line":86,"column":20},"end":{"line":86,"column":30}},"47":{"start":{"line":87,"column":20},"end":{"line":100,"column":23}},"48":{"start":{"line":88,"column":24},"end":{"line":88,"column":45}},"49":{"start":{"line":90,"column":24},"end":{"line":90,"column":44}},"50":{"start":{"line":91,"column":24},"end":{"line":97,"column":27}},"51":{"start":{"line":92,"column":28},"end":{"line":96,"column":42}},"52":{"start":{"line":93,"column":32},"end":{"line":93,"column":54}},"53":{"start":{"line":94,"column":32},"end":{"line":94,"column":56}},"54":{"start":{"line":95,"column":32},"end":{"line":95,"column":37}},"55":{"start":{"line":96,"column":34},"end":{"line":96,"column":42}},"56":{"start":{"line":99,"column":24},"end":{"line":99,"column":35}},"57":{"start":{"line":101,"column":22},"end":{"line":101,"column":32}},"58":{"start":{"line":105,"column":12},"end":{"line":108,"column":15}},"59":{"start":{"line":106,"column":16},"end":{"line":106,"column":52}},"60":{"start":{"line":106,"column":30},"end":{"line":106,"column":52}},"61":{"start":{"line":107,"column":16},"end":{"line":107,"column":27}},"62":{"start":{"line":111,"column":12},"end":{"line":114,"column":15}},"63":{"start":{"line":112,"column":16},"end":{"line":112,"column":51}},"64":{"start":{"line":112,"column":29},"end":{"line":112,"column":51}},"65":{"start":{"line":113,"column":16},"end":{"line":113,"column":27}},"66":{"start":{"line":117,"column":12},"end":{"line":120,"column":15}},"67":{"start":{"line":118,"column":16},"end":{"line":118,"column":52}},"68":{"start":{"line":118,"column":30},"end":{"line":118,"column":52}},"69":{"start":{"line":119,"column":16},"end":{"line":119,"column":27}},"70":{"start":{"line":123,"column":8},"end":{"line":123,"column":194}},"71":{"start":{"line":127,"column":0},"end":{"line":171,"column":1}},"72":{"start":{"line":128,"column":4},"end":{"line":128,"column":39}},"73":{"start":{"line":129,"column":4},"end":{"line":129,"column":42}},"74":{"start":{"line":130,"column":4},"end":{"line":130,"column":31}},"75":{"start":{"line":132,"column":4},"end":{"line":132,"column":24}},"76":{"start":{"line":133,"column":4},"end":{"line":133,"column":26}},"77":{"start":{"line":134,"column":4},"end":{"line":134,"column":22}},"78":{"start":{"line":135,"column":4},"end":{"line":135,"column":23}},"79":{"start":{"line":136,"column":4},"end":{"line":136,"column":23}},"80":{"start":{"line":137,"column":4},"end":{"line":137,"column":22}},"81":{"start":{"line":138,"column":4},"end":{"line":138,"column":22}},"82":{"start":{"line":139,"column":4},"end":{"line":139,"column":22}},"83":{"start":{"line":140,"column":4},"end":{"line":140,"column":24}},"84":{"start":{"line":142,"column":4},"end":{"line":142,"column":21}},"85":{"start":{"line":143,"column":4},"end":{"line":170,"column":6}},"86":{"start":{"line":145,"column":12},"end":{"line":145,"column":30}},"87":{"start":{"line":148,"column":12},"end":{"line":148,"column":51}},"88":{"start":{"line":149,"column":12},"end":{"line":149,"column":26}},"89":{"start":{"line":150,"column":12},"end":{"line":150,"column":37}},"90":{"start":{"line":151,"column":12},"end":{"line":151,"column":40}},"91":{"start":{"line":152,"column":12},"end":{"line":153,"column":31}},"92":{"start":{"line":152,"column":24},"end":{"line":152,"column":44}},"93":{"start":{"line":153,"column":17},"end":{"line":153,"column":31}},"94":{"start":{"line":154,"column":12},"end":{"line":155,"column":38}},"95":{"start":{"line":154,"column":31},"end":{"line":154,"column":58}},"96":{"start":{"line":155,"column":17},"end":{"line":155,"column":38}},"97":{"start":{"line":156,"column":12},"end":{"line":156,"column":50}},"98":{"start":{"line":157,"column":12},"end":{"line":165,"column":15}},"99":{"start":{"line":158,"column":16},"end":{"line":158,"column":92}},"100":{"start":{"line":159,"column":16},"end":{"line":159,"column":92}},"101":{"start":{"line":160,"column":16},"end":{"line":160,"column":89}},"102":{"start":{"line":161,"column":16},"end":{"line":161,"column":89}},"103":{"start":{"line":162,"column":16},"end":{"line":162,"column":89}},"104":{"start":{"line":163,"column":16},"end":{"line":163,"column":95}},"105":{"start":{"line":164,"column":16},"end":{"line":164,"column":27}},"106":{"start":{"line":168,"column":12},"end":{"line":168,"column":218}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":0},"end":{"line":12,"column":0}},{"start":{"line":12,"column":0},"end":{"line":12,"column":0}}]},"2":{"line":50,"type":"cond-expr","locations":[{"start":{"line":50,"column":49},"end":{"line":50,"column":63}},{"start":{"line":50,"column":64},"end":{"line":50,"column":84}}]},"3":{"line":50,"type":"cond-expr","locations":[{"start":{"line":50,"column":103},"end":{"line":50,"column":114}},{"start":{"line":50,"column":115},"end":{"line":50,"column":130}}]},"4":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":55,"column":4}},{"start":{"line":55,"column":4},"end":{"line":55,"column":4}}]},"5":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":12},"end":{"line":61,"column":12}},{"start":{"line":61,"column":12},"end":{"line":61,"column":12}}]},"6":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":16},"end":{"line":65,"column":16}},{"start":{"line":65,"column":16},"end":{"line":65,"column":16}}]},"7":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":16},"end":{"line":67,"column":16}},{"start":{"line":67,"column":16},"end":{"line":67,"column":16}}]},"8":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":16},"end":{"line":85,"column":16}},{"start":{"line":85,"column":16},"end":{"line":85,"column":16}}]},"9":{"line":85,"type":"binary-expr","locations":[{"start":{"line":85,"column":19},"end":{"line":85,"column":23}},{"start":{"line":85,"column":25},"end":{"line":85,"column":29}}]},"10":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":28},"end":{"line":92,"column":28}},{"start":{"line":92,"column":28},"end":{"line":92,"column":28}}]},"11":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":31},"end":{"line":92,"column":35}},{"start":{"line":92,"column":37},"end":{"line":92,"column":41}}]},"12":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":16},"end":{"line":106,"column":16}},{"start":{"line":106,"column":16},"end":{"line":106,"column":16}}]},"13":{"line":106,"type":"binary-expr","locations":[{"start":{"line":106,"column":19},"end":{"line":106,"column":23}},{"start":{"line":106,"column":25},"end":{"line":106,"column":29}}]},"14":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":16},"end":{"line":112,"column":16}},{"start":{"line":112,"column":16},"end":{"line":112,"column":16}}]},"15":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":19},"end":{"line":112,"column":23}},{"start":{"line":112,"column":25},"end":{"line":112,"column":28}}]},"16":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":16},"end":{"line":118,"column":16}},{"start":{"line":118,"column":16},"end":{"line":118,"column":16}}]},"17":{"line":118,"type":"binary-expr","locations":[{"start":{"line":118,"column":19},"end":{"line":118,"column":23}},{"start":{"line":118,"column":25},"end":{"line":118,"column":29}}]},"18":{"line":129,"type":"binary-expr","locations":[{"start":{"line":129,"column":18},"end":{"line":129,"column":35}},{"start":{"line":129,"column":37},"end":{"line":129,"column":41}}]},"19":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":12},"end":{"line":152,"column":12}},{"start":{"line":152,"column":12},"end":{"line":152,"column":12}}]},"20":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":12},"end":{"line":154,"column":12}},{"start":{"line":154,"column":12},"end":{"line":154,"column":12}}]},"21":{"line":158,"type":"cond-expr","locations":[{"start":{"line":158,"column":55},"end":{"line":158,"column":88}},{"start":{"line":158,"column":89},"end":{"line":158,"column":90}}]},"22":{"line":159,"type":"cond-expr","locations":[{"start":{"line":159,"column":55},"end":{"line":159,"column":88}},{"start":{"line":159,"column":89},"end":{"line":159,"column":90}}]},"23":{"line":160,"type":"cond-expr","locations":[{"start":{"line":160,"column":53},"end":{"line":160,"column":85}},{"start":{"line":160,"column":86},"end":{"line":160,"column":87}}]},"24":{"line":161,"type":"cond-expr","locations":[{"start":{"line":161,"column":53},"end":{"line":161,"column":85}},{"start":{"line":161,"column":86},"end":{"line":161,"column":87}}]},"25":{"line":162,"type":"cond-expr","locations":[{"start":{"line":162,"column":53},"end":{"line":162,"column":85}},{"start":{"line":162,"column":86},"end":{"line":162,"column":87}}]},"26":{"line":163,"type":"cond-expr","locations":[{"start":{"line":163,"column":57},"end":{"line":163,"column":91}},{"start":{"line":163,"column":92},"end":{"line":163,"column":93}}]}},"code":["/**"," * Created by malcolm on 1/9/14."," */","","var myredis = require('../../lib/myredis.js');","var async = require('async');","var ruledb = null;","var infodb = null;","var reportdb = null;","","var dbtype = 'redis';","if(global.settings['use_ssdb'])dbtype = 'ssdb';","","myredis.createClient(","    global.settings['driller_info_redis_db'][0],","    global.settings['driller_info_redis_db'][1],","    global.settings['driller_info_redis_db'][2],","    dbtype,","    function(err,cli){","        ruledb = cli;","    });","","","myredis.createClient(","    global.settings['url_info_redis_db'][0],","    global.settings['url_info_redis_db'][1],","    global.settings['url_info_redis_db'][2],","    dbtype,","    function(err,cli){","        infodb = cli;","    });","","","myredis.createClient(","    global.settings['url_report_redis_db'][0],","    global.settings['url_report_redis_db'][1],","    global.settings['url_report_redis_db'][2],","    dbtype,","    function(err,cli){","        reportdb = cli;","    });","","/**"," * get date string"," * @returns {string} 20140928"," * @private"," */","var __getDateStr = function(){","    var d = new Date();","    return ''+ d.getFullYear() + (d.getMonth()>8?d.getMonth()+1:'0'+(d.getMonth()+1)) + (d.getDate()>9?d.getDate():'0'+d.getDate());","}","","exports.daily = function(req, res) {","    var date   = req.query['date'];","    if(!date)date = __getDateStr();","    var result = {};","    var total = {};","","    reportdb.hgetall('count:'+date,function(err,hashes){","        for(var i in hashes){","            if(hashes.hasOwnProperty(i)){","                var spilited = i.split(':');","                var colname = spilited[0];","                var domain = spilited[1];","                if(!result[domain])result[domain] = {};","                result[domain][colname] = hashes[i];","                if(!total[colname])total[colname] = parseInt(hashes[i]);","                else total[colname] += parseInt(hashes[i]);","            }","        }","        res.render('monitor/daily', {'result':result,'date':date,'total':total});","    });","};","","exports.linkdb = function(req, res) {","    var total_linkcount = 0;","    var linkcount = {};","    var scheduledcount = 0;","    var rulelastchanged = 0;","    var linkinfodbsize = 0;","","    async.series([","        function(callback){","            ruledb.keys('urllib:driller:*',function(err,keys){","                if(!err&&keys){","                    var c = 0;","                    async.whilst(function(){","                        return c<keys.length;","                    },function(cb){","                        var itm = keys[c++];","                        ruledb.llen(itm,function(err,size){","                            if(!err&&size){","                                linkcount[itm] = size;","                                total_linkcount += size;","                                cb();","                            }else cb(err);","                        });","                    },function(err){","                        callback();","                    });","                }else callback()","            });","        },","        function(callback){","            ruledb.llen('queue:scheduled:all',function(err,size){","                if(!err&&size)scheduledcount = size;","                callback();","            });","        },","        function(callback){","            ruledb.get('updated:driller:rule',function(err,val){","                if(!err&&val)rulelastchanged = val;","                callback();","            });","        },","        function(callback){","            infodb.dbsize(function(err,size){","                if(!err&&size)linkinfodbsize = size;","                callback();","            });","        }","    ],function(err){","        res.render('monitor/linkdb', {'total_linkcount':total_linkcount,'linkcount':linkcount,'scheduledcount':scheduledcount,'rulelastchanged':rulelastchanged,'linkinfodbsize':linkinfodbsize});","    })","};","","exports.chart = function(req, res) {","    var domain   = req.query['domain'];","    var sdays   = req.query['days']||'30';","    var days = parseInt(sdays);","","    var nd = new Date();","    var nl = nd.getTime();","    var date_arr = [];","    var crawl_arr = [];","    var retry_arr = [];","    var fail_arr = [];","    var lack_arr = [];","    var save_arr = [];","    var finish_arr = [];","","    var index = days;","    async.whilst(","        function(){","            return index >= 0;","        },","        function(callback){","            var td = new Date(nl-86400000*index--);","            var dstr = '';","            dstr += td.getFullYear();","            var month = td.getMonth()+1;","            if(month<10)dstr += '0' + month;","            else dstr += month;","            if(td.getDate()<10)dstr += '0' + td.getDate();","            else dstr += td.getDate();","            date_arr.push(month+'-'+td.getDate());","            reportdb.hgetall('count:'+dstr,function(err,hashes){","                crawl_arr.push(hashes['crawl:'+domain]?parseInt(hashes['crawl:'+domain]):0);","                retry_arr.push(hashes['retry:'+domain]?parseInt(hashes['retry:'+domain]):0);","                fail_arr.push(hashes['fail:'+domain]?parseInt(hashes['fail:'+domain]):0);","                lack_arr.push(hashes['lack:'+domain]?parseInt(hashes['lack:'+domain]):0);","                save_arr.push(hashes['save:'+domain]?parseInt(hashes['save:'+domain]):0);","                finish_arr.push(hashes['finish:'+domain]?parseInt(hashes['finish:'+domain]):0);","                callback();","            });","        },","        function(err){","            res.render('monitor/chart',{'domain':domain,'days':days,'date_arr':date_arr,'crawl_arr':crawl_arr,'retry_arr':retry_arr,'fail_arr':fail_arr,'lack_arr':lack_arr,'save_arr':save_arr,'finish_arr':finish_arr});","        }","    );","}"],"l":{"5":2,"6":2,"7":2,"8":2,"9":2,"11":2,"12":2,"14":0,"20":0,"24":0,"30":0,"34":0,"40":0,"48":0,"49":0,"50":0,"53":0,"54":0,"55":0,"56":0,"57":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"71":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"82":0,"84":0,"85":0,"86":0,"87":0,"88":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"99":0,"101":0,"105":0,"106":0,"107":0,"111":0,"112":0,"113":0,"117":0,"118":0,"119":0,"123":0,"127":0,"128":0,"129":0,"130":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"142":0,"143":0,"145":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"168":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/controllers/proxy.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/controllers/proxy.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":16},"end":{"line":26,"column":35}}},"2":{"name":"(anonymous_2)","line":28,"loc":{"start":{"line":28,"column":29},"end":{"line":28,"column":50}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":14},"end":{"line":37,"column":33}}},"4":{"name":"(anonymous_4)","line":42,"loc":{"start":{"line":42,"column":17},"end":{"line":42,"column":36}}},"5":{"name":"(anonymous_5)","line":61,"loc":{"start":{"line":61,"column":50},"end":{"line":61,"column":71}}},"6":{"name":"(anonymous_6)","line":70,"loc":{"start":{"line":70,"column":18},"end":{"line":70,"column":36}}},"7":{"name":"(anonymous_7)","line":75,"loc":{"start":{"line":75,"column":34},"end":{"line":75,"column":55}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":59}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":19}},"3":{"start":{"line":5,"column":0},"end":{"line":9,"column":19}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":43}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":44}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":44}},"7":{"start":{"line":14,"column":0},"end":{"line":14,"column":44}},"8":{"start":{"line":15,"column":0},"end":{"line":15,"column":44}},"9":{"start":{"line":16,"column":0},"end":{"line":16,"column":46}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":46}},"11":{"start":{"line":19,"column":0},"end":{"line":19,"column":40}},"12":{"start":{"line":20,"column":0},"end":{"line":20,"column":41}},"13":{"start":{"line":21,"column":0},"end":{"line":21,"column":41}},"14":{"start":{"line":22,"column":0},"end":{"line":22,"column":41}},"15":{"start":{"line":23,"column":0},"end":{"line":23,"column":43}},"16":{"start":{"line":26,"column":0},"end":{"line":34,"column":2}},"17":{"start":{"line":28,"column":3},"end":{"line":33,"column":6}},"18":{"start":{"line":30,"column":5},"end":{"line":30,"column":20}},"19":{"start":{"line":32,"column":7},"end":{"line":32,"column":85}},"20":{"start":{"line":37,"column":0},"end":{"line":40,"column":2}},"21":{"start":{"line":38,"column":4},"end":{"line":38,"column":86}},"22":{"start":{"line":39,"column":4},"end":{"line":39,"column":27}},"23":{"start":{"line":42,"column":0},"end":{"line":67,"column":2}},"24":{"start":{"line":47,"column":4},"end":{"line":47,"column":31}},"25":{"start":{"line":48,"column":4},"end":{"line":48,"column":12}},"26":{"start":{"line":49,"column":4},"end":{"line":53,"column":5}},"27":{"start":{"line":50,"column":6},"end":{"line":50,"column":48}},"28":{"start":{"line":52,"column":6},"end":{"line":52,"column":48}},"29":{"start":{"line":56,"column":4},"end":{"line":56,"column":43}},"30":{"start":{"line":57,"column":4},"end":{"line":57,"column":47}},"31":{"start":{"line":58,"column":4},"end":{"line":58,"column":39}},"32":{"start":{"line":59,"column":4},"end":{"line":59,"column":26}},"33":{"start":{"line":61,"column":4},"end":{"line":65,"column":7}},"34":{"start":{"line":62,"column":8},"end":{"line":64,"column":10}},"35":{"start":{"line":66,"column":4},"end":{"line":66,"column":26}},"36":{"start":{"line":70,"column":0},"end":{"line":88,"column":2}},"37":{"start":{"line":71,"column":2},"end":{"line":71,"column":29}},"38":{"start":{"line":72,"column":2},"end":{"line":72,"column":27}},"39":{"start":{"line":75,"column":2},"end":{"line":86,"column":5}},"40":{"start":{"line":79,"column":8},"end":{"line":84,"column":10}},"41":{"start":{"line":85,"column":9},"end":{"line":85,"column":31}}},"branchMap":{"1":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":49,"column":4}},{"start":{"line":49,"column":4},"end":{"line":49,"column":4}}]},"2":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":62,"column":8}},{"start":{"line":62,"column":8},"end":{"line":62,"column":8}}]},"3":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":79,"column":8}},{"start":{"line":79,"column":8},"end":{"line":79,"column":8}}]}},"code":["var proxyManager = require('../models/proxyManagement.js');","","var proxyList = [];","","var template =  {","        key:'',","        address: '',","        authorize: '',","        group: ''};","","PROXY_P_PREFIX = 'proxy:public:available:';","PROXY_P_KEY1S = 'proxy:public:available:1s';","PROXY_P_KEY3S = 'proxy:public:available:3s';","PROXY_P_KEY5S = 'proxy:public:available:5s';","PROXY_P_KEY8S = 'proxy:public:available:8s';","PROXY_P_KEY12S = 'proxy:public:available:12s';","PROXY_P_KEY20S = 'proxy:public:available:20s';","","PROXY_V_PREFIX = 'proxy:vip:available:';","PROXY_V_KEY1S = 'proxy:vip:available:1s';","PROXY_V_KEY3S = 'proxy:vip:available:3s';","PROXY_V_KEY8S = 'proxy:vip:available:8s';","PROXY_V_KEY15S = 'proxy:vip:available:15s';","","// index displaying all available proxy list","exports.index = function(req, res) {","   ","   proxyManager.getProxyList(function(err, result){","     //proxyList = result;","     proxyList = [];","//        console.log(\"proxy list:\", result);","       res.render('proxy/index', {title : 'Available Proxy List', proxyList:result});","   });  ","};","","// display new proxy form","exports.new = function(req, res) {","    var filePath = require('path').normalize(__dirname + \"/../public/proxy/new.html\");","    res.sendfile(filePath);","};","","exports.create = function(req, res) {","//    console.log(\"address:\", req.body.address);","//    console.log(\"authorize:\", req.body.authorize);","//    console.log(\"group:\", req.body.group);","","    var group = req.body.group;","    var key;","    if(group[0] === 'p'){","      key = PROXY_P_PREFIX + group.substring(1);","    }else{","      key = PROXY_V_PREFIX + group.substring(1);","    }","//    console.log(\"key:\", key);","","    template['address'] = req.body.address;","    template['authorize'] = req.body.authorize;","    template['group'] = req.body.group;","    template['key'] = key;","","    proxyManager.create(key, template['address'], function(err, result){","        if(!err) {","            ","         } ","    });","    res.redirect('proxy');","};","","// delete a widget","exports.destroy = function(req,res) {","  var host = req.params.host;","  var key = req.params.key;","","//  console.log(host, key);","  proxyManager.destroy(key, host, function(err, result){","","//        console.log('Host', host, 'deleted.');","          ","        if(!err) {","           ","                //console.log(\"list:\", result);","               ","","         }  ","         res.redirect('proxy'); ","  });","","};"],"l":{"1":2,"3":0,"5":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"19":0,"20":0,"21":0,"22":0,"23":0,"26":0,"28":0,"30":0,"32":0,"37":0,"38":0,"39":0,"42":0,"47":0,"48":0,"49":0,"50":0,"52":0,"56":0,"57":0,"58":0,"59":0,"61":0,"62":0,"66":0,"70":0,"71":0,"72":0,"75":0,"79":0,"85":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/models/proxyManagement.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/models/proxyManagement.js","s":{"1":4,"2":4,"3":4,"4":4,"5":4,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":18,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":21}}},"2":{"name":"(anonymous_2)","line":44,"loc":{"start":{"line":44,"column":15},"end":{"line":44,"column":27}}},"3":{"name":"(anonymous_3)","line":51,"loc":{"start":{"line":51,"column":21},"end":{"line":51,"column":36}}},"4":{"name":"(anonymous_4)","line":58,"loc":{"start":{"line":58,"column":3},"end":{"line":58,"column":24}}},"5":{"name":"(anonymous_5)","line":70,"loc":{"start":{"line":70,"column":18},"end":{"line":70,"column":35}}},"6":{"name":"(anonymous_6)","line":71,"loc":{"start":{"line":71,"column":9},"end":{"line":71,"column":28}}},"7":{"name":"(anonymous_7)","line":72,"loc":{"start":{"line":72,"column":32},"end":{"line":72,"column":51}}},"8":{"name":"(anonymous_8)","line":86,"loc":{"start":{"line":86,"column":9},"end":{"line":86,"column":33}}},"9":{"name":"(anonymous_9)","line":87,"loc":{"start":{"line":87,"column":27},"end":{"line":87,"column":48}}},"10":{"name":"(anonymous_10)","line":98,"loc":{"start":{"line":98,"column":10},"end":{"line":98,"column":34}}},"11":{"name":"(anonymous_11)","line":99,"loc":{"start":{"line":99,"column":29},"end":{"line":99,"column":50}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":29}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"6":{"start":{"line":11,"column":24},"end":{"line":11,"column":40}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":11}},"8":{"start":{"line":13,"column":0},"end":{"line":20,"column":7}},"9":{"start":{"line":19,"column":8},"end":{"line":19,"column":21}},"10":{"start":{"line":23,"column":0},"end":{"line":23,"column":43}},"11":{"start":{"line":24,"column":0},"end":{"line":24,"column":44}},"12":{"start":{"line":25,"column":0},"end":{"line":25,"column":44}},"13":{"start":{"line":26,"column":0},"end":{"line":26,"column":44}},"14":{"start":{"line":27,"column":0},"end":{"line":27,"column":44}},"15":{"start":{"line":28,"column":0},"end":{"line":28,"column":46}},"16":{"start":{"line":29,"column":0},"end":{"line":29,"column":46}},"17":{"start":{"line":31,"column":0},"end":{"line":31,"column":41}},"18":{"start":{"line":32,"column":0},"end":{"line":32,"column":41}},"19":{"start":{"line":33,"column":0},"end":{"line":33,"column":41}},"20":{"start":{"line":34,"column":0},"end":{"line":34,"column":43}},"21":{"start":{"line":36,"column":0},"end":{"line":37,"column":67}},"22":{"start":{"line":39,"column":0},"end":{"line":39,"column":19}},"23":{"start":{"line":41,"column":0},"end":{"line":108,"column":1}},"24":{"start":{"line":45,"column":2},"end":{"line":45,"column":17}},"25":{"start":{"line":47,"column":2},"end":{"line":47,"column":18}},"26":{"start":{"line":48,"column":2},"end":{"line":48,"column":16}},"27":{"start":{"line":49,"column":2},"end":{"line":49,"column":34}},"28":{"start":{"line":51,"column":2},"end":{"line":53,"column":5}},"29":{"start":{"line":52,"column":3},"end":{"line":52,"column":51}},"30":{"start":{"line":55,"column":2},"end":{"line":55,"column":17}},"31":{"start":{"line":56,"column":2},"end":{"line":66,"column":5}},"32":{"start":{"line":59,"column":4},"end":{"line":62,"column":5}},"33":{"start":{"line":60,"column":5},"end":{"line":60,"column":24}},"34":{"start":{"line":61,"column":5},"end":{"line":61,"column":20}},"35":{"start":{"line":65,"column":3},"end":{"line":65,"column":29}},"36":{"start":{"line":71,"column":2},"end":{"line":82,"column":4}},"37":{"start":{"line":72,"column":3},"end":{"line":81,"column":6}},"38":{"start":{"line":73,"column":4},"end":{"line":73,"column":22}},"39":{"start":{"line":75,"column":4},"end":{"line":75,"column":19}},"40":{"start":{"line":76,"column":4},"end":{"line":76,"column":23}},"41":{"start":{"line":77,"column":4},"end":{"line":77,"column":21}},"42":{"start":{"line":78,"column":4},"end":{"line":78,"column":16}},"43":{"start":{"line":79,"column":4},"end":{"line":79,"column":26}},"44":{"start":{"line":87,"column":2},"end":{"line":94,"column":5}},"45":{"start":{"line":88,"column":3},"end":{"line":91,"column":4}},"46":{"start":{"line":89,"column":4},"end":{"line":89,"column":23}},"47":{"start":{"line":90,"column":4},"end":{"line":90,"column":19}},"48":{"start":{"line":93,"column":3},"end":{"line":93,"column":26}},"49":{"start":{"line":99,"column":2},"end":{"line":106,"column":5}},"50":{"start":{"line":100,"column":3},"end":{"line":103,"column":4}},"51":{"start":{"line":101,"column":4},"end":{"line":101,"column":23}},"52":{"start":{"line":102,"column":4},"end":{"line":102,"column":19}},"53":{"start":{"line":105,"column":3},"end":{"line":105,"column":26}},"54":{"start":{"line":110,"column":0},"end":{"line":110,"column":33}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":0},"end":{"line":11,"column":0}},{"start":{"line":11,"column":0},"end":{"line":11,"column":0}}]},"2":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":4}},{"start":{"line":59,"column":4},"end":{"line":59,"column":4}}]},"3":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":3},"end":{"line":88,"column":3}},{"start":{"line":88,"column":3},"end":{"line":88,"column":3}}]},"4":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":3},"end":{"line":100,"column":3}},{"start":{"line":100,"column":3},"end":{"line":100,"column":3}}]}},"code":["","// Proxy Management model","","var myredis = require('../../lib/myredis.js');","var async = require('async');","//var settings = require('../../instance/webconfig/settings.json');","","var settings = global.settings;","","var dbtype = 'redis';","if(settings['use_ssdb'])dbtype = 'ssdb';","var client;","myredis.createClient(","    settings['proxy_info_redis_db'][0],","    settings['proxy_info_redis_db'][1],","    settings['proxy_info_redis_db'][2],","    dbtype,","    function(err,cli){","        client = cli;","    });","","// available proxy list","PROXY_P_PREFIX = 'proxy:public:available:';","PROXY_P_KEY1S = 'proxy:public:available:1s';","PROXY_P_KEY3S = 'proxy:public:available:3s';","PROXY_P_KEY5S = 'proxy:public:available:5s';","PROXY_P_KEY8S = 'proxy:public:available:8s';","PROXY_P_KEY12S = 'proxy:public:available:12s';","PROXY_P_KEY20S = 'proxy:public:available:20s';","","PROXY_V_KEY1S = 'proxy:vip:available:1s';","PROXY_V_KEY3S = 'proxy:vip:available:3s';","PROXY_V_KEY8S = 'proxy:vip:available:8s';","PROXY_V_KEY15S = 'proxy:vip:available:15s';","","PROXY_KEYS = [PROXY_P_KEY1S,PROXY_P_KEY3S,PROXY_P_KEY5S,PROXY_P_KEY8S,PROXY_P_KEY12S,PROXY_P_KEY20S,","\t\t\tPROXY_V_KEY1S,PROXY_V_KEY3S, PROXY_V_KEY8S, PROXY_V_KEY15S, ''];","","var proxyList = [];","","var proxyManagement = {","\t","\t// get all available proxy by their response time","\tgetProxyList: function(fn){","\t\tproxyList = [];","","\t\tvar self = this;","\t\tvar keys = [];","\t\tvar callFunctions = new Array();","","\t\tPROXY_KEYS.forEach(function(entry){","\t\t\tcallFunctions.push(self.proxyByResponse(entry));","\t\t});","","\t\tvar proxy = {};","\t\tasync.series(","\t\t\tcallFunctions,","\t\t\tfunction(err, result){","\t\t\t\tif(err) {","\t\t\t\t\tconsole.error(err);","\t\t\t\t\treturn fn(err);","\t\t\t\t}","//\t\t\t\tconsole.log(\"proxyList:\", proxyList);","","\t\t\treturn fn(err, proxyList);","\t\t});","\t},","","\t//","\tproxyByResponse: function(member) {","\t\treturn function(callback) {","\t\t\tclient.lrange(member, 0, -1, function(err, obj) {","\t\t\t\tcallback(err,obj);","\t\t\t\t","\t\t\t\tvar proxy = {};","\t\t\t\tproxy.key = member;","\t\t\t\tproxy.list = obj;","\t\t\t\tobj = proxy;","\t\t\t\tproxyList.push(proxy);","\t\t\t\t","\t\t\t});","\t\t};","\t},","","\t// create new proxy","\tcreate: function(key, proxy, fn){","\t\tclient.rpush(key, proxy, function(err, result){","\t\t\tif(err){","\t\t\t\tconsole.error(err);","\t\t\t\treturn fn(err);","\t\t\t}","//\t\t\tconsole.log(\"New proxy \", key, \" was created.\");","\t\t\treturn fn(err, result);","\t\t});","\t},","","\t// delete proxy","\tdestroy: function(key, proxy, fn){","\t\tclient.lrem(key, 0, proxy, function(err, result){","\t\t\tif(err){","\t\t\t\tconsole.error(err);","\t\t\t\treturn fn(err);","\t\t\t}","//\t\t\tconsole.log(\"proxy \", key, \" was deleted.\");","\t\t\treturn fn(err, result);","\t\t});","\t}","}","","module.exports = proxyManagement;"],"l":{"4":4,"5":4,"8":4,"10":4,"11":4,"12":0,"13":0,"19":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"31":0,"32":0,"33":0,"34":0,"36":0,"39":0,"41":0,"45":0,"47":0,"48":0,"49":0,"51":0,"52":0,"55":0,"56":0,"59":0,"60":0,"61":0,"65":0,"71":0,"72":0,"73":0,"75":0,"76":0,"77":0,"78":0,"79":0,"87":0,"88":0,"89":0,"90":0,"93":0,"99":0,"100":0,"101":0,"102":0,"105":0,"110":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/controllers/rule.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/controllers/rule.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"fnMap":{"1":{"name":"(anonymous_1)","line":43,"loc":{"start":{"line":43,"column":16},"end":{"line":43,"column":35}}},"2":{"name":"(anonymous_2)","line":49,"loc":{"start":{"line":49,"column":27},"end":{"line":49,"column":48}}},"3":{"name":"(anonymous_3)","line":67,"loc":{"start":{"line":67,"column":17},"end":{"line":67,"column":36}}},"4":{"name":"(anonymous_4)","line":72,"loc":{"start":{"line":72,"column":36},"end":{"line":72,"column":57}}},"5":{"name":"(anonymous_5)","line":80,"loc":{"start":{"line":80,"column":14},"end":{"line":80,"column":33}}},"6":{"name":"(anonymous_6)","line":89,"loc":{"start":{"line":89,"column":17},"end":{"line":89,"column":36}}},"7":{"name":"(anonymous_7)","line":98,"loc":{"start":{"line":98,"column":30},"end":{"line":98,"column":51}}},"8":{"name":"(anonymous_8)","line":108,"loc":{"start":{"line":108,"column":15},"end":{"line":108,"column":34}}},"9":{"name":"(anonymous_9)","line":110,"loc":{"start":{"line":110,"column":22},"end":{"line":110,"column":40}}},"10":{"name":"(anonymous_10)","line":120,"loc":{"start":{"line":120,"column":18},"end":{"line":120,"column":36}}},"11":{"name":"(anonymous_11)","line":123,"loc":{"start":{"line":123,"column":20},"end":{"line":123,"column":38}}},"12":{"name":"(anonymous_12)","line":126,"loc":{"start":{"line":126,"column":32},"end":{"line":126,"column":53}}},"13":{"name":"(anonymous_13)","line":136,"loc":{"start":{"line":136,"column":15},"end":{"line":136,"column":34}}},"14":{"name":"(anonymous_14)","line":139,"loc":{"start":{"line":139,"column":23},"end":{"line":139,"column":41}}},"15":{"name":"(anonymous_15)","line":165,"loc":{"start":{"line":165,"column":17},"end":{"line":165,"column":35}}},"16":{"name":"(anonymous_16)","line":184,"loc":{"start":{"line":184,"column":29},"end":{"line":184,"column":50}}},"17":{"name":"(anonymous_17)","line":195,"loc":{"start":{"line":195,"column":51},"end":{"line":195,"column":72}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":4,"column":0},"end":{"line":38,"column":2}},"3":{"start":{"line":40,"column":0},"end":{"line":40,"column":15}},"4":{"start":{"line":43,"column":0},"end":{"line":64,"column":2}},"5":{"start":{"line":47,"column":2},"end":{"line":62,"column":3}},"6":{"start":{"line":48,"column":4},"end":{"line":48,"column":31}},"7":{"start":{"line":49,"column":5},"end":{"line":57,"column":8}},"8":{"start":{"line":50,"column":9},"end":{"line":50,"column":24}},"9":{"start":{"line":51,"column":9},"end":{"line":51,"column":34}},"10":{"start":{"line":52,"column":9},"end":{"line":52,"column":44}},"11":{"start":{"line":53,"column":9},"end":{"line":55,"column":10}},"12":{"start":{"line":54,"column":14},"end":{"line":54,"column":42}},"13":{"start":{"line":56,"column":9},"end":{"line":56,"column":103}},"14":{"start":{"line":61,"column":6},"end":{"line":61,"column":79}},"15":{"start":{"line":67,"column":0},"end":{"line":77,"column":2}},"16":{"start":{"line":69,"column":4},"end":{"line":69,"column":33}},"17":{"start":{"line":70,"column":4},"end":{"line":70,"column":35}},"18":{"start":{"line":72,"column":4},"end":{"line":76,"column":6}},"19":{"start":{"line":73,"column":7},"end":{"line":73,"column":22}},"20":{"start":{"line":74,"column":7},"end":{"line":74,"column":32}},"21":{"start":{"line":75,"column":7},"end":{"line":75,"column":80}},"22":{"start":{"line":80,"column":0},"end":{"line":86,"column":2}},"23":{"start":{"line":81,"column":4},"end":{"line":81,"column":85}},"24":{"start":{"line":82,"column":4},"end":{"line":82,"column":27}},"25":{"start":{"line":89,"column":0},"end":{"line":105,"column":2}},"26":{"start":{"line":91,"column":4},"end":{"line":91,"column":36}},"27":{"start":{"line":92,"column":4},"end":{"line":92,"column":38}},"28":{"start":{"line":93,"column":4},"end":{"line":93,"column":70}},"29":{"start":{"line":98,"column":4},"end":{"line":102,"column":7}},"30":{"start":{"line":99,"column":8},"end":{"line":101,"column":9}},"31":{"start":{"line":104,"column":4},"end":{"line":104,"column":25}},"32":{"start":{"line":108,"column":0},"end":{"line":117,"column":2}},"33":{"start":{"line":109,"column":2},"end":{"line":109,"column":25}},"34":{"start":{"line":110,"column":2},"end":{"line":116,"column":5}},"35":{"start":{"line":115,"column":10},"end":{"line":115,"column":69}},"36":{"start":{"line":120,"column":0},"end":{"line":133,"column":2}},"37":{"start":{"line":121,"column":3},"end":{"line":121,"column":26}},"38":{"start":{"line":123,"column":3},"end":{"line":132,"column":6}},"39":{"start":{"line":124,"column":6},"end":{"line":131,"column":5}},"40":{"start":{"line":126,"column":10},"end":{"line":130,"column":9}},"41":{"start":{"line":127,"column":10},"end":{"line":127,"column":25}},"42":{"start":{"line":129,"column":10},"end":{"line":129,"column":31}},"43":{"start":{"line":136,"column":0},"end":{"line":162,"column":2}},"44":{"start":{"line":137,"column":2},"end":{"line":137,"column":25}},"45":{"start":{"line":139,"column":3},"end":{"line":161,"column":6}},"46":{"start":{"line":140,"column":6},"end":{"line":160,"column":7}},"47":{"start":{"line":142,"column":10},"end":{"line":142,"column":33}},"48":{"start":{"line":143,"column":10},"end":{"line":143,"column":56}},"49":{"start":{"line":144,"column":10},"end":{"line":156,"column":11}},"50":{"start":{"line":145,"column":14},"end":{"line":155,"column":15}},"51":{"start":{"line":146,"column":18},"end":{"line":154,"column":44}},"52":{"start":{"line":147,"column":22},"end":{"line":147,"column":54}},"53":{"start":{"line":148,"column":24},"end":{"line":154,"column":44}},"54":{"start":{"line":149,"column":22},"end":{"line":149,"column":52}},"55":{"start":{"line":150,"column":24},"end":{"line":154,"column":44}},"56":{"start":{"line":151,"column":22},"end":{"line":151,"column":40}},"57":{"start":{"line":152,"column":24},"end":{"line":154,"column":44}},"58":{"start":{"line":153,"column":22},"end":{"line":153,"column":41}},"59":{"start":{"line":154,"column":24},"end":{"line":154,"column":44}},"60":{"start":{"line":157,"column":8},"end":{"line":157,"column":69}},"61":{"start":{"line":159,"column":8},"end":{"line":159,"column":70}},"62":{"start":{"line":165,"column":0},"end":{"line":203,"column":2}},"63":{"start":{"line":166,"column":4},"end":{"line":166,"column":36}},"64":{"start":{"line":167,"column":4},"end":{"line":167,"column":38}},"65":{"start":{"line":168,"column":4},"end":{"line":168,"column":70}},"66":{"start":{"line":175,"column":4},"end":{"line":175,"column":21}},"67":{"start":{"line":176,"column":4},"end":{"line":182,"column":5}},"68":{"start":{"line":177,"column":8},"end":{"line":181,"column":9}},"69":{"start":{"line":178,"column":12},"end":{"line":180,"column":41}},"70":{"start":{"line":178,"column":45},"end":{"line":178,"column":85}},"71":{"start":{"line":180,"column":16},"end":{"line":180,"column":40}},"72":{"start":{"line":184,"column":3},"end":{"line":202,"column":6}},"73":{"start":{"line":185,"column":6},"end":{"line":201,"column":5}},"74":{"start":{"line":195,"column":4},"end":{"line":199,"column":6}},"75":{"start":{"line":196,"column":7},"end":{"line":196,"column":22}},"76":{"start":{"line":197,"column":7},"end":{"line":197,"column":32}},"77":{"start":{"line":198,"column":7},"end":{"line":198,"column":80}}},"branchMap":{"1":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":2},"end":{"line":47,"column":2}},{"start":{"line":47,"column":2},"end":{"line":47,"column":2}}]},"2":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":9},"end":{"line":53,"column":9}},{"start":{"line":53,"column":9},"end":{"line":53,"column":9}}]},"3":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":8},"end":{"line":99,"column":8}},{"start":{"line":99,"column":8},"end":{"line":99,"column":8}}]},"4":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":6},"end":{"line":124,"column":6}},{"start":{"line":124,"column":6},"end":{"line":124,"column":6}}]},"5":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":6},"end":{"line":140,"column":6}},{"start":{"line":140,"column":6},"end":{"line":140,"column":6}}]},"6":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":14},"end":{"line":145,"column":14}},{"start":{"line":145,"column":14},"end":{"line":145,"column":14}}]},"7":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":18},"end":{"line":146,"column":18}},{"start":{"line":146,"column":18},"end":{"line":146,"column":18}}]},"8":{"line":146,"type":"binary-expr","locations":[{"start":{"line":146,"column":21},"end":{"line":146,"column":46}},{"start":{"line":146,"column":49},"end":{"line":146,"column":71}},{"start":{"line":146,"column":73},"end":{"line":146,"column":95}}]},"9":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":24},"end":{"line":148,"column":24}},{"start":{"line":148,"column":24},"end":{"line":148,"column":24}}]},"10":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":24},"end":{"line":150,"column":24}},{"start":{"line":150,"column":24},"end":{"line":150,"column":24}}]},"11":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":24},"end":{"line":152,"column":24}},{"start":{"line":152,"column":24},"end":{"line":152,"column":24}}]},"12":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":8},"end":{"line":177,"column":8}},{"start":{"line":177,"column":8},"end":{"line":177,"column":8}}]},"13":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":12},"end":{"line":178,"column":12}},{"start":{"line":178,"column":12},"end":{"line":178,"column":12}}]},"14":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":6},"end":{"line":185,"column":6}},{"start":{"line":185,"column":6},"end":{"line":185,"column":6}}]}},"code":["var rule = require('../models/drillingRule.js');","","//default","var template =  {","        'domain': '',","        'url_pattern': '',","        'alias': '',","        'id_parameter': [],","        'encoding': 'auto',","        'type': 'node', //branch or node","        'save_page': true,","        'format': 'html',//html or json or binary","        'jshandle': false,","        'extract_rule':{","            'category':'crawled',","            'rule':{","                'title':{'base':'content','mode':'css','expression':'title','pick':'text','index':1}","            }","        },","        'cookie': [],","        'inject_jquery': false,","        'load_img': false,","        'drill_rules': [],","        'drill_relation': {","            'base':'content','mode':'css','expression':'title','pick':'text','index':1","        },","        'validation_keywords': [],","        'script': [],","        'navigate_rule': [],","        'stoppage': -1,","        'priority': 1,","        'weight': 10,","        'schedule_interval': 86400,","        'active': true,","        'seed': [],//[]","        'schedule_rule':'FIFO',// FIFO  or LIFO","        'use_proxy':false","};","","var rules = [];","","// index displaying all the drilling rules","exports.index = function(req, res) {","","  //req.session.searchBox = \"\";","","  if(req.session.list == null){","    req.session.searchBox = \"\";","     rule.getDrillingRules(function(err, result){","         rules = result; ","         req.session.list = rules;","         var totalPage = result.length / 15;","         if(totalPage > 0) {            ","              rules = result.slice(0, 15);","         }","         res.render('rule/index', {title : 'Drilling rule', session:req.session, totalPage:totalPage});","     });     ","      ","  }else{","      //req.session.searchBox = domain;","      res.render('rule/index', {title : 'Drilling rule', session:req.session});","  }"," ","};","","// search","exports.search = function(req, res) {","","    var domain = req.body.domain;","    req.session.searchBox = domain;","//    console.log('search:', domain);","    rule.getRulesByCondition(domain,function(err, result){","       rules = result; ","       req.session.list = rules;","       res.render('rule/index', {title : 'Drilling rule', session:req.session});","   });  ","};","","// display new rule form","exports.new = function(req, res) {","    var filePath = require('path').normalize(__dirname + \"/../public/rule/new.html\");","    res.sendfile(filePath);","","    //var filePath = require('path').normalize(__dirname + \"/../public/rule/added.html\");","    //res.render('rule/new', {title : 'New rule'});  ","};","","// add a rule, ****not use****","exports.create = function(req, res) {","  // get key and rule from form","    var jsonstr = req.body.jsondata;","    var jsonobj = JSON.parse(jsonstr);","    var key = 'driller:' + jsonobj['domain'] + ':' + jsonobj['alias'];","","//    console.log(\"key\", key);","    //console.log(\"url:\", urlencode(req.body.url_pattern));","","    rule.create(key, jsonobj, function(err, result){","        if(!err) {","","        }","    });","","    res.redirect('rule');","};","","// show a specific rule","exports.show = function(req, res) {","  var id = req.params.id;","  rule.displayOne(id, function(err, obj){","    /*","      if(obj)   ","          res.send('There is no rule with id of ' + req.params.id);","      else*/","          res.render('rule/show', {title : 'Show Rule', rule : obj});","  });","};","","// delete a widget","exports.destroy = function(req,res) {","   var id = req.params.id;","//   console.log(\"destroy id:\", id);","   rule.destroy(id, function(err, obj){","      if(!err){","//          console.log('Rule', req.params.id, 'deleted.');","          rule.getDrillingRules(function(err, result){","          rules = result; ","          //res.render('rule/index', {title : 'Drilling rule', rules:result});","          res.redirect('rule');","      });","    }","   }); ","};","","// display edit form","exports.edit = function(req, res) {","  var id = req.params.id;","//  console.log(\"id:\", id);","   rule.displayOne(id, function(err, obj){","      if(obj){","//        obj['id'] = id;","          var dataobj = template;","          var numberPattern = new RegExp(\"^\\-?[0-9]+$\");","          for(i in obj){","              if(obj.hasOwnProperty(i)){","                  if(typeof(obj[i])==='string'&&(obj[i].charAt(0)==='{'||obj[i].charAt(0)==='[')){","                      dataobj[i] = JSON.parse(obj[i]);","                  }else if(numberPattern.test(obj[i])){","                      dataobj[i] = parseInt(obj[i]);","                  }else if(obj[i]==='true'){","                      dataobj[i] = true;","                  }else if(obj[i]==='false'){","                      dataobj[i] = false;","                  }else dataobj[i] = obj[i];","              }","          }","        res.render('rule/edit', {title : 'Edit rule', rule:dataobj});","      }else{","        res.render('rule/edit', {title : 'Edit rule', rule:template});        ","      }","   });","};","","// upsert a rule","exports.update = function(req,res) {","    var jsonstr = req.body.jsondata;","    var jsonobj = JSON.parse(jsonstr);","    var key = 'driller:' + jsonobj['domain'] + ':' + jsonobj['alias'];","","    //console.log(\"url:\", urlencode(req.body.url_pattern));","//    console.log(\"edit update:\", req.body.drill_rules);","","    //req.session.searchBox = req.body.domain;","","    var dataobj = {};","    for(i in jsonobj){","        if(jsonobj.hasOwnProperty(i)){","            if(typeof(jsonobj[i])==='object')dataobj[i] = JSON.stringify(jsonobj[i]);","            else{","                dataobj[i] = jsonobj[i];}","        }","    }","","   rule.update(key, dataobj, function(err, result){","      if(!err){","            /*         ","          rule.getDrillingRules(function(err, result){","            rules = result; ","            req.session.list = rules;","            //res.render('rule/index', {title : 'Drilling rule', rules:result});","//            console.log('Rule', id, 'updated.');","            res.redirect('rule');","      });","*/","    rule.getRulesByCondition(req.session.searchBox,function(err, result){","       rules = result; ","       req.session.list = rules;","       res.render('rule/index', {title : 'Drilling rule', session:req.session});","   }); ","","    }","   });  ","};",""],"l":{"1":2,"4":0,"40":0,"43":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"56":0,"61":0,"67":0,"69":0,"70":0,"72":0,"73":0,"74":0,"75":0,"80":0,"81":0,"82":0,"89":0,"91":0,"92":0,"93":0,"98":0,"99":0,"104":0,"108":0,"109":0,"110":0,"115":0,"120":0,"121":0,"123":0,"124":0,"126":0,"127":0,"129":0,"136":0,"137":0,"139":0,"140":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"157":0,"159":0,"165":0,"166":0,"167":0,"168":0,"175":0,"176":0,"177":0,"178":0,"180":0,"184":0,"185":0,"195":0,"196":0,"197":0,"198":0}},"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/models/drillingRule.js":{"path":"/home/travis/build/npmtest/node-npmtest-neocrawler/node_modules/neocrawler/webconfig/models/drillingRule.js","s":{"1":4,"2":4,"3":4,"4":4,"5":4,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"fnMap":{"1":{"name":"(anonymous_1)","line":19,"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":21}}},"2":{"name":"(anonymous_2)","line":28,"loc":{"start":{"line":28,"column":19},"end":{"line":28,"column":31}}},"3":{"name":"(anonymous_3)","line":33,"loc":{"start":{"line":33,"column":27},"end":{"line":33,"column":46}}},"4":{"name":"(anonymous_4)","line":48,"loc":{"start":{"line":48,"column":6},"end":{"line":48,"column":27}}},"5":{"name":"(anonymous_5)","line":64,"loc":{"start":{"line":64,"column":19},"end":{"line":64,"column":36}}},"6":{"name":"(anonymous_6)","line":65,"loc":{"start":{"line":65,"column":9},"end":{"line":65,"column":28}}},"7":{"name":"(anonymous_7)","line":66,"loc":{"start":{"line":66,"column":26},"end":{"line":66,"column":45}}},"8":{"name":"(anonymous_8)","line":75,"loc":{"start":{"line":75,"column":22},"end":{"line":75,"column":45}}},"9":{"name":"(anonymous_9)","line":81,"loc":{"start":{"line":81,"column":22},"end":{"line":81,"column":41}}},"10":{"name":"(anonymous_10)","line":95,"loc":{"start":{"line":95,"column":6},"end":{"line":95,"column":27}}},"11":{"name":"(anonymous_11)","line":111,"loc":{"start":{"line":111,"column":9},"end":{"line":111,"column":32}}},"12":{"name":"(anonymous_12)","line":112,"loc":{"start":{"line":112,"column":26},"end":{"line":112,"column":47}}},"13":{"name":"(anonymous_13)","line":123,"loc":{"start":{"line":123,"column":13},"end":{"line":123,"column":28}}},"14":{"name":"(anonymous_14)","line":124,"loc":{"start":{"line":124,"column":21},"end":{"line":124,"column":39}}},"15":{"name":"(anonymous_15)","line":134,"loc":{"start":{"line":134,"column":9},"end":{"line":134,"column":32}}},"16":{"name":"(anonymous_16)","line":135,"loc":{"start":{"line":135,"column":26},"end":{"line":135,"column":47}}},"17":{"name":"(anonymous_17)","line":140,"loc":{"start":{"line":140,"column":50},"end":{"line":140,"column":71}}},"18":{"name":"(anonymous_18)","line":149,"loc":{"start":{"line":149,"column":10},"end":{"line":149,"column":26}}},"19":{"name":"(anonymous_19)","line":150,"loc":{"start":{"line":150,"column":20},"end":{"line":150,"column":38}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":29}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"6":{"start":{"line":11,"column":24},"end":{"line":11,"column":40}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":11}},"8":{"start":{"line":14,"column":0},"end":{"line":21,"column":7}},"9":{"start":{"line":20,"column":8},"end":{"line":20,"column":21}},"10":{"start":{"line":23,"column":0},"end":{"line":23,"column":42}},"11":{"start":{"line":25,"column":0},"end":{"line":160,"column":1}},"12":{"start":{"line":30,"column":2},"end":{"line":30,"column":18}},"13":{"start":{"line":31,"column":2},"end":{"line":31,"column":16}},"14":{"start":{"line":33,"column":2},"end":{"line":59,"column":5}},"15":{"start":{"line":34,"column":3},"end":{"line":57,"column":5}},"16":{"start":{"line":35,"column":5},"end":{"line":35,"column":34}},"17":{"start":{"line":39,"column":5},"end":{"line":39,"column":37}},"18":{"start":{"line":42,"column":5},"end":{"line":42,"column":20}},"19":{"start":{"line":43,"column":5},"end":{"line":45,"column":6}},"20":{"start":{"line":44,"column":6},"end":{"line":44,"column":57}},"21":{"start":{"line":46,"column":5},"end":{"line":55,"column":8}},"22":{"start":{"line":49,"column":7},"end":{"line":52,"column":8}},"23":{"start":{"line":50,"column":8},"end":{"line":50,"column":27}},"24":{"start":{"line":51,"column":8},"end":{"line":51,"column":23}},"25":{"start":{"line":54,"column":6},"end":{"line":54,"column":29}},"26":{"start":{"line":65,"column":2},"end":{"line":71,"column":4}},"27":{"start":{"line":66,"column":3},"end":{"line":70,"column":6}},"28":{"start":{"line":68,"column":4},"end":{"line":68,"column":23}},"29":{"start":{"line":69,"column":4},"end":{"line":69,"column":22}},"30":{"start":{"line":77,"column":2},"end":{"line":77,"column":18}},"31":{"start":{"line":78,"column":2},"end":{"line":78,"column":16}},"32":{"start":{"line":79,"column":2},"end":{"line":79,"column":43}},"33":{"start":{"line":81,"column":2},"end":{"line":106,"column":5}},"34":{"start":{"line":82,"column":3},"end":{"line":104,"column":5}},"35":{"start":{"line":83,"column":5},"end":{"line":83,"column":34}},"36":{"start":{"line":86,"column":5},"end":{"line":86,"column":37}},"37":{"start":{"line":89,"column":5},"end":{"line":89,"column":20}},"38":{"start":{"line":90,"column":5},"end":{"line":92,"column":6}},"39":{"start":{"line":91,"column":6},"end":{"line":91,"column":57}},"40":{"start":{"line":93,"column":5},"end":{"line":102,"column":8}},"41":{"start":{"line":96,"column":7},"end":{"line":99,"column":8}},"42":{"start":{"line":97,"column":8},"end":{"line":97,"column":27}},"43":{"start":{"line":98,"column":8},"end":{"line":98,"column":23}},"44":{"start":{"line":101,"column":6},"end":{"line":101,"column":29}},"45":{"start":{"line":112,"column":2},"end":{"line":119,"column":5}},"46":{"start":{"line":113,"column":3},"end":{"line":116,"column":4}},"47":{"start":{"line":114,"column":4},"end":{"line":114,"column":23}},"48":{"start":{"line":115,"column":4},"end":{"line":115,"column":19}},"49":{"start":{"line":118,"column":3},"end":{"line":118,"column":26}},"50":{"start":{"line":124,"column":2},"end":{"line":130,"column":5}},"51":{"start":{"line":125,"column":3},"end":{"line":128,"column":4}},"52":{"start":{"line":126,"column":4},"end":{"line":126,"column":23}},"53":{"start":{"line":127,"column":4},"end":{"line":127,"column":19}},"54":{"start":{"line":129,"column":3},"end":{"line":129,"column":23}},"55":{"start":{"line":135,"column":2},"end":{"line":145,"column":5}},"56":{"start":{"line":136,"column":3},"end":{"line":139,"column":4}},"57":{"start":{"line":137,"column":4},"end":{"line":137,"column":23}},"58":{"start":{"line":138,"column":4},"end":{"line":138,"column":19}},"59":{"start":{"line":140,"column":3},"end":{"line":142,"column":6}},"60":{"start":{"line":144,"column":3},"end":{"line":144,"column":26}},"61":{"start":{"line":150,"column":2},"end":{"line":157,"column":5}},"62":{"start":{"line":151,"column":3},"end":{"line":154,"column":4}},"63":{"start":{"line":152,"column":4},"end":{"line":152,"column":23}},"64":{"start":{"line":153,"column":4},"end":{"line":153,"column":19}},"65":{"start":{"line":156,"column":3},"end":{"line":156,"column":23}},"66":{"start":{"line":161,"column":0},"end":{"line":161,"column":30}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":0},"end":{"line":11,"column":0}},{"start":{"line":11,"column":0},"end":{"line":11,"column":0}}]},"2":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":3},"end":{"line":34,"column":3}},{"start":{"line":34,"column":3},"end":{"line":34,"column":3}}]},"3":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":7},"end":{"line":49,"column":7}},{"start":{"line":49,"column":7},"end":{"line":49,"column":7}}]},"4":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":3},"end":{"line":82,"column":3}},{"start":{"line":82,"column":3},"end":{"line":82,"column":3}}]},"5":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":7},"end":{"line":96,"column":7}},{"start":{"line":96,"column":7},"end":{"line":96,"column":7}}]},"6":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":3},"end":{"line":113,"column":3}},{"start":{"line":113,"column":3},"end":{"line":113,"column":3}}]},"7":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":3},"end":{"line":125,"column":3}},{"start":{"line":125,"column":3},"end":{"line":125,"column":3}}]},"8":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":3},"end":{"line":136,"column":3}},{"start":{"line":136,"column":3},"end":{"line":136,"column":3}}]},"9":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":3},"end":{"line":151,"column":3}},{"start":{"line":151,"column":3},"end":{"line":151,"column":3}}]}},"code":["","// Drilling rule model","","var myredis = require('../../lib/myredis.js');","var async = require('async');","//var settings = require('../../instance/webconfig/settings.json');","","var settings = global.settings;","","var dbtype = 'redis';","if(settings['use_ssdb'])dbtype = 'ssdb';","var client;","","myredis.createClient(","    settings['driller_info_redis_db'][0],","    settings['driller_info_redis_db'][1],","    settings['driller_info_redis_db'][2],","    dbtype,","    function(err,cli){","        client = cli;","    });","","var UPDATED_TIME = \"updated:driller:rule\";","","var drillingRule = {","\t","\t// get all drilling rules","\tgetDrillingRules: function(fn){","","\t\tvar self = this;","\t\tvar keys = [];","\t\t// retrieve all of keys that match rule*","\t\tclient.hlist('driller*', function(err, keys){","\t\t\tif(err){","\t\t\t\t\tconsole.error('ERROR:', err);","\t\t\t\t}else{","//\t\t\t\t\tconsole.log(\"keys : \", keys);","","\t\t\t\t\tvar callFunctions = new Array();","","","\t\t\t\t\tvar rules = [];","\t\t\t\t\tfor(k in keys){","\t\t\t\t\t\tcallFunctions.push(self.makeCallbackFunc(keys[k]));","\t\t\t\t\t}","\t\t\t\t\tasync.series(","\t\t\t\t\t\tcallFunctions,","\t\t\t\t\t\tfunction(err, result){","\t\t\t\t\t\t\tif(err) {","\t\t\t\t\t\t\t\tconsole.error(err);","\t\t\t\t\t\t\t\treturn fn(err);","\t\t\t\t\t\t\t}","","\t\t\t\t\t\treturn fn(err, result);","\t\t\t\t\t});","","\t\t\t\t}","\t\t\t","\t\t});","","\t},","","\t// get specific rule ","\tmakeCallbackFunc: function(member) {","\t\treturn function(callback) {","\t\t\tclient.hgetall(member, function(err, obj) {","\t\t\t\t//console.log(\"member:\", obj)","\t\t\t\tobj['id'] = member;","\t\t\t\tcallback(err,obj);","\t\t\t});","\t\t};","\t},","","\t// get all drilling rules","\tgetRulesByCondition: function(condition, fn){","","\t\tvar self = this;","\t\tvar keys = [];","\t\tvar regex = 'driller:' + condition + '*';","\t\t// retrieve all of keys that match rule*","\t\tclient.hlist(regex, function(err, keys){","\t\t\tif(err){","\t\t\t\t\tconsole.error('ERROR:', err);","\t\t\t\t}else{","","\t\t\t\t\tvar callFunctions = new Array();","","","\t\t\t\t\tvar rules = [];","\t\t\t\t\tfor(k in keys){","\t\t\t\t\t\tcallFunctions.push(self.makeCallbackFunc(keys[k]));","\t\t\t\t\t}","\t\t\t\t\tasync.series(","\t\t\t\t\t\tcallFunctions,","\t\t\t\t\t\tfunction(err, result){","\t\t\t\t\t\t\tif(err) {","\t\t\t\t\t\t\t\tconsole.error(err);","\t\t\t\t\t\t\t\treturn fn(err);","\t\t\t\t\t\t\t}","\t\t\t\t\t\t//console.log(\"succeed.\", result);","\t\t\t\t\t\treturn fn(err, result);","\t\t\t\t\t});","","\t\t\t\t}","\t\t\t","\t\t});","","\t},","","\t// create rule","\tcreate: function(key, rule, fn){","\t\tclient.hmset(key, rule, function(err, result){","\t\t\tif(err){","\t\t\t\tconsole.error(err);","\t\t\t\treturn fn(err);","\t\t\t}","//\t\t\tconsole.log(\"New rule \", key, \" was created.\");","\t\t\treturn fn(err, result);","\t\t});","\t},","","\t// show specific rule","\tdisplayOne: function(id,fn){","\t\tclient.hgetall(id, function(err, obj){","\t\t\tif(err) {","\t\t\t\tconsole.error(err);","\t\t\t\treturn fn(err);","\t\t\t}","\t\t\treturn fn(err, obj);","\t\t});","\t},","","\t// update rule","\tupdate: function(key, rule, fn){","\t\tclient.hmset(key, rule, function(err, result){","\t\t\tif(err){","\t\t\t\tconsole.error(err);","\t\t\t\treturn fn(err);","\t\t\t}","\t\t\tclient.set(UPDATED_TIME, new Date().getTime(), function(err, result){","","\t\t\t});","//\t\t\tconsole.log(\"rule \", key, \" was updated.\");","\t\t\treturn fn(err, result);","\t\t});","\t},","","\t// destroy a rule","\tdestroy: function(id, fn){","\t\tclient.hclear(id, function(err, obj){","\t\t\tif(err) {","\t\t\t\tconsole.error(err);","\t\t\t\treturn fn(err);","\t\t\t}","//\t\t\tconsole.log(\"one rule:\", id, \" has been detroyed.\");","\t\t\treturn fn(err, obj);","\t\t});","\t}","","}","module.exports = drillingRule;"],"l":{"4":4,"5":4,"8":4,"10":4,"11":4,"12":0,"14":0,"20":0,"23":0,"25":0,"30":0,"31":0,"33":0,"34":0,"35":0,"39":0,"42":0,"43":0,"44":0,"46":0,"49":0,"50":0,"51":0,"54":0,"65":0,"66":0,"68":0,"69":0,"77":0,"78":0,"79":0,"81":0,"82":0,"83":0,"86":0,"89":0,"90":0,"91":0,"93":0,"96":0,"97":0,"98":0,"101":0,"112":0,"113":0,"114":0,"115":0,"118":0,"124":0,"125":0,"126":0,"127":0,"129":0,"135":0,"136":0,"137":0,"138":0,"140":0,"144":0,"150":0,"151":0,"152":0,"153":0,"156":0,"161":0}}}